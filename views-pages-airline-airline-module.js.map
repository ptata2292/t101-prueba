{"version":3,"sources":["./src/app/views/pages/airline/partials/airline-seat-availability/airline-seat-availability.component.ts","./src/app/views/pages/airline/partials/airline-seat-availability/airline-seat-availability.component.html","./src/app/views/pages/airline/services/airline-retrieve.service.ts","./src/app/views/pages/airline/pages/airline-reshop/airline-reshop.component.ts","./src/app/views/pages/airline/pages/airline-reshop/airline-reshop.component.html","./src/app/views/pages/airline/pages/airline-order/airline-order.component.ts","./src/app/views/pages/airline/pages/airline-order/airline-order.component.html","./src/app/views/pages/airline/partials/airline-contact-form/airline-contact-form.component.ts","./src/app/views/pages/airline/partials/airline-contact-form/airline-contact-form.component.html","./src/app/views/pages/airline/partials/airline-passenger-list/airline-passenger-list.component.ts","./src/app/views/pages/airline/partials/airline-passenger-list/airline-passenger-list.component.html","./src/app/views/pages/airline/partials/airline-payment-form/airline-payment-form.component.ts","./src/app/views/pages/airline/partials/airline-payment-form/airline-payment-form.component.html","./src/app/shared/services/credit-card.service.ts","./src/app/views/pages/airline/partials/airline-loader/airline-loader.component.ts","./src/app/views/pages/airline/partials/airline-loader/airline-loader.component.html","./src/app/views/pages/airline/partials/airline-order-changes/airline-order-changes.component.ts","./src/app/views/pages/airline/partials/airline-order-changes/airline-order-changes.component.html","./src/app/views/pages/airline/pages/airline-search/airline-search.component.ts","./src/app/views/pages/airline/pages/airline-search/airline-search.component.html","./src/app/views/pages/airline/partials/airport-code-search/airport-code-search.component.ts","./src/app/views/pages/airline/partials/airport-code-search/airport-code-search.component.html","./src/app/views/pages/airline/services/airline-flight.service.ts","./src/app/views/pages/airline/partials/airport-search-date/airport-search-date.component.ts","./src/app/views/pages/airline/partials/airport-search-date/airport-search-date.component.html","./src/app/views/pages/airline/services/airline-change-order.service.ts","./src/app/views/pages/airline/services/airline-offer.service.ts","./src/app/views/pages/airline/services/airline-datetime.service.ts","./src/app/views/pages/airline/services/airline-passenger.service.ts","./src/app/views/pages/airline/partials/airline-search-result/airline-search-result.component.ts","./src/app/views/pages/airline/partials/airline-search-result/airline-search-result.component.html","./src/app/views/pages/airline/pages/airline-orders/airline-orders.component.ts","./src/app/views/pages/airline/pages/airline-orders/airline-orders.component.html","./src/app/views/pages/airline/services/airline-fare.service.ts","./src/app/views/pages/airline/pages/airline-container/airline.component.ts","./src/app/views/pages/airline/pages/airline-container/airline.component.html","./node_modules/fast-deep-equal/index.js","./src/app/views/pages/airline/enums/flight-fare-price-info-view.enum.ts","./src/app/views/pages/airline/partials/airline-flight-item/airline-flight-item.component.ts","./src/app/views/pages/airline/partials/airline-flight-item/airline-flight-item.component.html","./src/app/views/pages/airline/services/airline-payment.service.ts","./src/app/views/pages/airline/partials/airline-flight-fare-info/airline-flight-fare-info.component.ts","./src/app/views/pages/airline/partials/airline-flight-fare-info/airline-flight-fare-info.component.html","./src/app/views/pages/airline/airline.ts","./src/app/views/pages/airline/partials/airline-search-travellers/airline-search-travellers.component.ts","./src/app/views/pages/airline/partials/airline-search-travellers/airline-search-travellers.component.html","./src/app/views/pages/airline/services/airline-seat-availability.service.ts","./src/app/views/pages/airline/pages/airline-payment/airline-payment.component.ts","./src/app/views/pages/airline/pages/airline-payment/airline-payment.component.html","./src/app/views/pages/airline/partials/airline-order-rloc/airline-order-rloc.component.ts","./src/app/views/pages/airline/partials/airline-order-rloc/airline-order-rloc.component.html","./src/app/operators/dirtyCheck.ts","./src/app/views/pages/airline/partials/airline-search-header/airline-search-header.component.ts","./src/app/views/pages/airline/partials/airline-search-header/airline-search-header.component.html","./src/app/views/pages/airline/pages/airline-dashboard/airline-dashboard.component.ts","./src/app/views/pages/airline/pages/airline-dashboard/airline-dashboard.component.html","./src/app/views/pages/airline/services/airline-loader.service.ts","./src/app/views/pages/airline/pages/airline-create-order/airline-create-order.component.ts","./src/app/views/pages/airline/pages/airline-create-order/airline-create-order.component.html","./src/app/views/pages/airline/partials/airline-errors/airline-errors.component.ts","./src/app/views/pages/airline/partials/airline-errors/airline-errors.component.html","./src/app/views/pages/airline/services/airline-order.service.ts","./src/app/views/pages/airline/partials/airline-payment-summary/airline-payment-summary.component.ts","./src/app/views/pages/airline/partials/airline-payment-summary/airline-payment-summary.component.html","./src/app/views/pages/airline/airline.module.ts","./src/app/views/pages/airline/partials/airline-order-summary/airline-order-summary.component.ts","./src/app/views/pages/airline/partials/airline-order-summary/airline-order-summary.component.html","./src/app/views/pages/airline/partials/airline-passenger-form/airline-passenger-form.component.ts","./src/app/views/pages/airline/partials/airline-passenger-form/airline-passenger-form.component.html","./src/app/views/pages/airline/services/airline-error.service.ts"],"names":[],"mappings":"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","file":"views-pages-airline-airline-module.js","sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { AirlineFlightSegmentViewModel } from '../../viewmodels/airline-flight-segment';\nimport { AirlineSeat } from '../../models/extra-service/airline-seat';\nimport { AirlinePassengerSummaryViewModel } from '../../viewmodels/airline-passenger';\nimport { AirlineSelectedSeatViewModel } from '../../viewmodels/airline-selected-seat';\nimport { AirlineChangeOrderService } from '../../services/airline-change-order.service';\n \n@Component({\n  selector: 'app-airline-seat-availability',\n  templateUrl: './airline-seat-availability.component.html',\n  styleUrls: ['./airline-seat-availability.component.css']\n})\nexport class AirlineSeatAvailabilityComponent extends Airline implements OnInit {\n\n  public isSubmitted = false;\n\n  @Input() flightSegment: AirlineFlightSegmentViewModel;\n  @Input() passengers: Array<AirlinePassengerSummaryViewModel>;\n  @Output() seatChanged = new EventEmitter();\n\n  public seatCharacteristics = {\n    '1':'Restricted Seat- General',\n    '2':'Leg rest available',\n    '3':'Individual video screen - Choice of movies',\n    '4':'Not a window seat',\n    '5':'Not an aisle seat',\n    '6':'Near galley seat',\n    '7':'Near toilet seat',\n    '8':'No seat at this location',\n    '9':'Center seat (not window, not aisle)',\n    '10':'Seat designated for RBD \"A\"',\n    '11':'Seat designated for RBD \"B\"',\n    '12':'Seat designated for RBD \"C\"',\n    '13':'Seat designated for RBD \"D\"',\n    '14':'Seat designated for RBD \"F\"',\n    '15':'Seat designated for RBD \"H\"',\n    '16':'Seat designated for RBD \"J\"',\n    '17':'Seat designated for RBD \"K\"',\n    '18':'Seat designated for RBD \"L\"',\n    '19':'Seat designated for RBD \"M\"',\n    '20':'Seat designated for RBD \"P\"',\n    '21':'Seat designated for RBD \"Q\"',\n    '22':'Seat designated for RBD \"R\"',\n    '23':'Seat designated for RBD \"S\"',\n    '24':'Seat designated for RBD \"T\"',\n    '25':'Seat designated for RBD \"V\"',\n    '26':'Seat designated for RBD \"W\"',\n    '27':'Seat designated for RBD \"Y\"',\n    'A':'Aisle seat',\n    'AA':'All available aisle seats',\n    'AB':'Seat adjacent to bar',\n    'AC':'Seat adjacent to closet',\n    'AG':'Seat adjacent to galley',\n    'AJ':'Adjacent aisle seats',\n    'AL':'Seat adjacent to lavatory',\n    'AM':'Individual movie screen - No choice of movie selection',\n    'AR':'No seat - airphone',\n    'AS':'Individual airphone',\n    'AT':'Seat adjacent to table',\n    'AU':'Seat adjacent to stairs to upper deck',\n    'AV':'Only available seats',\n    'AW':'All available window seats',\n    'B':'Seat with bassinet facility',\n    'BA':'No seat - bar',\n    'BK':'Blocked Seat for preferred passenger in adjacent seat',\n    'C':'Crew seat',\n    'CC':'Center section seat(s)',\n    'CL':'No seat - closet',\n    'CS':'Conditional seat - contact airline',\n    'D':'No seat - exit door',\n    'DE':'Deportee',\n    'E':'Exit row seat',\n    'EA':'S Not an exit seat',\n    'EC':'Electronic connection for lap top or FAX machine',\n    'EX':'No seat - emergency Exit',\n    'F':'Added seat',\n    'FC':'Front of cabin class/compartment',\n    'G':'Seat at forward end of cabin',\n    'GF':'General facility',\n    'GN':'No seat - galley',\n    'GR':'Group seat - offered to travellers belonging to a group',\n    'H':'Seat with facilities for handicapped/incapacitated passenger',\n    'I':'Seat suitable for adult with an infant',\n    'IA':'Inside aisle seats',\n    'IE':'Seat not suitable for child',\n    'J':'Rear facing seat',\n    'K':'Bulkhead seat',\n    'KA':'Bulkhead seat with movie screen',\n    'KN':'Bulkhead, no seat',\n    'L':'Leg space seat',\n    'LA':'No seat - lavatory',\n    'LG':'No seat - luggage storage',\n    'LH':'Restricted seat - offered on long-haul segments',\n    'LS':'Left side of aircraft',\n    'M':'Seat without a movie view',\n    'MA':'Medically OK to travel',\n    'N':'No smoking seat',\n    'O':'Preferential seat',\n    'OW':'Over wing seat(s)',\n    'P':'Priority Seat',\n    'PC':'Pet cabin',\n    'PP':'Power Port',\n    'Q':'Seat in a quiet zone',\n    'RS':'Right side of aircraft',\n    'S':'Smoking seat',\n    'SO':'No seat - storage space',\n    'ST':'No seat - stairs to upper deck',\n    'T':'Rear/Tail section of aircraft',\n    'TA':'No seat - table',\n    'U':'Seat suitable for unaccompanied minors',\n    'UP':'Upper deck',\n    'V':'Seat to be left vacant or offered last',\n    'W':'Window seat',\n    'WA':'Window and aisle together',\n    'X':'No facility seat (indifferent seat)',\n    'Z':'Buffer zone seat',\n    '1A':'Seat not allowed for infant',\n    '1B':'Seat not allowed for medical',\n    '1C':'Seat not allowed for unaccompanied minor',\n    '1D':'Restricted recline seat',\n    '1M':'Seat with movie view',\n    '1W':'Window seat without window',\n    '3A':'Individual video screen - No choice of movie',\n    '3B':'Individual video screen - Choice of movies, games, information, etc.',\n    '6A':'In front of galley seat',\n    '6B':'Behind galley seat',\n    '7A':'In front of toilet seat',\n    '7B':'Behind toilet seat',\n    '700':'Individual video screen - services unspecified',\n    '701':'No seat - access to handicapped lavatory',\n  };\n\n  // AirAvailabilityRS/OriginDestination/Flight/Segment/Classes/ClassOfService/@Status\n  // TimeTableRS/TimeTable/OriginDestination/Flight/Segment/Classes/ClassOfService/@Status\n  public seatStatus = {\n    'A':'Seats are available',\n    'L':'Waitlist open for the segment and class',\n    'C':'Waitlist closed',\n    'R':'Seats on request only to airline',\n    'S':'Waitlist closed',\n    '0':'number of at least available seats',\n    '1':'number of at least available seats',\n    '2':'number of at least available seats',\n    '3':'number of at least available seats',\n    '4':'number of at least available seats',\n    '5':'number of at least available seats',\n    '6':'number of at least available seats',\n    '7':'number of at least available seats',\n    '8':'number of at least available seats',\n    '9':'number of at least available seats'\n  }\n  public cabinTypes = {\n    'F': 'First Class',\n    'J': 'Premium Business Class',\n    'C': 'Business Class',\n    'W': 'Premium Economy Class',\n    'Y': 'Coach (Economy) Class'\n  }\n\n  constructor(loginService: LoginService, private airlineChangeOrderService: AirlineChangeOrderService) {\n    super(loginService);\n  }\n\n  ngOnInit(): void {\n    \n  }\n\n  rowspanSeat(seat) {\n    return seat.rowspan == null ? 1 : seat.rowspan;\n  }\n\n  colspanSeat(seat) {\n    return seat.colspan == null ? 1 : seat.colspan;\n  }\n  isSeat(seat) {\n    return !seat.notSeat && !seat.hidden\n              && !seat.isSeatNumberDisplay && !seat.icon;\n  }\n\n  getSeatClass(seat) {\n    if(this.isSeatSelected(seat)) {\n      return \"bg-success border-1 border-light border-solid\";\n    }\n    if(this.isSeatAvailable(seat)) {\n      return \"bg-light-white border-1 border-secondary border-solid\";\n    }\n    return \"bg-complete border-1 border-light border-solid\";\n  }\n\n  isSeatSelected(seat: AirlineSeat) : AirlinePassengerSummaryViewModel{\n    return this.passengers.find(p => p.orderSummary.selectedSeats.find(s => s.seat.column == seat.column && s.seat.row == seat.rowNumber && s.segment.segmentKey == this.flightSegment.segmentKey));\n  }\n\n  seatClick(seat: AirlineSeat) {\n    let passengerOnSeat = this.isSeatSelected(seat);\n    if(!passengerOnSeat && this.isSeatAvailable(seat)) {\n      let passenger = this.getNextPassengerForSeatSelection();\n      if(!passenger){\n        return;\n      }\n\n      let currentPassengerSeat = passenger.orderSummary.selectedSeats.find(s => s.segment.segmentKey == this.flightSegment.segmentKey);\n      if (currentPassengerSeat){\n        passenger.orderSummary.selectedSeats.splice(passenger.orderSummary.selectedSeats.indexOf(currentPassengerSeat), 1);\n      }\n\n      let offerItem = seat.offerItemRefs.find(i => i.eligibility.passengerRefs.value.find(p => p.passengerID == passenger.data.passengerID));\n      let selectedSeat: AirlineSelectedSeatViewModel = {\n        column: seat.column,\n        row: seat.rowNumber,\n        passenger: passenger.data,\n        offerItemID: offerItem.offerItemID,\n        price: {\n          currency: offerItem.unitPriceDetail.totalAmount.detailCurrencyPrice.total.code,\n          value: offerItem.unitPriceDetail.totalAmount.detailCurrencyPrice.total.value * 0.01\n        } \n      };\n      passenger.orderSummary.selectedSeats.push({ segment: this.flightSegment, seat: selectedSeat });\n    }\n    else if(passengerOnSeat){\n      let selectedSeat = passengerOnSeat.orderSummary.selectedSeats.find(s => s.seat.column == seat.column && s.seat.row == seat.rowNumber && s.segment.segmentKey == this.flightSegment.segmentKey);\n      if (selectedSeat.seat.offerItemID){\n        passengerOnSeat.orderSummary.selectedSeats.splice(passengerOnSeat.orderSummary.selectedSeats.indexOf(selectedSeat), 1);\n      }\n    }\n    \n    let anyChanges = this.passengers.find(p => p.orderSummary.selectedSeats.find(s => s.seat.offerItemID));\n    this.seatChanged.emit(anyChanges);\n  }\n\n  getNextPassengerForSeatSelection() : AirlinePassengerSummaryViewModel{\n    let passenger = this.passengers.find(p => !p.orderSummary.selectedSeats.find(s => s.segment.segmentKey == this.flightSegment.segmentKey));\n    if(!passenger){\n      passenger = this.passengers.find(p => p.orderSummary.selectedSeats.find(s => s.segment.segmentKey == this.flightSegment.segmentKey && s.seat.offerItemID));\n    }\n    return passenger; \n  }\n\n  getSeatPrice(seat: AirlineSeat){\n    let nextPassenger = this.getNextPassengerForSeatSelection();\n    let offer = nextPassenger ?\n       seat.offerItemRefs.find(i => i.eligibility.passengerRefs.value.find(p => p.passengerID == nextPassenger.data.passengerID)):\n       seat.offerItemRefs[0];\n\n    let price = offer.unitPriceDetail.totalAmount.detailCurrencyPrice.total.value * 0.01;\n    return price;\n  }\n\n  isSeatAvailable(seat: AirlineSeat) {\n    if(seat.seatStatus == 'A') {\n      return true;\n    }\n    return false;\n  }\n\n  getTooltipText(seat) {\n    if(seat.seatCharacteristics != null && seat.seatCharacteristics.code != null){\n      // return seat.seatCharacteristics.code;\n      if(!this.isSeatAvailable(seat)) {\n        return \"Seat is not available\";\n      }\n      let codes = [];\n      for(let c of seat.seatCharacteristics.code) {\n        if(c != 'LS' && c!= 'RS' && codes.indexOf(this.seatCharacteristics[c]) < 0) {\n          codes.push(this.seatCharacteristics[c]);\n        }\n      }\n      return codes.join(', ');\n    }\n    return '';\n  }\n\n  isExitRowPositions(exitRowPositions, num) {\n   if(exitRowPositions!= null) {\n    for(let exitRowPosition of exitRowPositions) {\n      let first = Number(exitRowPosition.rowPosition[0].first.value);\n      let last = Number(exitRowPosition.rowPosition[0].last.value);\n      if( first <= num && last >= num) {\n        return true;\n      }\n     }\n   }\n   return false;\n  }\n}\n","<div class=\"d-flex flex-column flex-nowrap w-50 m-auto\" *ngIf=\"flightSegment.seatMap\">\n    <table class=\"economyClass mt-5 text-center\">\n        <ng-container *ngFor=\"let cabin of flightSegment.seatMap.cabin\">\n            <tr>\n                <td colspan=\"20\" class=\"h5 p-4\">{{cabinTypes[cabin.cabinType.code]}}</td>\n            </tr>\n            <tr *ngFor=\"let row of cabin.row; odd as isOdd;\">\n                <ng-container class=\"d-flex justify-content-center align-items-center\" *ngFor=\"let seatElement of row.seat; index as i; first as isFirst; last as isLast;\">\n                    <td *ngIf=\"isFirst\" [style.width.%] =\"cabin.width\">{{row.number != null ? row.number.value : ''}}</td>\n                    <td *ngIf=\"cabin.aisleIndexes.includes(i)\" [style.width.%] =\"cabin.width\"></td>\n                    <td *ngIf=\"seatElement.isSeatNumberDisplay\" [style.width.%] =\"cabin.width\">{{seatElement.value}}</td>\n                    <td *ngIf=\"seatElement.notSeat\" [style.width.%] =\"cabin.width\"></td>\n                    <td *ngIf=\"seatElement.icon != null\" [style.width.%] =\"cabin.width\">\n                        <img class=\"w-50px\" [src]=\"'assets/media/flightSeat/' + seatElement.icon\">\n                    </td>\n                    <td class=\"pointer\"\n                        [attr.rowspan]=\"rowspanSeat(seatElement)\" [attr.colspan]=\"colspanSeat(seatElement)\"\n                        *ngIf=\"isSeat(seatElement)\" [appTooltip]=\"seatElement\"\n                        [ngClass]=\"getSeatClass(seatElement)\" [style.width.%] =\"cabin.width\"\n                        (click)=\"seatClick(seatElement, row)\">\n                        <span [ngClass]=\"isSeatSelected(seatElement) ? ' text-light': 'text-muted'\" *ngIf=\"seatElement.seatStatus=='A'\">\n                            ${{getSeatPrice(seatElement) | number : '1.2-2'}}\n                        </span>\n                        <div (click)=\"false; $event.stopPropagation();\" *ngIf=\"seatElement.isPopUp\" id=\"popover\" class=\"popover fade show bs-popover-bottom\" role=\"tooltip\" x-placement=\"bottom\">\n                            <div class=\"arrow\" style=\"bottom: -2px; left: 3%;\"></div>\n                            <div class=\"popover-body font-size-lg p-0\">\n                                <div class=\"d-flex align-items-center flex-wrap justify-content-around p-3\">\n                                    <div class=\"d-flex align-items-center flex-lg-fill w-35\">\n                                        <div class=\"d-flex flex-column flex-wrap\">\n                                            <h4 class=\"mb-1\">{{seatElement.rowNumber + seatElement.column}} Seat</h4>\n                                            <div class=\"d-flex\" *ngIf=\"this.isSeatAvailable(seatElement)\">\n                                                <span class=\"text-dark-50 font-weight-bold mr-2\">${{getSeatPrice(seatElement) | number : '1.2-2'}} </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <!-- <div class=\"d-flex align-items-right\">\n                                        <div class=\"d-flex\">\n                                            <span class=\"border-0 border-right-sm border-right-secondary border-solid pt-0 pb-0 pl-5 pr-5\">\n                                                <i class=\"fa fa-fill-drip icon-lg\"></i><br>\n                                                <span class=\"h6\">AC</span>\n                                            </span>\n                                            <span class=\"pt-0 pb-0 pl-5 pr-5\">\n                                                <i class=\"fa fa-fill-drip icon-lg\"></i><br>\n                                                <span class=\"h6\">TV</span>\n                                            </span>\n                                        </div>\n                                    </div> -->\n                                </div>\n                                <div class=\"border-0 border-top-sm border-top-secondary border-solid p-3\">\n                                    {{getTooltipText(seatElement)}}\n                                </div>\n                            </div>\n                        </div>\n                    </td>\n                    <td *ngIf=\"isLast\" [style.width.%] =\"cabin.width\">{{row.number != null ? row.number.value : ''}}</td>\n                </ng-container>\n            </tr>\n        </ng-container>\n    </table>\n</div>\n\n<div class=\"d-none flex-column flex-nowrap overflow-auto\">\n    <div class=\"businessClass mt-5\">\n        <div class=\"font-size-h4 text-center\">Business class</div>\n        <div class=\"seat-row d-flex flex-row p-0\">\n            <div class=\"seat bg-white\">A</div>\n            <div class=\"seat bg-white\">B</div>\n            <div class=\"seat bg-white\"></div>\n            <div class=\"seat bg-white\">C</div>\n            <div class=\"seat bg-white\">D</div>\n        </div>\n        <div class=\"seat-row d-flex flex-row p-0\">\n            <div class=\"seat bg-primary\"></div>\n            <div class=\"seat bg-success\"></div>\n            <div class=\"seat bg-white\">1</div>\n            <div class=\"seat bg-primary\"></div>\n            <div class=\"seat bg-complete\"></div>\n        </div>\n        <div class=\"seat-row d-flex flex-row p-0\">\n            <div class=\"seat bg-danger\"></div>\n            <div class=\"seat bg-complete\"></div>\n            <div class=\"seat bg-white\">2</div>\n            <div class=\"seat bg-success\"></div>\n            <div class=\"seat bg-primary\"></div>\n        </div>\n    </div>\n\n    <div class=\"mainClass mt-5\">\n        <div class=\"font-size-h4 text-center\">Main class</div>\n        <div class=\"seat-row d-flex flex-row p-0\">\n            <div class=\"seat bg-white\">A</div>\n            <div class=\"seat bg-white\">B</div>\n            <div class=\"seat bg-white\">C</div>\n            <div class=\"seat bg-white\"></div>\n            <div class=\"seat bg-white\">D</div>\n            <div class=\"seat bg-white\">E</div>\n            <div class=\"seat bg-white\">F</div>\n        </div>\n        <div class=\"seat-row d-flex flex-row p-0\">\n            <div class=\"seat bg-primary\"></div>\n            <div class=\"seat bg-success\"></div>\n            <div class=\"seat bg-primary\"></div>\n            <div class=\"seat bg-white\">3</div>\n            <div class=\"seat bg-complete\"></div>\n            <div class=\"seat bg-primary\"></div>\n            <div class=\"seat bg-success\"></div>\n        </div>\n        <div class=\"seat-row d-flex flex-row p-0\">\n            <div class=\"seat bg-danger\"></div>\n            <div class=\"seat bg-complete\"></div>\n            <div class=\"seat bg-danger\"></div>\n            <div class=\"seat bg-white\">4</div>\n            <div class=\"seat bg-danger\"></div>\n            <div class=\"seat bg-success\"></div>\n            <div class=\"seat bg-primary\"></div>\n        </div>\n    </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams  } from '@angular/common/http';\nimport { catchError, retry, switchMap, tap } from 'rxjs/operators';\nimport { of, throwError } from 'rxjs';\nimport { environment } from '../../../../../environments/environment';\nimport { getAirAPI } from 'src/app/shared/tenant/tenant';\nimport { AirlineErrorService } from './airline-error.service';\nimport { AirlineLoaderService } from './airline-loader.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AirlineRetrieveService {\n  \n  private maxRetryCount: number = 4;\n\n  constructor(private httpClient: HttpClient,\n    private airlineLoaderService: AirlineLoaderService,\n    private errorService: AirlineErrorService) { }\n\n  // GET methods\n  searchAirport(airportCode) { \n    let url =  environment.airlinesApiEndpointNET +  'airport/dropdown';\n    let params = new HttpParams();\n    params = params.append('query', airportCode);\n    this.errorService.hideErrors();\n    return this.httpClient.get(url, {params: params}).pipe(\n      switchMap(data => this.catchFailResponse(data, url)),\n      retry(this.maxRetryCount),\n      catchError(e => this.handleError(e)),\n    );\n  }\n\n  getOrderByName(firstName: string, lastName: string) {\n    let url =  getAirAPI() +  'orders/name';\n    let params = new HttpParams();\n    if(!firstName){\n      firstName = ' ';\n    }\n    if(!lastName){\n      lastName = ' ';\n    }\n    params = params.append('firstName', firstName);\n    params = params.append('lastName', lastName);\n    this.errorService.hideErrors();\n    this.airlineLoaderService.showSearchResultLoader(\"Loading orders...\");\n    return this.httpClient.get(url, {params: params}).pipe(\n      switchMap(data => this.catchFailResponse(data, url)),\n      retry(this.maxRetryCount),\n      catchError(e => this.handleError(e))\n    );\n  }\n  \n  getOrderById(orderId: string) {\n    let url =  getAirAPI() +  'orders/'+ orderId;\n    this.errorService.hideErrors();\n    this.airlineLoaderService.showLoader(\"Loading order info...\");\n    return this.httpClient.get(url).pipe(\n      switchMap(data => this.catchFailResponse(data, url)),\n      retry(this.maxRetryCount),\n      catchError(e => this.handleError(e))\n    );\n  } \n\n  getOrderByRefId(aaId: string, firelogixId: string) {\n    let url = getAirAPI() +  'orders/refid';\n    let params = new HttpParams();\n    params = params.append('AAID', aaId);\n    params = params.append('FLXID', firelogixId);\n    this.errorService.hideErrors();\n    this.airlineLoaderService.showLoader();\n    return this.httpClient.get(url, {params: params}).pipe(\n      switchMap(data => this.catchFailResponse(data, url)),\n      retry(this.maxRetryCount),\n      catchError(e => this.handleError(e))\n    );\n  } \n\n  // POST methods\n  searchAirlines(query) {\n    let url = getAirAPI() +  'airshopping';\n    this.errorService.hideErrors();\n    this.airlineLoaderService.showSearchResultLoader(\"Searching best flights...\");\n    return this.httpClient.post(url, query).pipe(\n      switchMap(data => this.catchFailResponse(data, url, query)),\n      retry(this.maxRetryCount),\n      catchError(e => this.handleError(e))\n    );\n  }\n\n\n  getOfferPrice(query) {\n    let url =  getAirAPI() +  'offerprice';\n    this.errorService.hideErrors();\n    this.airlineLoaderService.showLoader(\"Booking selected offer...\");\n    return this.httpClient.post(url, query).pipe(\n      switchMap(data => this.catchFailResponse(data, url, query)),\n      retry(this.maxRetryCount),\n      catchError(e => this.handleError(e))\n    );\n  }\n  \n  createOrder(query) {\n    let url =  getAirAPI() +  'orders';\n    this.errorService.hideErrors();\n    this.airlineLoaderService.showLoader(\"Creating order...\");\n    return this.httpClient.post(url, query).pipe(\n      switchMap(data => this.catchFailResponse(data, url, query)),\n      retry(this.maxRetryCount),\n      catchError(e => this.handleError(e))\n    );\n  }\n\n  orderChange(query, text, skipHideLoader?: boolean) {\n    let url =  getAirAPI() +  'orderchange';\n    this.airlineLoaderService.showLoader(text);\n    return this.httpClient.post(url, query).pipe(\n      switchMap(data => this.catchFailResponse(data, url, query, skipHideLoader)),\n      retry(this.maxRetryCount),\n      catchError(e => this.handleError(e))\n    );\n  }\n\n  orderReshop(query) {\n    let url =  getAirAPI() +  'reshop';\n    this.errorService.hideErrors();\n    this.airlineLoaderService.showSearchResultLoader(\"Searching best flights...\");\n    return this.httpClient.post(url, query).pipe(\n      switchMap(data => this.catchFailResponse(data, url, query)),\n      retry(this.maxRetryCount),\n      catchError(e => this.handleError(e))\n    );\n  }\n  \n  getSeatAvailability(query) {\n    let url = getAirAPI() +  'seatavailability';\n    this.errorService.hideErrors();\n    this.airlineLoaderService.showSearchResultLoader(\"Loading available seats...\");\n    return this.httpClient.post(url, query).pipe(\n      switchMap(data => this.catchFailResponse(data, url, query)),\n      retry(this.maxRetryCount),\n      catchError(e => this.handleError(e))\n    );\n  } \n\n  // DELETE methods\n  cancelOrderById(orderId: string) {\n    let url =  getAirAPI() + 'orders/'+ orderId;\n    this.errorService.hideErrors();\n    this.airlineLoaderService.showLoader(\"Cancelling order...\");\n    return this.httpClient.delete(url).pipe(\n      switchMap(data => this.catchFailResponse(data, url)),\n      retry(this.maxRetryCount),\n      catchError(e => this.handleError(e))\n    );\n  }\n\n  // helpers\n  private catchFailResponse(data: any, url: string, query?: any, skipHideLoader?: boolean) {\n    \n    let warnings = [];\n    let errors = [];\n    let generalErrors = [];\n    let showErrorInfo = false;\n    let throwErrorRequired = false;\n    if(!data){\n      generalErrors.push({ value: \"Empty response from \" + url, data: query});\n      showErrorInfo = true;\n      throwErrorRequired = true;\n    }\n    if(data && data.errors){\n      showErrorInfo = true;\n      throwErrorRequired = true;\n      data.errors.error.forEach(e => errors.push(e));\n    }\n    \n    if(data && data.warnings){\n      showErrorInfo = true;\n      data.warnings.warning.forEach(w => warnings.push(w));\n    }\n    if(showErrorInfo){\n      if(throwErrorRequired){\n        return throwError({linksrezError: { errors, warnings, generalErrors}});\n      }\n      this.errorService.showErrors(errors, warnings, generalErrors);\n    }\n    \n    if(!skipHideLoader){\n      this.airlineLoaderService.hideLoader();\n      this.airlineLoaderService.hideSearchResultLoader();\n    }\n\n    return of(data);\n  }\n\n  private handleError(error) {\n    this.airlineLoaderService.hideLoader();\n    this.airlineLoaderService.hideSearchResultLoader();\n    if(!error){\n      return throwError(error);\n    }\n\n    if(error.linksrezError){\n      this.errorService.showErrors(error.linksrezError.errors, error.linksrezError.warnings, error.linksrezError.generalErrors);\n      return;\n    }\n\n    let errors = [];\n    let warnings = [];\n    let generalErrors = [];\n    if (error.error instanceof ErrorEvent) {\n      // client-side error\n      generalErrors.push({ value: `${error.error.message}`});\n    } else {\n      // server-side error\n      errors.push({status: error.status, value: error.message});\n    }\n    \n    this.errorService.showErrors(errors, warnings, generalErrors);\n  }\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { timeFormat } from 'src/app/shared/models/airline.model';\nimport { AirlineAirport } from '../../models/flight/airline-airport';\nimport { AirlineSearchFlight } from '../../models/flight/airline-search-flight';\nimport { AirlineOrderStatus } from '../../models/order/airline-order-status';\nimport { AirlineReshopOffer, AirlineReshopResponse } from '../../models/order/airline-reshop';\nimport { AirlineSearchHeaderComponent } from '../../partials/airline-search-header/airline-search-header.component';\nimport { AirlineChangeOrderService } from '../../services/airline-change-order.service';\nimport { AirlineDatetimeService } from '../../services/airline-datetime.service';\nimport { AirlineOfferService } from '../../services/airline-offer.service';\nimport { AirlineOrderService } from '../../services/airline-order.service';\nimport { AirlineRetrieveService } from '../../services/airline-retrieve.service';\nimport { AirlineOrderViewModel } from '../../viewmodels/airline-order';\nimport { AirlineSearch } from '../../viewmodels/airline-search';\nimport { AirlineSearchResult } from '../../viewmodels/airline-search-result';\n\n@Component({\n  selector: 'app-airline-reshop',\n  templateUrl: './airline-reshop.component.html',\n  styleUrls: ['./airline-reshop.component.scss']\n})\nexport class AirlineReshopComponent implements OnInit {\n\n  @ViewChild(AirlineSearchHeaderComponent) airlineSearchHeader: AirlineSearchHeaderComponent;\n\n  orderId;\n  searchResult: AirlineSearchResult;\n  orderViewModel: AirlineOrderViewModel;\n  search: AirlineSearch;\n  \n  constructor(private router: Router, \n    private airlineOrderService: AirlineOrderService,\n    private activatedRoute: ActivatedRoute,\n    private offerService: AirlineOfferService,\n    private airlineDatetimeService: AirlineDatetimeService,\n    private airlineChangeOrderService: AirlineChangeOrderService,\n    private airlineRetrieveService: AirlineRetrieveService) { \n    document.body.style.backgroundSize = \"100% 165px\";\n    this.activatedRoute.params.subscribe(params => {\n      this.orderId = params.id;\n    });\n\n    if(this.router.getCurrentNavigation().extras.state && this.router.getCurrentNavigation().extras.state.orderViewModel){\n      this.orderViewModel = this.router.getCurrentNavigation().extras.state.orderViewModel;\n      this.initAirlineSearch();\n    }\n    else{\n      this.airlineRetrieveService.getOrderById(this.orderId).subscribe((data: AirlineOrderStatus) => {\n        this.orderViewModel = this.airlineOrderService.getOrderViewModel(data);\n        this.initAirlineSearch();\n      });\n    }\n  }\n\n  ngOnInit(): void {\n    \n    this.searchResult = {\n      isSearchCompleted: false,\n      timeFormat: localStorage.getItem('timeFormat') as timeFormat || '24',\n      selectedOffer: null,\n      grouppedFlightList: null,\n      airlineSearch: null,\n      dataLists: null\n    };\n  }\n\n  initAirlineSearch(){\n    let flights = this.orderViewModel.flights.map(f => {\n      let from: AirlineAirport = <AirlineAirport>{ \n        id: f.departureAirportCode, \n        data: f.departureAirportCode, \n        value: f.departureAirportName \n      };\n      let to: AirlineAirport = <AirlineAirport>{ \n        id: f.arrivalAirportCode, \n        data: f.arrivalAirportCode, \n        value: f.arrivalAirportName\n      };\n      let departureDate: Date = new Date(f.departureDate);\n      let flight: AirlineSearchFlight = {\n        from: from,\n        to: to, \n        departureDate: departureDate\n      }\n      return flight;\n    });\n\n    this.search = {\n      flights: flights,\n      travellers: this.orderViewModel.passengers.map((p, i) => ({ptc: p.data.ptc, index: i})),\n      isLoyaltyAccountEnabled: false,\n      loyaltyAccountNumber: '',\n      tripType: this.orderViewModel.flights.length === 1 ? \"one\" : \n        this.orderViewModel.flights.length == 2 &&\n        this.orderViewModel.flights[0].departureAirportCode == this.orderViewModel.flights[1].arrivalAirportCode && \n        this.orderViewModel.flights[0].arrivalAirportCode == this.orderViewModel.flights[1].departureAirportCode ? \"round\" : \"multi\"\n    }; \n  }\n\n  backToOrderDetails(){\n    this.router.navigateByUrl('/Airlines/Orders/' + this.orderId, { state: { orderViewModel: this.orderViewModel }});\n  }\n\n  searchAirlines(){\n    this.searchResult.selectedOffer = null;\n    this.searchResult.grouppedFlightList = null;\n\n    let query = {\n      query: {\n        orderID: this.orderId,\n        reshop: {\n          orderServicing: {\n            add: {\n              flightQuery:{\n                originDestinations:{\n                  originDestination: this.search.flights.map(i => ({ departure: { airportCode: { value: i.from.data}, date: this.airlineDatetimeService.truncateTime(i.departureDate)}, arrival: {airportCode: {value: i.to.data}}}))\n                }\n              }\n            },\n            delete: {\n              orderItem: this.orderViewModel.originalOrderItems.map(i => ({orderItemID: i.orderItemID}))\n            }\n          }\n        }\n      } \n    }\n\n    this.airlineRetrieveService.orderReshop(query).subscribe((data: AirlineReshopResponse) => { \n      this.searchResult.responseID = data.response.reShoppingResponseID.responseID.value;\n      this.searchResult.dataLists = data.response.dataLists;\n      this.searchResult.grouppedFlightList = this.offerService.groupReshopOffers(data.response.reshopOffers.reshopOffer, this.searchResult.timeFormat);\n      this.searchResult.isSearchCompleted = true;\n    });\n  }\n  \n  reshop(){\n    let responseID = this.searchResult.responseID;\n    let selectedReshop : AirlineReshopOffer = <AirlineReshopOffer>this.searchResult.selectedOffer.originalOffer;\n    let offerViewModel = this.offerService.getReshopOfferViewModel(selectedReshop, this.searchResult.dataLists, responseID);\n    this.orderViewModel.changedOrder = offerViewModel;\n    this.airlineChangeOrderService.addChange(\"ChangeFlight\", this.orderId);\n    this.router.navigateByUrl('/Airlines/Orders/' + this.orderId, {state: { orderViewModel: this.orderViewModel }});\n  }\n}\n","<div *ngIf=\"orderId != null\">\n    <div class=\"content d-flex flex-column flex-column-fluid pt-0\" id=\"lr_content\">\n\n        <div class=\"d-flex flex-column-fluid borderHeader\">\n            <div class=\"container\"> \n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"brdSmallBlock gutter-b d-flex\">\n                            <div class=\"brdSmallBlock_inner pt-4 flex-column\">\n                                <h2 class=\"text-white h3 pl-2\">Change flights</h2>\n                                <h6 class=\"text-white-50 pl-2\">Select new departure / arriaval or change flight date</h6>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"gutter-b\">\n                    \n                    <div class=\"d-flex justify-content-end mb-3\">\n                        <button (click)=\"backToOrderDetails()\" class=\"btn btn-primary ml-5\" title=\"Back to order details\">Back to order details</button>\n                    </div>\n\n                    <div>\n                            <app-airline-search-header \n                                [blockClass]=\"'brdSmallBlock'\" \n                                [airlineSearch]=\"search\"\n                                [fontStyle]=\"'h4'\" \n                                [hidePtc]=\"true\"\n                                [showSearchButton]=\"true\"\n                                [loadLatestSearch]=\"false\"\n                                (search)=\"searchAirlines()\">\n                            </app-airline-search-header>\n                            \n                            <app-airline-search-result [searchResult]=\"searchResult\"\n                            [selectButtonText]=\"'Confirm'\" (selectionDone)=\"reshop()\"></app-airline-search-result>\n                        \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n","import { AfterViewInit, ChangeDetectorRef, Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { LocalStorage } from '../../../../../shared/storage/local-storage';\nimport { AirlineOrderService } from '../../services/airline-order.service';\nimport { DialogComponent } from '../../../../../shared/dialog/dialog.component';\nimport { DialogService } from '../../../../../shared/dialog/dialog.service';\nimport { AirlineRetrieveService } from '../../services/airline-retrieve.service';\nimport { AirlineOrderViewModel } from '../../viewmodels/airline-order';\nimport { AirlineOrderStatus } from '../../models/order/airline-order-status';\nimport { AirlineChangeOrderService } from '../../services/airline-change-order.service';\nimport { AirlinePassengerFormComponent } from '../../partials/airline-passenger-form/airline-passenger-form.component';\nimport { AirlineLoaderService } from '../../services/airline-loader.service';\nimport { getAirAPI } from 'src/app/shared/tenant/tenant';\n\n@Component({\n  selector: 'app-airline-order',\n  templateUrl: './airline-order.component.html',\n  styleUrls: ['./airline-order.component.scss']\n})\nexport class AirlineOrderComponent extends Airline implements OnInit ,AfterViewInit {\n\n  @ViewChild(AirlinePassengerFormComponent) airlinePassengerFormComponent : AirlinePassengerFormComponent;\n  \n  public isSubmitted = false;\n  public orderId;\n  public orderViewModel: AirlineOrderViewModel;\n\n  displayedColumns: string[] = ['Index', 'Name', 'Gender', 'DOB', 'TicketNo'];\n  @ViewChild('appDialog') appDialog: DialogComponent;\n\n  constructor(private router: Router, loginService: LoginService, private localStorage: LocalStorage,\n    private airlineOrderService: AirlineOrderService,\n    private airlineLoaderService: AirlineLoaderService,\n    private activatedRoute: ActivatedRoute, private dialogService: DialogService,\n    private retrieveService: AirlineRetrieveService,\n    private airlineChangeOrderService: AirlineChangeOrderService,\n    private cdRef: ChangeDetectorRef) {\n\n    super(loginService);\n\n    document.body.style.backgroundSize = \"100% 165px\";\n    this.activatedRoute.params.subscribe(params => {\n      this.orderId = params.id;\n    });\n\n    if(this.router.getCurrentNavigation().extras.state && this.router.getCurrentNavigation().extras.state.orderViewModel){\n      this.orderViewModel = this.router.getCurrentNavigation().extras.state.orderViewModel;\n    }\n    else{\n      this.retrieveService.getOrderById(this.orderId).subscribe((data: AirlineOrderStatus) => {\n        this.orderViewModel = this.airlineOrderService.getOrderViewModel(data);\n        this.orderChanged(data);\n      });\n    }\n  }\n\n  ngOnInit(){\n  }\n\n  public ngAfterViewInit(): void {\n    this.dialogService.register(this.appDialog, \"Cancel order\", \"Are you sure you want to cancel the current order?\", \"Yes\", \"No\");\n    this.cdRef.detectChanges();\n  }\n\n  passengerChanges(data: boolean){\n    if(data){\n      this.orderViewModel.changedPassengerList = {\n        passenger: this.airlinePassengerFormComponent.getPassengers()\n      };\n      this.airlineChangeOrderService.addChange('ChangePassengerInfo', this.orderId);\n    }\n    else{\n      this.orderViewModel.changedPassengerList = null;\n      this.airlineChangeOrderService.clearPassengerChanges(this.orderId);\n    }\n  }\n\n  getTotalPassengerCount() : number{\n    return this.orderViewModel.passengers.length;\n  }\n  \n  orderChanged(data): void{\n    this.orderViewModel = this.airlineOrderService.getOrderViewModel(data);\n  }\n\n  showDialog() {\n    this.dialogService.show()\n      .then((res) => {\n        console.log('ok clicked');\n        this.cancelOrder();\n      })\n      .catch((err) => {\n        console.log('cancel clicked');\n      });\n  }\n\n  public cancelOrder() {\n    this.retrieveService.cancelOrderById(this.orderId).subscribe((data: any) => {\n      this.orderViewModel = null;\n    });\n  }\n\n  cancelChanges(){\n    this.orderViewModel.editMode = false;\n    this.airlineChangeOrderService.clearChanges(this.orderId, this.orderViewModel);\n  }\n \n  saveChanges(){\n    if(!this.isSaveChangesEnabled()){ \n      return; \n    }\n    let result = null;\n    this.airlineChangeOrderService.acceptChanges(this.orderId, this.orderViewModel).subscribe(\n      (data) => { \n        result = data; \n      }, \n      () => {}, \n      () => {\n        this.airlineChangeOrderService.clearChanges(this.orderId, this.orderViewModel);\n        this.airlineLoaderService.hideLoader();\n        if(result){\n          this.orderViewModel = this.airlineOrderService.getOrderViewModel(result);\n        }\n    });\n  }\n\n  editOrder(){\n    this.orderViewModel.editMode = true;\n  }\n\n  editFlights(){\n    this.router.navigateByUrl('/Airlines/Reshop/' + this.orderId, { state: { orderViewModel: this.orderViewModel }});\n  }\n\n  isSaveChangesEnabled(): boolean{\n    return this.airlineChangeOrderService.anyChanges(this.orderId);\n  }\n\n  makePayment() {\n    this.router.navigateByUrl('/Airlines/Payment/' + this.orderId, {state: { orderViewModel: this.orderViewModel }});\n  }\n\n  navigateToOrderList(){\n    this.router.navigateByUrl('/Airlines/Orders');\n  }\n\n  navigateToSearch(){\n    this.router.navigateByUrl('/Airlines/Search');\n  }\n}\n","<div *ngIf=\"!orderViewModel\">\n    <div class=\"content d-flex flex-column flex-column-fluid pt-0\" id=\"lr_content\">\n        <div class=\"d-flex flex-column-fluid borderHeader\">\n            <div class=\"container\">\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"brdSmallBlock gutter-b d-flex\">\n                            <div class=\"brdSmallBlock_inner pt-4 flex-column\">\n                                <h2 class=\"text-white pl-2\"><span class=\"opacity-70\">Order Id: </span>{{orderId}}</h2>\n                                <h6 class=\"text-white-50 pl-2\">Your Order has been cancelled  <i class=\"fas fa-times-circle text-danger icon-xl\"></i></h6>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n    \n                <div class=\"gutter-b\">\n                    <div class=\"d-flex justify-content-end mb-3\">\n                        <button class=\"btn btn-primary ml-5\" (click)=\"navigateToSearch()\">Search</button>\n                        <button class=\"btn btn-primary ml-5\" (click)=\"navigateToOrderList()\">View Order List</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div *ngIf=\"orderId != null && orderViewModel && orderViewModel.flights && orderViewModel.flights.length > 0\">\n    <!--begin::Content-->\n    <div class=\"content d-flex flex-column flex-column-fluid pt-0\" id=\"lr_content\">\n        <!--begin::Entry-->\n        <div class=\"d-flex flex-column-fluid borderHeader\">\n            <!--begin::Container-->\n            <div class=\"container\">\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"brdSmallBlock gutter-b d-flex\">\n                            <div class=\"brdSmallBlock_inner pt-4 flex-column\">\n                                <app-airline-order-rloc class=\"pl-2\" [payments]=\"orderViewModel.payments\" [bookingReferences]=\"orderViewModel.bookingReferences\" [orderId]=\"orderId\"></app-airline-order-rloc>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <!--end::Row-->\n                <!--begin::Details-->\n                <div class=\"gutter-b\">\n                    <div class=\"d-flex justify-content-end mb-3\">\n                        <button class=\"btn btn-primary ml-5\" *ngIf=\"!orderViewModel.editMode\" (click)=\"editOrder()\">Edit order</button>\n                        <button (click)=\"navigateToOrderList()\" *ngIf=\"!orderViewModel.editMode\" class=\"btn btn-primary ml-5\" >Order list</button>\n                        <button (click)=\"showDialog()\" *ngIf=\"!orderViewModel.editMode\" class=\"btn btn-danger ml-10\" title=\"Cancel Order\">Cancel Order</button>\n                        <button class=\"btn btn-success ml-5\" *ngIf=\"orderViewModel.editMode\" [ngClass]=\"isSaveChangesEnabled() ? '': 'disabled'\" (click)=\"saveChanges()\">Save changes</button>\n                        <button class=\"btn btn-primary ml-5\" *ngIf=\"orderViewModel.editMode\" (click)=\"cancelChanges()\">Cancel changes</button>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-9\">\n                        <div class=\"card card-custom mb-5\" *ngIf=\"orderViewModel.editMode && orderViewModel.changedOrder\">\n                            <div class=\"card-header\">\n                                <div class=\"card-title\">\n                                    <div class=\"card-label\">Changed Flights</div>\n                                </div>\n                                <div class=\"card-title\" *ngIf=\"orderViewModel && orderViewModel.editMode && orderViewModel.changedOrder\">\n                                    <button class=\"btn btn-primary\" (click)=\"editFlights()\">\n                                        Select other flights\n                                    </button>\n                                    <!-- <span class=\"text-primary font-weight-bold cursor-pointer\" >\n                                        \n                                    </span> -->\n                                </div>\n                            </div>\n                            <div class=\"card-body\">\n                                <app-airline-flight-item [flights]=\"orderViewModel.changedOrder.flights\"></app-airline-flight-item>\n                            </div>\n                        </div>\n                        <div class=\"card card-custom mb-5\">\n                            <div class=\"card-header\"> \n                                <div class=\"card-title\">\n                                    <div class=\"card-label\">\n                                        <ng-container *ngIf=\"orderViewModel.changedOrder\">\n                                            Original \n                                        </ng-container>\n                                        Flights\n                                    </div>\n                                </div>\n                                <div class=\"card-title\" *ngIf=\"orderViewModel && orderViewModel.editMode && !orderViewModel.changedOrder\">\n                                    <button class=\"btn btn-primary\" (click)=\"editFlights()\">\n                                        Select other flights\n                                    </button>\n                                </div>\n                                <div class=\"card-title\" *ngIf=\"orderViewModel && orderViewModel.editMode && orderViewModel.changedOrder\">\n                                    <span class=\"text-primary font-weight-bold cursor-pointer\" (click)=\"orderViewModel.changedOrder.showOriginal = !orderViewModel.changedOrder.showOriginal\">\n                                        view \n                                            <i *ngIf=\"!orderViewModel.changedOrder.showOriginal\" class=\"material-icons text-primary align-middle icon-md\">expand_more</i>\n                                            <i *ngIf=\"orderViewModel.changedOrder.showOriginal\" class=\"material-icons text-primary align-middle icon-md\">expand_less</i>\n                                    </span>\n                                </div>\n                            </div>\n                            <div class=\"card-body\" *ngIf=\"!orderViewModel.changedOrder || orderViewModel.changedOrder.showOriginal\">\n                                <app-airline-flight-item  [orderViewModel]=\"orderViewModel\" [orderId]=\"orderId\"></app-airline-flight-item>\n                            </div>\n                        </div>\n                        <!--begin::Details-->\n                        <div class=\"card card-custom mb-5\">\n                            <div class=\"card-header\">\n                                <div class=\"card-title\">\n                                    <div class=\"card-label\">Passengers</div>\n                                </div>\n                            </div>\n                            <div class=\"card-body\">\n                                <app-airline-passenger-list *ngIf=\"!orderViewModel.editMode\" [orderViewModel]=\"orderViewModel\" [orderId]=\"orderId\"></app-airline-passenger-list>\n                                <app-airline-passenger-form (passengerChanges)=\"passengerChanges($event)\" *ngIf=\"orderViewModel.editMode\" [passengers]=\"orderViewModel.passengers\"></app-airline-passenger-form>\n                            </div>\n                        </div>\n                        <!--end::Details-->\n                    </div>\n                    <div class=\"col-3\">\n                        <app-airline-order-changes *ngIf=\"orderViewModel.editMode\" [orderId]=\"orderId\"></app-airline-order-changes>\n                        <ng-container *ngIf=\"orderViewModel.changedOrder\">\n                            <app-airline-order-summary [passengers]=\"orderViewModel.changedOrder.passengers\"></app-airline-order-summary>\n                        </ng-container>\n                        <ng-container *ngIf=\"!orderViewModel.changedOrder\">\n                            <app-airline-order-summary [passengers]=\"orderViewModel.passengers\"></app-airline-order-summary>\n                        </ng-container>\n                        \n                        <div class=\"mb-5\" *ngIf=\"!orderViewModel.editMode\">\n                            <app-airline-payment-summary (makePayment)=\"makePayment()\" [orderViewModel]=\"orderViewModel\" [payments]=\"orderViewModel.payments\" [passengers]=\"orderViewModel.passengers\"></app-airline-payment-summary>\n                        </div>\n                    </div> \n                </div>\n                <!--end::Details-->\n                <!--end::Dashboard-->\n            </div>\n            <!--end::Container-->\n        </div>\n        <!--end::Entry-->\n    </div>\n    <!--end::Content-->\n</div>\n\n<app-dialog #appDialog ></app-dialog>\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { environment } from 'src/environments/environment';\nimport { AirlineContactViewModel } from '../../viewmodels/airline-contact';\n\n@Component({\n  selector: 'app-airline-contact-form',\n  templateUrl: './airline-contact-form.component.html',\n  styleUrls: ['./airline-contact-form.component.css']\n})\nexport class AirlineContactFormComponent implements OnInit {\n\n  public dummyContactData = {\n    \"EmailAddress\": \"sai@sai.com\",\n    \"Label\": \"mobile\",\n    \"CountryDialingCode\": \"1\",\n    \"AreaCode\": \"+1\",\n    \"PhoneNumber\": \"09490977779\"\n  }\n\n  public contactFG = new FormGroup({   \n    EmailAddress: new FormControl('', [Validators.required, Validators.email]), \n    Label: new FormControl('mobile'), \n    CountryDialingCode: new FormControl('1'), \n    AreaCode: new FormControl('', Validators.required), \n    PhoneNumber: new FormControl('', Validators.required)\n  });\n  \n  constructor() { }\n\n  ngOnInit(): void {\n    if(!environment.production) {\n      this.contactFG.patchValue(this.dummyContactData);\n    }\n  }\n\n  markAllAsTouched(){\n    this.contactFG.markAllAsTouched();\n  }\n\n  getContacts() : AirlineContactViewModel {\n    let contacts: AirlineContactViewModel = {\n      phone: {\n        areaCode: this.contactFG.value.AreaCode,\n        phoneNumber: this.contactFG.value.PhoneNumber,\n        countryDialingCode: this.contactFG.value.CountryDialingCode,\n        label: this.contactFG.value.Label\n      },\n      email: {\n        emailAddress: this.contactFG.value.EmailAddress\n      }\n    }\n    return contacts;\n  }\n}\n","<form [formGroup]=\"contactFG\" class=\"card card-custom mt-3\">\n    <div class=\"card-header\">\n        <div class=\"card-title\">\n            <h3 class=\"card-label\">Trip contact Details</h3>\n        </div>\n    </div>\n    <div class=\"card-body\">\n        <div class=\"row\">\n            <div class=\"col-4 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>Primary Email</mat-label>\n                    <input matInput formControlName=\"EmailAddress\" type=\"email\" name=\"email\" email=\"true\" required>\n                    <mat-error *ngIf=\"contactFG.get('EmailAddress').hasError('required')\">Primary Email is Required</mat-error>\n                    <mat-error *ngIf=\"contactFG.get('EmailAddress').hasError('email')\">Not a Valid Email</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>Country Code</mat-label>\n                    <input matInput formControlName=\"AreaCode\" required>\n                    <mat-error *ngIf=\"contactFG.get('AreaCode').hasError('required')\">Country Code is Required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>Primary phone</mat-label>\n                    <input matInput formControlName=\"PhoneNumber\" maxlength=\"13\" required>\n                    <mat-error *ngIf=\"contactFG.get('PhoneNumber').hasError('required')\">Primary phone is Required</mat-error>\n                </mat-form-field>\n            </div>                 \n        </div>\n    </div>\n</form>","import { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { AirlinePassenger } from '../../models/passenger/airline-passenger';\nimport { AirlinePtcCount } from '../../viewmodels/airline-ptc';\nimport { AirlinePassengerService } from '../../services/airline-passenger.service';\nimport { AirlinePassengerSummaryViewModel } from '../../viewmodels/airline-passenger';\nimport { AirlinePassengerFormComponent } from '../airline-passenger-form/airline-passenger-form.component';\nimport { AirlineOrderStatus } from '../../models/order/airline-order-status';\nimport { AirlineOrderViewModel } from '../../viewmodels/airline-order';\n\n@Component({\n  selector: 'app-airline-passenger-list',\n  templateUrl: './airline-passenger-list.component.html',\n  styleUrls: ['./airline-passenger-list.component.css']\n})\nexport class AirlinePassengerListComponent extends Airline implements OnInit {\n\n  @Input() orderViewModel: AirlineOrderViewModel;\n  @Input() orderId: string;\n  @ViewChild(AirlinePassengerFormComponent) airlinePassengerFormComponent : AirlinePassengerFormComponent;\n    \n  displayedColumns: string[] = ['Index', 'Name', 'Gender', 'DOB', 'TicketNo'];\n\n  constructor(loginService: LoginService, private passengerService: AirlinePassengerService) {\n    super(loginService) \n  }\n\n  ngOnInit(): void { \n  }\n  \n  getName(passenger){\n    const name =\n    (passenger.individual.nameTitle || \"\") + \" \" + \n    (passenger.individual.givenName || \"\") + \" \" + \n    (passenger.individual.middleName || \"\") + \" \" + \n    (passenger.individual.surname || \"\");\n    return name;\n  }\n}\n","  <table mat-table [dataSource]=\"orderViewModel.passengers\" class=\"mat-elevation-z8\">\n    <ng-container matColumnDef=\"Index\">\n      <th mat-header-cell *matHeaderCellDef> # </th>\n      <td mat-cell *matCellDef=\"let element; let i = index\"> {{element.label}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"Name\">\n      <th mat-header-cell *matHeaderCellDef> Name </th>\n      <td mat-cell *matCellDef=\"let element\"> {{ getName(element.data) }} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"Gender\">\n        <th mat-header-cell *matHeaderCellDef> Gender </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.data.individual.gender}} </td>\n      </ng-container>\n\n    <ng-container matColumnDef=\"DOB\">\n      <th mat-header-cell *matHeaderCellDef> DOB </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.data.individual.birthdate | date:'mediumDate'}} </td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"TicketNo\">\n      <th mat-header-cell *matHeaderCellDef> Ticket No </th>\n      <td mat-cell *matCellDef=\"let element\"> {{ element.ticketNo }}</td>\n    </ng-container>\n                              \n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>","import { Component, Input, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { environment } from '../../../../../../environments/environment';\nimport { CreditCardService } from 'src/app/shared/services/credit-card.service';\nimport { AirlinePaymentService } from '../../services/airline-payment.service';\n\n@Component({\n  selector: 'app-airline-payment-form',\n  templateUrl: './airline-payment-form.component.html',\n  styleUrls: ['./airline-payment-form.component.css']\n})\n\nexport class AirlinePaymentFormComponent extends Airline implements OnInit {\n \n  public yearArray = Array(20).fill(null).map((_, i) => new Date().getFullYear() + i);\n  public monthArray = [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"];\n  \n  public creditCardFG = new FormGroup({   \n    CreditType: new FormControl('', Validators.required), \n    CreditCardNumber: new FormControl('', Validators.required), \n    SecurityCode: new FormControl('', Validators.required), \n    ExpMonth: new FormControl('', Validators.required), \n    ExpYear: new FormControl('', Validators.required), \n    FirstNameonCard: new FormControl('', Validators.required), \n    LastNameonCard: new FormControl('', Validators.required), \n    Street: new FormControl('', Validators.required),\n    City: new FormControl('', Validators.required), \n    State: new FormControl('', Validators.required),\n    PostalCode: new FormControl('', Validators.required), \n    CountryCode: new FormControl('', Validators.required)\n  });\n\n  @Input() hidePaymentTypeSelection;\n\n  public paymentTypes: Array<string>;\n  public cardTypes: Array<{ name: string; code: string; }>;\n  public paymentType;\n  public paymentTypeCreditCard: string = AirlinePaymentService.paymentTypeCreditCard;\n\n  constructor(loginService: LoginService, private creditCardService: CreditCardService, private paymentService: AirlinePaymentService) {\n    super(loginService)\n    \n    this.paymentTypes = this.paymentService.paymentTypes;\n    this.cardTypes = this.creditCardService.cardTypes;\n    this.paymentType = AirlinePaymentService.paymentTypeCreditCard;\n  }\n\n  ngOnInit(): void {\n    if(!environment.production) {\n      this.creditCardFG.patchValue(this.creditCardService.dummyCreditCardData);\n    }\n  }\n\n  isMonthDisable(month) {\n    if(this.creditCardFG.value.ExpYear == new Date().getFullYear()){\n      if(new Date().getMonth() >= Number(month)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  yearChange(event) {\n    let date = new Date();\n    if(event == date.getFullYear()) {\n      let json = this.creditCardFG.value;\n      if(json.ExpMonth == null || date.getMonth() >= Number(json.ExpMonth)) {\n        const month = date.getMonth() + 1;\n        json.ExpMonth = month <= 9 ? \"0\" + month : \"\" + month;\n        this.creditCardFG.patchValue(json);\n      }\n    }\n  }\n\n  isPaymentFormValid() : boolean {\n    return (this.paymentType == AirlinePaymentService.paymentTypeOnHold || this.creditCardFG.valid);\n  }\n  \n  markAllAsTouched() {\n    if(this.paymentType == AirlinePaymentService.paymentTypeCreditCard){\n      this.creditCardFG.markAllAsTouched();\n    }\n  }\n}\n","<div class=\"card card-custom\">\n    <div class=\"card-header\">\n        <div class=\"card-title\">\n            <h3 class=\"card-label\">Payment Information</h3>\n        </div>\n    </div>\n    <div class=\"card-body\">\n        <div class=\"row\" *ngIf=\"!hidePaymentTypeSelection\">\n            <div class=\"col-4 form-group\">\n                <mat-form-field appearance=\"outline\" class=\"w-100\">\n                    <mat-label>Payment Type</mat-label>\n                    <mat-select [(value)]=\"paymentType\" required>\n                        <mat-option *ngFor=\"let p of paymentTypes\" [value]=\"p\">\n                        {{p}}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div class=\"col-8 form-group\"></div>\n        </div>\n        <form *ngIf=\"paymentType == paymentTypeCreditCard\" [formGroup]=\"creditCardFG\" class=\"row\">\n            <div class=\"col-12 form-group\">\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Credit Card Type</mat-label>\n                    <mat-select formControlName=\"CreditType\" required>\n                        <mat-option *ngFor=\"let c of cardTypes\" [value]=\"c.code\">\n                        {{c.name}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"creditCardFG.get('CreditType').hasError('required')\">Please choose Credit Card Type</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>Credit Card Number</mat-label>\n                    <input matInput appCreditCard autocomplete=\"off\" formControlName=\"CreditCardNumber\" required>\n                    <mat-error *ngIf=\"creditCardFG.get('CreditCardNumber').hasError('required')\">Credit Card Number is Required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-3 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>Security Code</mat-label>\n                    <input matInput appOnlyNumber formControlName=\"SecurityCode\"  maxlength=\"3\" required>\n                    <mat-error *ngIf=\"creditCardFG.get('SecurityCode').hasError('required')\">Security Code is Required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-2 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>Exp Month</mat-label>\n                    <mat-select formControlName=\"ExpMonth\" required>\n                        <mat-option *ngFor=\"let m of monthArray\" [disabled]=\"isMonthDisable(m)\" [value]=\"m\">\n                        {{m}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"creditCardFG.get('ExpMonth').hasError('required')\">Please choose a Month</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-3 form-group\">\n                <mat-form-field appearance=\"outline\">\n                    <mat-label>Exp Year</mat-label>\n                    <mat-select (selectionChange)=\"yearChange($event.value)\" formControlName=\"ExpYear\" required>\n                        <mat-option *ngFor=\"let y of yearArray\" [value]=\"y\">\n                        {{y}}\n                        </mat-option>\n                    </mat-select>\n                    <mat-error *ngIf=\"creditCardFG.get('ExpYear').hasError('required')\">Please choose a Year</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-6 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>First Name on Card</mat-label>\n                    <input matInput formControlName=\"FirstNameonCard\" required>\n                    <mat-error *ngIf=\"creditCardFG.get('FirstNameonCard').hasError('required')\">First Name on Card is Required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-6 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>Last Name on Card</mat-label>\n                    <input matInput formControlName=\"LastNameonCard\" required>\n                    <mat-error *ngIf=\"creditCardFG.get('LastNameonCard').hasError('required')\">Last Name on Card is Required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-8 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>Street</mat-label>\n                    <input matInput formControlName=\"Street\" required>\n                    <mat-error *ngIf=\"creditCardFG.get('Street').hasError('required')\">Street is Required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>City</mat-label>\n                    <input matInput formControlName=\"City\" required>\n                    <mat-error *ngIf=\"creditCardFG.get('City').hasError('required')\">City is Required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>State</mat-label>\n                    <input matInput formControlName=\"State\" required>\n                    <mat-error *ngIf=\"creditCardFG.get('State').hasError('required')\">State is Required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>Postal Code</mat-label>\n                    <input matInput formControlName=\"PostalCode\" required>\n                    <mat-error *ngIf=\"creditCardFG.get('PostalCode').hasError('required')\">Postal Code is Required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"col-4 form-group\">\n                <mat-form-field class=\"w-100\" appearance=\"outline\">\n                    <mat-label>Country Code</mat-label>\n                    <input matInput formControlName=\"CountryCode\" required>\n                    <mat-error *ngIf=\"creditCardFG.get('CountryCode').hasError('required')\">Country Code is Required</mat-error>\n                </mat-form-field>\n            </div>\n        </form>\n    </div>\n</div>","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CreditCardService {\n\n  constructor() { }\n\n  public cardTypes = [\n    {\n      \"name\": \"American Express\",\n      \"code\": \"AX\"\n    },\n    {\n      \"name\": \"Diners Club International\",\n      \"code\": \"DC\"\n    },\n    {\n      \"name\": \"Discover Card\",\n      \"code\": \"DS\"\n    },\n    {\n      \"name\": \"Japan Credit Bureau\",\n      \"code\": \"JC\"\n    },\n    {\n      \"name\": \"Mastercard\",\n      \"code\": \"CA\"\n    },\n    {\n      \"name\": \"UATP\",\n      \"code\": \"TP\"\n    },\n    {\n      \"name\": \"Visa\",\n      \"code\": \"VI\"\n    }\n  ];\n  \n  // TEST credit cards detals:\n  // https://farelogixpartnersupport.zendesk.com/hc/en-us/articles/4402363072269-Test-Credit-Cards-for-Sandbox\n  // expired: 01/39 Transaction approved (code 0)\n  // expired: 02/23 Transaction could not be processed (code 1)\n  // expired: 05/22 Transaction declined - contact issuing bank (code 2)\n  // expired: 08/28 No reply from Processing Host (code 3)\n  // expired: 04/27 Card has expired (code 4)\n  // expired: 01/27 Insufficient credit (code 5)\n  public dummyCreditCardData = {\n    City: \"Miami\",\n    CountryCode: \"US\",\n    CreditCardNumber: \"30123400000000\", \n    CreditType: \"DC\",\n    ExpMonth: \"01\",\n    ExpYear: 2039,\n    FirstNameonCard: \"John\",\n    LastNameonCard: \"Brown\",\n    PostalCode: \"33160\",\n    SecurityCode: \"100\",\n    State: \"FL\",\n    Street: \"123 Street Building\"\n  };\n\n  findNameByCode(code){\n    let cardTypeObj = this.cardTypes.find(i => i.code == code);\n    return cardTypeObj ? cardTypeObj.name : code;\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { AirlineLoaderService } from '../../services/airline-loader.service';\n\n@Component({\n  selector: 'app-airline-loader',\n  templateUrl: './airline-loader.component.html',\n  styleUrls: ['./airline-loader.component.scss']\n})\nexport class AirlineLoaderComponent implements OnInit {\n\n  @Input() spinnerClass = \"spinner\";\n\n  constructor(public airlineLoaderService: AirlineLoaderService) {\n  }\n\n  ngOnInit(): void {\n  }\n}\n","<div [ngClass]=\"spinnerClass\">\n    <div class=\"spinner-container\">\n        <mat-spinner [diameter]=\"30\"></mat-spinner>\n        <div>\n            {{airlineLoaderService.loaderText}}\n        </div>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { AirlineChangeOrderService } from '../../services/airline-change-order.service';\nimport { AirlineOrderChangeViewModel } from '../../viewmodels/airline-order-change';\n\n@Component({\n  selector: 'app-airline-order-changes',\n  templateUrl: './airline-order-changes.component.html',\n  styleUrls: ['./airline-order-changes.component.scss']\n})\nexport class AirlineOrderChangesComponent implements OnInit {\n\n  @Input() orderId;\n  \n  constructor(private airlineChangeOrderService: AirlineChangeOrderService) { \n\n  }\n\n  orderChanges(): Array<AirlineOrderChangeViewModel>{\n    return this.airlineChangeOrderService.viewOrderChanges(this.orderId);\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<ng-container *ngVar=\"orderChanges() as changes\">\n    <div class=\"card card-custom mb-5\" *ngIf=\"changes.length\">\n        <div class=\"card-header\">\n            <div class=\"card-title\">\n                <div class=\"card-label\">\n                    Order changes ({{changes.length}})\n                </div>\n            </div>\n        </div>\n        <div class=\"card-body\">\n            <ol class=\"pl-4\">\n                <li *ngFor=\"let change of changes\">\n                    {{change.label}}\n                </li>\n            </ol>\n        </div>\n    </div>\n</ng-container>","import { Component, OnInit, ViewChild, OnDestroy, Renderer2, ElementRef, ViewChildren, AfterViewInit } from '@angular/core';\nimport { FormControl, FormGroup, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { debounceTime, distinct, filter, map, switchMap } from 'rxjs/operators';\nimport {MatDatepickerInputEvent} from '@angular/material/datepicker';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { of, Subject } from 'rxjs';\nimport { HttpClient  } from '@angular/common/http';\nimport { Select, Store } from '@ngxs/store';\nimport { Router } from '@angular/router';\n\nimport { AirlineRetrieveService } from '../../services/airline-retrieve.service';\nimport { Airline } from '../../airline';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { MyErrorStateMatcher, timeFormat } from '../../../../../shared/models/airline.model';\nimport { LocalStorage } from '../../../../../shared/storage/local-storage';\nimport { AirlineSearchHeaderComponent } from '../../partials/airline-search-header/airline-search-header.component';\nimport { AirlineOrderService } from '../../services/airline-order.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { AirlineSelectedOfferViewModel } from '../../viewmodels/airline-selected-offer';\nimport { AirlinePassengerService } from '../../services/airline-passenger.service';\nimport { AirlineGrouppedFlightsViewModel } from '../../viewmodels/airline-groupped-flights';\nimport { AirlineSearch } from '../../viewmodels/airline-search';\nimport { AirlineSearchResult } from '../../viewmodels/airline-search-result';\nimport { AirlineOfferService } from '../../services/airline-offer.service';\nimport { AirlineOfferWithDetails } from '../../models/offer/airline-offer-details';\nimport { AirlinePassenger } from '../../models/passenger/airline-passenger';\nimport { AirlinePricedOfferResponse } from '../../models/offer/airline-priced-offer';\n\n@Component({\n  selector: 'app-airline-search',\n  templateUrl: './airline-search.component.html',\n  styleUrls: ['./airline-search.component.css']\n})\n\nexport class AirlineSearchComponent extends Airline implements OnInit {\n\n  @ViewChild(AirlineSearchHeaderComponent) airlineSearchHeader: AirlineSearchHeaderComponent;\n\n  public searchResult: AirlineSearchResult;\n  \n  constructor(private router: Router,\n    loginService: LoginService, \n    private offerService: AirlineOfferService,\n    private localStorage: LocalStorage) {    \n    super(loginService);\n    document.body.style.backgroundSize = \"100% 165px\";\n  }\n  \n  ngOnInit() {\n    this.searchResult = {\n      dataLists: null,\n      isSearchCompleted: false,\n      timeFormat: localStorage.getItem('timeFormat') as timeFormat || '24',\n      selectedOffer: null,\n      grouppedFlightList: null,\n      airlineSearch: null,\n    };\n  }\n  \n  searchAirlines() {\n    this.searchResult.selectedOffer = null;\n    this.searchResult.grouppedFlightList = null;\n \n    let airlineSearch = this.airlineSearchHeader.getAirlineSearch()\n    this.offerService.findOffers(airlineSearch).subscribe((data: any) => {\n      this.searchResult.responseID = data.ShoppingResponseID.responseID.value;\n      this.searchResult.airlineSearch = airlineSearch;\n      this.searchResult.dataLists = data.dataLists;\n\n      let offersWithDetails: Array<AirlineOfferWithDetails> = data.OffersWithDetails;\n      if( offersWithDetails != null && offersWithDetails.length > 0\n        && offersWithDetails[0].flightsPlusSegments != null && offersWithDetails[0].flightsPlusSegments.length > 0) {\n          this.searchResult.grouppedFlightList = this.offerService.groupOffersByFlights(offersWithDetails, this.searchResult.timeFormat);\n      }\n      this.searchResult.isSearchCompleted = true;\n    });\n  }\n\n  bookNow(){\n    this.offerService.getPricedOffer(this.searchResult).subscribe((data: AirlinePricedOfferResponse) => {\n        let offerViewModel = this.offerService.getPricedOfferViewModel(data);\n        this.localStorage.setItem(this.localStorage.keys.airline.offerViewModel, JSON.stringify(offerViewModel));\n        this.router.navigateByUrl('/Airlines/Booking');\n    });\n  }\n} \n","<div class=\"d-flex flex-column-fluid\">\n    <!--begin::Container-->\n    <div class=\"container\">\n        <!--begin::Dashboard-->\n        <!--begin::Row-->\n        <!--Begin Traveller::Count-->\n        <div class=\"row\">\n          <div class=\"col-12\">\n                <app-airline-search-header \n                    [blockClass]=\"'brdSmallBlock'\" \n                    [fontStyle]=\"'h4'\" \n                    [showSearchButton]=\"true\"\n                    [loadLatestSearch]=\"true\"\n                     (search)=\"searchAirlines()\">\n                </app-airline-search-header>\n          </div>\n        </div> \n        <!--End Traveller::Count-->\n        <!--end::Row-->\n        <!--begin::Row-->\n        <app-airline-search-result [searchResult]=\"searchResult\" [selectButtonText]=\"'Book now'\" (selectionDone)=\"bookNow()\"></app-airline-search-result>\n        <!--end::Row-->\n        <!--end::Dashboard-->\n    </div>\n    <!--end::Container-->\n</div>","import { Component, OnInit, ViewChild, OnDestroy, Renderer2, ElementRef, ViewChildren, Input, AfterViewInit } from '@angular/core';\nimport { FormControl, FormGroup, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { debounceTime, distinct, distinctUntilChanged, filter, map, switchMap } from 'rxjs/operators';\nimport {MatDatepickerInputEvent} from '@angular/material/datepicker';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { Observable, of, Subject, Subscriber, Subscription } from 'rxjs';\nimport { HttpClient  } from '@angular/common/http';\nimport { Store } from '@ngxs/store';\nimport { Router } from '@angular/router';\n\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { AirlineRetrieveService } from '../../services/airline-retrieve.service';\nimport { AirlineAirport } from '../../models/flight/airline-airport';\nimport { AirlineSearchFlight } from '../../models/flight/airline-search-flight';\n\n@Component({\n  selector: 'airport-code-search',\n  templateUrl: './airport-code-search.component.html',\n  styleUrls: ['./airport-code-search.component.css']\n})\nexport class AirportCodeSearchComponent implements OnInit, OnDestroy {\n\n  public searchChangeSubscriber;\n  public isLoading = false;\n  public isAutocompleteShown: boolean = false;\n  public filteredOptions: Observable<any>;\n\n  @Input() public flight: AirlineSearchFlight;\n  @Input() public field: string;\n  @Input() public isSubmitted: boolean;\n  @Input() public fontStyle: string;\n  @Input() public label: string;\n  @Input() public showLabel: boolean;\n\n  @ViewChildren('airportCodeInput') airportCodeInput;\n  docClickSubscription: any;\n\n  constructor(loginService: LoginService, private renderer: Renderer2, private airlineRetrieveService: AirlineRetrieveService) {\n  }\n\n  ngOnInit(): void {\n    this.filteredOptions = new Observable(subscriber => {\n      this.searchChangeSubscriber = subscriber;\n    }).pipe(\n      debounceTime(300), // wait 300ms after the last event before emitting last event\n      switchMap((airlineCode) => {\n          if(this.filter(airlineCode)){\n            return of([]);\n          } else {\n            this.isLoading = true;\n            return this.searchAirportSearchService(airlineCode);\n        }\n      }));\n\n    this.docClickSubscription = this.renderer.listen('document', 'click', this.onDocumentClick.bind(this));\n  }\n\n  public ngOnDestroy() {\n    this.docClickSubscription();\n  }\n\n  private onDocumentClick(event: any): void {\n    if(event.target.className.indexOf(\"cdk-overlay-container\") != -1) {\n      this.hideAutocomplete() \n    }\n  }\n\n  onSearchChange(searchValue: string) {\n    this.searchChangeSubscriber.next(searchValue);\n  }  \n\n  searchAirportSearchService(airlineCode) {\n    const code = airlineCode.data != null ? airlineCode.data : airlineCode;\n    return this.airlineRetrieveService.searchAirport(code)\n            .pipe(map((data: any) => {\n                this.isLoading = false;\n                return data.suggestions;\n            }));\n  }\n  \n  displayFn(airport: AirlineAirport): string {\n    return airport && airport.data ? airport.data : (airport && airport.name ? airport.name : '');\n  }\n\n  getAirPortDisplayName(suggestion) {\n    const value = suggestion ? suggestion.value || suggestion.name || '' : '';\n    const data = suggestion ? suggestion.data || suggestion.id || '' : '';\n    if(value == '' && data == '') {\n      return 'Please Select'; \n    } else {\n      const AirPortDisplayName =  value + '(' + data + ')'\n      return AirPortDisplayName;\n    }\n  }\n\n  filter(airlineCode) {\n    if(airlineCode == '' || airlineCode == null ){\n      return true;\n    } else if(airlineCode.data != null){\n      return false;\n    } else if (airlineCode.length >= 1){\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n showAutocomplete(){\n  this.isAutocompleteShown = true;\n  setTimeout(() => {\n    this.airportCodeInput.first.nativeElement.focus();  \n  }, 10);\n }\n\n hideAutocomplete(){\n   this.isAutocompleteShown = false;\n }\n}\n","<div class=\"searchContent\">\n    <span *ngIf=\"showLabel\" class=\"search_lbl text-dark-50 pb-2 to\">{{label}}</span>\n    <input (click)=\"showAutocomplete()\" *ngIf=\"!isAutocompleteShown\" class=\"search_inputField text-truncate\" type=\"text\" [ngClass]=\"fontStyle\" value=\"{{ getAirPortDisplayName(flight[field]) }}\" title=\"{{ getAirPortDisplayName(flight[field]) }}\">\n    <div class=\"lessMtlr\" *ngIf=\"isAutocompleteShown\">\n      <mat-form-field appearance=\"outline\" class=\"w-100\">\n        <input #airportCodeInput type=\"text\" matInput [matAutocomplete]=\"autoTo\" [(ngModel)]=\"flight[field]\" (input)=\"onSearchChange($event.target.value)\">\n        <mat-autocomplete (optionSelected)=\"isAutocompleteShown=false\" #autoTo=\"matAutocomplete\" [displayWith]=\"displayFn\">\n          <mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option\">\n            {{ (option.value || option.name) + '-' + (option.data || option.id || '') }}\n          </mat-option>\n        </mat-autocomplete>                                     \n      </mat-form-field>\n    </div> \n</div> ","import { Injectable } from '@angular/core';\nimport { AirlineFlightSegment } from '../models/flight/airline-flight-segment';\nimport { AirlineFareComponent } from '../models/price/airline-fare';\nimport { AirlineFlightViewModel } from '../viewmodels/airline-flight';\nimport { AirlineFlightRuleViewModel } from '../viewmodels/airline-flight-rule';\nimport { AirlineFlightSegmentViewModel } from '../viewmodels/airline-flight-segment';\nimport { AirlineDatetimeService } from './airline-datetime.service';\nimport { AirlineFareService } from './airline-fare.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AirlineFlightService {\n\n  constructor(private airlineDatetimeService: AirlineDatetimeService) { }\n    \n  createFlightViewModel(flightSegments: Array<AirlineFlightSegment>, fareComponent?: AirlineFareComponent): AirlineFlightViewModel {\n    let segments = flightSegments.map((item) => this.createFlightSegment(item, fareComponent))\n    let totalDays = this.airlineDatetimeService.getTotalDays(segments);\n    let popUpMessage = \"\";\n    let flightDuration = this.airlineDatetimeService.getTotalTravelTime(segments);\n    let numberOfStops = flightSegments.length === 1 ? \"Nonstop\" : `${flightSegments.length-1} Stop(s)`;\n    if (flightSegments.length > 1){\n      let departureStops = [];\n      let popUpMessageElement = [];\n      for(let i = 1; i < segments.length; i++) {\n          const flightSegment = segments[i];\n          const pFlightSegment = segments[i-1];\n          departureStops.push(flightSegment.departureAirportCode);\n          flightSegment.layover = this.airlineDatetimeService.getTimeDiff(pFlightSegment, flightSegment);\n          let message = pFlightSegment.departureAirportCode + \" | \" + this.airlineDatetimeService.getTimeDiff(pFlightSegment, flightSegment)  + \" Layover \" + pFlightSegment.arrivalAirportCode + \" | \" ;\n          popUpMessageElement.push(message);\n      }\n      numberOfStops = numberOfStops + \" via \" + departureStops.join(\", \");\n      popUpMessage = popUpMessageElement.join(\" \") + segments[segments.length-1].arrivalAirportCode + \"\\n\"  + numberOfStops;\n    }\n\n    let vm: AirlineFlightViewModel = {\n        departureAirportCode : flightSegments[0].departure.airportCode.value,\n        arrivalAirportCode : flightSegments[flightSegments.length-1].arrival.airportCode.value,\n        departureTime: flightSegments[0].departure.time,\n        arrivalTime : flightSegments[flightSegments.length-1].arrival.time,\n        numberOfStops : numberOfStops,\n        departureAirportName: flightSegments[0].departure.airportName,\n        arrivalAirportName : flightSegments[flightSegments.length-1].arrival.airportName,\n        departureDate : flightSegments[0].departure.date,\n        arrivalDate : flightSegments[flightSegments.length-1].arrival.date,\n        flightDuration: flightDuration,\n        flightSegments: segments,\n        popUpMessage: popUpMessage,\n        totalDays: totalDays,\n    };\n    return vm;\n  }\n\n  createFlightSegment(segment: AirlineFlightSegment, fareComponent?: AirlineFareComponent): AirlineFlightSegmentViewModel {\n    let flightDuration = this.airlineDatetimeService.flightDuration(segment.flightDetail.flightDuration.value);\n    let rules = fareComponent ? this.getPriceRules([fareComponent]) : null;\n    let vm: AirlineFlightSegmentViewModel = {\n      flightRules: rules,\n      airlineID : segment.marketingCarrier.airlineID.value,\n      flightNumber : segment.marketingCarrier.flightNumber.value, \n      aircraftName : segment.equipment.name.replace(/Passenger /g, '').replace(/ Passenger/g, ''),\n      departureAirportCode : segment.departure.airportCode.value,\n      arrivalAirportCode : segment.arrival.airportCode.value,\n      departureDate : segment.departure.date,\n      departureTime : segment.departure.time,\n      departureAirportName : segment.departure.airportName,\n      departureTerminal : segment.departure.terminal?.name,\n      arrivalDate : segment.arrival.date,\n      arrivalTime : segment.arrival.time,\n      arrivalAirportName : segment.arrival.airportName,\n      arrivalTerminal : segment.arrival.terminal?.name,\n      airlineName : segment.marketingCarrier.name,\n      segmentKey : segment.segmentKey,\n      flightDuration : flightDuration.hours + \"H \" + flightDuration.minutes + \"M\",\n    };\n    return vm;\n  }\n\n  getPriceRules(fareComponents: AirlineFareComponent[] = []): AirlineFlightRuleViewModel[]{\n    return fareComponents.map<AirlineFlightRuleViewModel>(({segmentRefs, fareRules, fareBasis}) => {\n      let fareCode = fareBasis.fareBasisCode.refs[0].fare.fareCode;\n      const instructions = fareRules.penalty.details.detail.filter(item => item.refs).map(({refs}) => {\n        const [refInfo] = refs;\n        const [instructionInfo] = refInfo.values.value;\n\n        return {\n          name: refInfo.ruleID.value,\n          info: instructionInfo.instruction.value,\n        };\n      });\n\n      let rule : AirlineFlightRuleViewModel = {\n        segmentRefs: segmentRefs,\n        fareCode: fareCode,\n        allowCancel: instructions.find(i => i.name === \"Cancel\")?.info === \"Allowed\",\n        allowChange: instructions.find(i => i.name === \"Change\")?.info === \"Allowed\",\n        other: instructions.filter(i => i.name !== \"Cancel\" && i.name !== \"Change\")\n      };\n      return rule;\n    });\n  }\n}\n","import { Component, Input, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { AirlineSearchFlight } from '../../models/flight/airline-search-flight';\n\n@Component({\n  selector: 'app-airport-search-date',\n  templateUrl: './airport-search-date.component.html',\n  styleUrls: ['./airport-search-date.component.css']\n})\nexport class AirportSearchDateComponent extends Airline implements OnInit, OnDestroy {\n  @ViewChild('datepicker') private datepicker;\n  @Input() minDate: Date;\n  @Input() maxDate: Date;\n  @Input() public flight: AirlineSearchFlight;\n  @Input() public field: string;\n  @Input() showLabel: boolean;\n  @Input() label: string;\n  @Input() fontStyle: string;\n\n  isDateEditorShown: boolean;\n  docClickSubscription: any;\n\n  constructor(loginService: LoginService, private renderer: Renderer2) { \n    super(loginService);\n  }\n \n  ngOnInit(): void {\n    this.docClickSubscription = this.renderer.listen('document', 'click', this.onDocumentClick.bind(this));\n  }\n\n showPicker(){\n    let self = this;\n    this.isDateEditorShown = true;\n    setTimeout(() => self.datepicker.open(), 100);\n }\n hidePicker(){\n   this.isDateEditorShown = false;\n }\n\n public ngOnDestroy() {\n   this.docClickSubscription();\n }\n\n private onDocumentClick(event: any): void {\n    if (event.target.className.indexOf(\"mat-calendar-body-cell-content\") != -1) {\n      this.hidePicker()\n    } else if(event.target.className.indexOf(\"cdk-overlay-backdrop\") != -1) {\n      this.hidePicker() \n    }\n  }\n}\n","<div (click)=\"showPicker()\" class=\"searchContent\">\n    <span *ngIf=\"showLabel\" class=\"search_lbl text-dark-50 pb-2 from\">{{label}} <i\n        class=\"far fa-calendar-alt text-primary\"></i></span>\n    <div *ngIf=\"!isDateEditorShown\" class=\"search_inputField text-truncate\" [ngClass]=\"fontStyle\" (click)=\"showPicker(i)\">\n        {{ flight[field] | date: 'dd MMM yyyy'}}\n    </div>\n    <!-- <div class=\"form-group lessMtlr\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"Place\">\n    </div> -->\n    <div class=\"lessMtlr\" *ngIf=\"isDateEditorShown\">\n        <mat-form-field class=\"w-100\" appearance=\"outline\">\n            <input matInput [min]=\"minDate\" [max]=\"maxDate\" \n                (click)=\"datepicker.open()\" [errorStateMatcher]=\"errorMatcher\"\n                [matDatepicker]=\"datepicker\" [(ngModel)]=\"flight[field]\"\n                (dateChange)=\"hidePicker()\">\n            <mat-datepicker-toggle matSuffix [for]=\"datepicker\"></mat-datepicker-toggle>\n            <mat-datepicker #datepicker></mat-datepicker>\n        </mat-form-field>\n    </div>\n</div> ","import { Injectable } from '@angular/core';\nimport { from } from 'rxjs';\nimport { catchError, concatMap } from 'rxjs/operators';\nimport { ArrayHelperService } from 'src/app/shared/services/array-helper.service';\nimport { AirlineOrderViewModel } from '../viewmodels/airline-order';\nimport { AirlineOrderChangeType, AirlineOrderChangeViewModel } from '../viewmodels/airline-order-change';\nimport { AirlineErrorService } from './airline-error.service';\nimport { AirlineLoaderService } from './airline-loader.service';\nimport { AirlineOrderService } from './airline-order.service';\nimport { AirlinePassengerService } from './airline-passenger.service';\nimport { AirlineSeatAvailabilityService } from './airline-seat-availability.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AirlineChangeOrderService {\n\n  private changes: Array<AirlineOrderChangeViewModel> = [];\n\n  constructor(\n    private airlineOrderService: AirlineOrderService,\n    private seatAvailabilityService: AirlineSeatAvailabilityService,\n    private passengerService: AirlinePassengerService,\n    private errorService: AirlineErrorService,\n    private arrayHelperService: ArrayHelperService) { \n  }\n\n  addChange(type: AirlineOrderChangeType, orderID: string){\n    let label = \"\";\n    switch(type){\n      case 'ChangeFlight': {\n        label = \"Flights changed\";\n        this.clearSeatAvailabilityChanges(orderID);\n        this.clearChangeFlightChanges(orderID);\n        break;\n      }\n      case 'ChangePassengerInfo':{\n        label = \"Passenger information changed\";\n        this.clearPassengerChanges(orderID);\n        break;\n      }\n      case 'SeatAvailability': {\n        label = \"Seats changed\";\n        this.clearSeatAvailabilityChanges(orderID);\n        break;\n      }\n    }\n      \n    this.changes.push({ type : type, orderID: orderID, label: label });\n  }  \n\n  acceptChanges(orderID: string, orderViewModel: AirlineOrderViewModel) {\n    let orderChanges = this.changes.filter(i => i.orderID == orderID);\n    if (orderChanges.length){\n      this.errorService.hideErrors();\n      this.arrayHelperService.sortBy(orderChanges, [i => [\"ChangeFlight\", \"SeatAvailability\", \"ChangePassengerInfo\"].indexOf(i.type)]);\n      let observable = from(orderChanges).pipe(\n        concatMap(change => this.getChangeAction(change, orderID, orderViewModel))\n        // switchMap(data => this.catchFailResponse(data, url, query, skipHideLoader)),\n        // catchError(e => this.handleError(e))\n      );\n      return observable;\n    }\n  } \n  \n  getChangeAction(change: AirlineOrderChangeViewModel, orderID: string, orderViewModel: AirlineOrderViewModel): any {\n    switch(change.type){\n      case \"ChangeFlight\":{\n        return this.airlineOrderService.acceptReshop(orderID, orderViewModel);\n      }\n      case \"SeatAvailability\": {\n        return this.seatAvailabilityService.bookSelectedSeats(orderID, orderViewModel);\n      }\n      case \"ChangePassengerInfo\":{\n        return this.passengerService.diffAndSaveChanges(orderID, orderViewModel);\n      }\n    }\n  }\n\n  clearChanges(orderID: string, orderViewModel: AirlineOrderViewModel){\n    this.changes = this.arrayHelperService.removeMatching(this.changes, i => i.orderID == orderID);\n    orderViewModel.changedOrder = null;\n    orderViewModel.changedPassengerList = null;\n    orderViewModel.passengers.forEach(i => i.orderSummary.selectedSeats = this.arrayHelperService.removeMatching(i.orderSummary.selectedSeats, s => s.seat.offerItemID != null));\n  }\n\n  clearChangeFlightChanges(orderID: string) {\n    this.changes = this.arrayHelperService.removeMatching(this.changes, i => i.orderID == orderID && i.type === \"ChangeFlight\");\n  }\n\n  clearSeatAvailabilityChanges(orderID: string) {\n    this.changes = this.arrayHelperService.removeMatching(this.changes, i => {\n      return i.orderID == orderID && i.type === \"SeatAvailability\"\n    });\n  }\n\n  clearPassengerChanges(orderID: string) {\n    this.changes = this.arrayHelperService.removeMatching(this.changes, i => i.orderID == orderID && i.type === \"ChangePassengerInfo\");\n  }\n\n  anyChanges(orderID: string): boolean{\n    return this.changes.filter(i => i.orderID == orderID).length > 0;\n  }\n\n  viewOrderChanges(orderID: string){\n    return this.changes.filter(i => i.orderID == orderID);\n  }\n}\n\n","import { Injectable } from '@angular/core';\nimport { timeFormat } from 'src/app/shared/models/airline.model';\nimport { ArrayHelperService } from 'src/app/shared/services/array-helper.service';\nimport { AirlineOfferWithDetails } from '../models/offer/airline-offer-details';\nimport { AirlineOfferItem } from '../models/offer/airline-offer-item';\nimport { AirlinePricedOfferResponse } from '../models/offer/airline-priced-offer';\nimport { AirlineReshopOffer } from '../models/order/airline-reshop';\nimport { AirlinePassenger } from '../models/passenger/airline-passenger';\nimport { AirlineFareViewModel } from '../viewmodels/airline-fare-price';\nimport { AirlineFlightViewModel } from '../viewmodels/airline-flight';\nimport { AirlineFlightFareViewModel } from '../viewmodels/airline-flight-fare';\nimport { AirlineGrouppedFlightsViewModel } from '../viewmodels/airline-groupped-flights';\nimport { AirlineOfferViewModel } from '../viewmodels/airline-offer';\nimport { AirlinePassengerSummaryViewModel } from '../viewmodels/airline-passenger';\nimport { AirlineSearch } from '../viewmodels/airline-search';\nimport { AirlineSearchResult } from '../viewmodels/airline-search-result';\nimport { AirlineDatetimeService } from './airline-datetime.service';\nimport { AirlineFareService } from './airline-fare.service';\nimport { AirlineFlightService } from './airline-flight.service';\nimport { AirlinePassengerService } from './airline-passenger.service';\nimport { AirlineRetrieveService } from './airline-retrieve.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AirlineOfferService {\n  \n  constructor(private airlineDatetimeService : AirlineDatetimeService,\n    private passengerService: AirlinePassengerService,\n    private airlineFlightService: AirlineFlightService,\n    private airlineFareService: AirlineFareService,\n    private airlineRetrieveService: AirlineRetrieveService,\n    private arrayHelperService: ArrayHelperService) { }\n    private sortByCabinTypeAndPrice: Array<(fare: AirlineFlightFareViewModel) => number> = [\n      el => [\"Economy\", \"First Class\"].indexOf(el.cabinType),\n      el => el.totalPrice, \n    ];\n\n\n  findOffers(airlineSearch: AirlineSearch) {\n    let passengers = [];\n    this.arrayHelperService.groupBy(airlineSearch.travellers, k => k.ptc).forEach(group => {\n      group.value.forEach((el, idx) => {\n        passengers.push({ passengerID: this.passengerService.titleByPtc(group.key, idx + 1), ptc: group.key })\n      });\n    });\n\n    let query = {\n      Flights:[ ],\n      Passengers: this.passengerService.setLoyaltyProgramPassengers(passengers, airlineSearch)\n    }\n\n    airlineSearch.flights.forEach((item) => {\n\n      let departureAirportCode = item.from.data || item.from.id || item.from;\n      let arrivalAirportCode = item.to.data || item.to.id || item.to;\n      let departureDate = this.airlineDatetimeService.truncateTime(item.departureDate);\n\n      query.Flights.push({\n        \"departure\":{\n          airportCode:{\n            value: departureAirportCode\n          },\n          date: departureDate,\n        },\n        \"arrival\": {\n          airportCode:{\n            value: arrivalAirportCode\n          }\n        }\n      });\n    });\n\n    return this.airlineRetrieveService.searchAirlines(query);\n  }\n\n  getPricedOffer(searchResult: AirlineSearchResult) {\n\n    let offer = {\n      offerItem: [],\n      offerID: searchResult.selectedOffer.offerID,\n      owner: searchResult.selectedOffer.originalOffer.owner,\n      responseID: searchResult.responseID\n    }\n\n    let offerQuery = {\n      \"query\": {\n        \"offer\": []\n      },\n      \"dataLists\": {\n        \"passengerList\": {\n          \"passenger\": []\n        },\n      }\n    }\n\n    let passengers = [];\n    this.arrayHelperService.groupBy(searchResult.airlineSearch.travellers, k => k.ptc).forEach(group => {\n      let offerItem = {\n          offerItemID: searchResult.selectedOffer.offerID + \"-\" + (offer.offerItem.length + 1),\n          passengerRefs: []\n      }\n      group.value.forEach((el, idx) => {\n        let passengerObj = {\n          ptc: group.key,\n          passengerID: this.passengerService.titleByPtc(group.key, idx + 1)\n        }\n        passengers.push(passengerObj);\n        offerItem.passengerRefs.push(passengerObj.passengerID);\n      });\n      offer.offerItem.push(offerItem);\n    });\n\n    offerQuery.dataLists.passengerList.passenger = passengers;\n    offerQuery.query.offer.push(offer);\n\n    return this.airlineRetrieveService.getOfferPrice(offerQuery);\n  }\n\n  groupReshopOffers(reshopOffers: AirlineReshopOffer[], timeFormat: timeFormat): AirlineGrouppedFlightsViewModel[] {\n    let list: Array<AirlineGrouppedFlightsViewModel> = this.arrayHelperService.groupBy(reshopOffers, \n      (k: AirlineReshopOffer) => k.flightsOverview.flightRef.map(fl => fl.value.flightKey).join(''),\n      (val: AirlineReshopOffer) => val,\n      (group: Array<AirlineReshopOffer>) => {\n        return {\n          flightList: group[0].flightsOverview.flightRef.map(i => this.airlineFlightService.createFlightViewModel(i.value.segmentReferences.value)),\n          flightFares: this.arrayHelperService.sortBy(group.map(i => this.airlineFareService.flightFareFromReshop(i)), this.sortByCabinTypeAndPrice)\n        };\n      }).map(i => ({\n        key: i.key,\n        flightFares: i.total.flightFares,\n        flightList: i.total.flightList,\n      }));\n      \n    if (timeFormat === '12') {\n      this.changeFlightTimeFormat(list, timeFormat);\n    }\n\n    list = list.sort((a, b) => a.flightFares[0].totalPrice - b.flightFares[0].totalPrice);\n    return list;\n  }\n  \n\n  groupOffersByFlights(offersWithDetails: Array<AirlineOfferWithDetails>, timeFormat: timeFormat): Array<AirlineGrouppedFlightsViewModel> {\n    let list = this.arrayHelperService.groupBy(offersWithDetails,\n      (key: AirlineOfferWithDetails) => key.flightsPlusSegments.map((segment) => segment.flight.flightKey).join(''),\n      (val: AirlineOfferWithDetails) => val,\n      (group: Array<AirlineOfferWithDetails>) => {\n        return {\n          flightList: group[0].flightsPlusSegments.map(i => this.airlineFlightService.createFlightViewModel(i.flight.segmentReferences.value)),\n          flightFares: this.arrayHelperService.sortBy(group.map(i => this.airlineFareService.flightFareFromOffer(i)), this.sortByCabinTypeAndPrice),\n        };\n      }).map(i => ({\n        key: i.key,\n        flightFares: i.total.flightFares,\n        flightList: i.total.flightList,\n      }));\n\n    if (timeFormat === '12') {\n      this.changeFlightTimeFormat(list, timeFormat);\n    }\n\n    list = list.sort((a, b) => a.flightFares[0].totalPrice - b.flightFares[0].totalPrice);\n    return list;\n  }\n\n  changeFlightTimeFormat(data: Array<AirlineGrouppedFlightsViewModel>, timeFormat: timeFormat) {\n    data.forEach(group => group.flightList.forEach(flight => {\n\n      flight.departureTime = this.airlineDatetimeService.changeTimeFormat(flight.departureTime, timeFormat);\n      flight.arrivalTime = this.airlineDatetimeService.changeTimeFormat(flight.arrivalTime, timeFormat);\n\n      if(flight.flightSegments && flight.flightSegments.length) {\n        flight.flightSegments.forEach(segment => {\n          segment.departureTime = this.airlineDatetimeService.changeTimeFormat(segment.departureTime, timeFormat);\n          segment.arrivalTime = this.airlineDatetimeService.changeTimeFormat(segment.arrivalTime, timeFormat);\n        });\n      }\n    }));\n  }\n\n  getPricedOfferViewModel(data: AirlinePricedOfferResponse): AirlineOfferViewModel {\n    return this.getOfferViewModel(data.pricedOffer.offerItem, data.dataLists, data.shoppingResponseID.responseID.value, data.pricedOffer.owner, data.pricedOffer.offerID);\n  }\n\n  getReshopOfferViewModel(offer: AirlineReshopOffer, dataLists, responseID: string) {\n    return this.getOfferViewModel(offer.addOfferItem, dataLists, responseID, offer.owner, offer.offerID);\n  }\n\n  getOfferViewModel(offerItems: AirlineOfferItem[], dataLists, responseID: string, owner: string, offerID: string){\n    let flights = this.airlineFareService.getFlightList(offerItems[0].fareDetail[0].fareComponent);\n    let passengers = dataLists.passengerList.passenger.map(i => this.getPassengerViewModel(i, offerItems));\n    let viewModel: AirlineOfferViewModel = {\n      dataLists: dataLists,\n      responseID: responseID,\n      offerID: offerID,\n      owner: owner,\n      flights: flights,\n      passengers: passengers,\n      offerItems: offerItems\n    };\n\n    if(passengers.length){\n      passengers[0].showDetails = true;\n    }\n\n    return viewModel;\n  }\n\n  getPassengerViewModel(passenger: AirlinePassenger, offerItems: AirlineOfferItem[]) : AirlinePassengerSummaryViewModel {\n    let fare = this.getPassengerFlightFare(passenger, offerItems);\n    let result: AirlinePassengerSummaryViewModel = {\n      data: passenger,\n      label: passenger.passengerID,\n      orderSummary: {\n        fare: fare,\n        selectedSeats: []\n      }\n    };\n    return result;\n  }\n\n  getPassengerFlightFare(passenger: AirlinePassenger, offerItems: AirlineOfferItem[]) : AirlineFareViewModel {\n    let offerItem = offerItems.find(i => i.fareDetail && i.fareDetail[0].passengerRefs.value.find(p => p.passengerID == passenger.passengerID));\n    let vm : AirlineFareViewModel = null;\n    if(offerItem){\n      vm = this.airlineFareService.fromPricedOfferItem(offerItem);\n    }\n    return vm;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { AirlineFlightSegmentViewModel } from '../viewmodels/airline-flight-segment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AirlineDatetimeService {\n\n  constructor() { }\n\n  truncateTime(datetime: Date){\n    if(datetime == null) {\n      datetime = new Date()\n    } else {\n      datetime = new Date(datetime)  \n      var userTimezoneOffset = datetime.getTimezoneOffset() * 60000;\n      datetime = new Date(datetime.getTime() - userTimezoneOffset);\n      // time = new Date(time)  \n    }\n    const timeStr = datetime.toISOString()\n    return timeStr.substring(0, timeStr.lastIndexOf('T')) + 'T00:00:00';\n  }\n\n  flightDuration(val: string) : {hours: number, minutes: number}{ \n    let regex = new RegExp(/(?<hours>\\d+)H(\\s)*(?<minutes>\\d+)M/gi);\n    let result = regex.exec(val);\n    return { hours: Number(result.groups['hours']), minutes: Number(result.groups['minutes'])};\n  }\n\n  getTotalTravelTime(flightSegments: AirlineFlightSegmentViewModel[]) {\n    \n    // total = sum('flight duration') + sum('pause between flights')\n    let totalInSeconds = 0;\n\n    // flight duration \n    flightSegments.forEach(i => {\n      let duration = this.flightDuration(i.flightDuration);\n      let durationInSeconds = duration.hours * 3600 + duration.minutes * 60;\n      totalInSeconds += durationInSeconds;\n    });\n\n    // pause between flights\n    for(let i = 1; i < flightSegments.length; i++){\n      let pFlightSegment = flightSegments[i-1];\n      let flightSegment = flightSegments[i];\n      const arrivalTime = new Date(pFlightSegment.arrivalDate + \"T\" + pFlightSegment.arrivalTime);\n      const nextDepartureTime = new Date(flightSegment.departureDate + \"T\" + flightSegment.departureTime);\n      const timeMS = nextDepartureTime.getTime() - arrivalTime.getTime();\n      totalInSeconds += timeMS / 1000;\n    }\n    \n    const hours = Math.floor(totalInSeconds / 3600);\n    const minutes = (Math.floor(totalInSeconds / (60)) % 60);\n\n    return hours + \"H \" +  minutes + \"M\";\n  }\n\n  getTotalDays(flightSegments: AirlineFlightSegmentViewModel[]) {\n    const firstFlightSegment = flightSegments[0];\n    const lastFlightSegment = flightSegments.length > 1 ? flightSegments[flightSegments.length -1] : flightSegments[0];\n    return this.getDayDiff(firstFlightSegment.departureDate, lastFlightSegment.arrivalDate);\n  }\n  \n  getDayDiff(startDateStr, endDateStr) {\n    const startDate = new Date(startDateStr);\n    const endDate = new Date(endDateStr);\n    const timeMS = endDate.getTime() - startDate.getTime(); \n    const days = Math.floor(timeMS / (60*60*1000*24));\n    return days;    \n  }\n\n  getTimeDiff(pFlightSegment: AirlineFlightSegmentViewModel, flightSegment: AirlineFlightSegmentViewModel) {\n    const pFlightSegmentDate = new Date(pFlightSegment.arrivalDate + \"T\" + pFlightSegment.arrivalTime + \":00\")\n    const flightSegmentDate = new Date(flightSegment.departureDate + \"T\" + flightSegment.departureTime + \":00\")\n    var diff = flightSegmentDate.getTime() - pFlightSegmentDate.getTime() ;\n    return this.msToTime(diff);\n  }\n  \n  msToTime(duration: number) {\n    let seconds: any = Math.floor((duration / 1000) % 60);\n    let minutes: any = Math.floor((duration / (1000 * 60)) % 60);\n    let hours: any = Math.floor((duration / (1000 * 60 * 60)) % 24);\n\n    hours = (hours < 10) ? \"0\" + hours : hours;\n    minutes = (minutes < 10) ? \"0\" + minutes : minutes;\n    seconds = (seconds < 10) ? \"0\" + seconds : seconds;\n\n    //return hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\n    if(parseInt(hours) == 0){\n      return minutes + \"M\";\n    } else {\n      return hours + \"H \" + minutes + \"M\";\n    }\n  }\n\n  public changeTimeFormat(time: string, timeFormat: '12' | '24'): string {\n    return timeFormat == '12' ? this.changeTimeFormatTo12(time) : this.changeTimeFormatTo24(time);\n  }\n\n  private changeTimeFormatTo12(time: string): string {\n    const match = (time || '').match(/^([0-9]{1,2}):([0-9]{1,2})$/);\n\n    if(!match) {\n      console.log(`Invalid 24-time value: ${time}`);\n      return time;\n    }\n\n    let hour = parseInt(match[1]);\n    const amOrPm = hour >= 12 ? 'pm' : 'am';\n    hour = (hour % 12) || 12;\n    return `${hour}:${match[2]} ${amOrPm}`;\n  }\n\n  private changeTimeFormatTo24(time: string): string {\n    const match = (time || '').match(/^([0-9]{1,2}):([0-9]{1,2}) (am|pm)$/i);\n\n    if(!match) {\n      console.log(`Invalid 12-time value: ${time}`);\n      return time;\n    }\n\n    let [_, hour, minute, amOrPm] = match;\n    if (hour === '12') {\n      hour = '00';\n    }\n\n    if (amOrPm.toLowerCase() === 'pm') {\n      hour = (parseInt(hour) + 12).toString();\n    }\n\n    return `${hour}:${minute}`;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { concat, Observable, of, zip } from 'rxjs';\nimport { concatMap, map, switchMap } from 'rxjs/operators';\nimport { AirlinePassenger } from '../models/passenger/airline-passenger';\nimport { AirlineOrderViewModel } from '../viewmodels/airline-order';\nimport { AirlinePassengerSummaryViewModel } from '../viewmodels/airline-passenger';\nimport { AirlinePtc, AirlinePtcCount } from '../viewmodels/airline-ptc';\nimport { AirlineSearch } from '../viewmodels/airline-search';\nimport { AirlineRetrieveService } from './airline-retrieve.service';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class AirlinePassengerService {\n\n  private empty: string = \"NA\";\n\n  private supportedPtcs: Array<AirlinePtc> = [{\n    ptcCode: \"ADT\",\n    ageFrom: 16,\n    ageTo: 64,\n    title: \"Adult\"\n  }, {\n    ptcCode: \"CNN\",\n    ageFrom: 2,\n    ageTo: 15,\n    title: \"Child\"\n  }, {\n    ptcCode: \"INS\",\n    ageFrom: null,\n    ageTo: 2,\n    title: \"Infant\"\n  }, {\n    ptcCode: \"SRC\",\n    ageFrom: 65,\n    ageTo: null,\n    title: \"Senior\"\n  }]\n\n  constructor(private airlineRetrieveService: AirlineRetrieveService) { }\n\n  diffAndSaveChanges(orderID: string, orderViewModel: AirlineOrderViewModel) {\n    let newPassengers = orderViewModel.changedPassengerList.passenger;\n    let namePassengerServicing = [];\n    let otherPassengerServicing = [];\n\n    let oldPassengers = orderViewModel.passengers;\n    newPassengers.forEach(p => {\n      let newPassenger = p;\n      let oldPassenger = oldPassengers.find(i => i.data.passengerID == newPassenger.passengerID).data;\n\n      this.updatePassengerBeforeSending(newPassenger);\n      this.updatePassengerBeforeSending(oldPassenger);\n      if(oldPassenger.individual.givenName != newPassenger.individual.givenName || oldPassenger.individual.middleName != newPassenger.individual.middleName || \n        oldPassenger.individual.nameTitle != newPassenger.individual.nameTitle || oldPassenger.individual.surname != newPassenger.individual.surname){\n          namePassengerServicing.push({\n            new: {\n              passengerID: newPassenger.passengerID,\n              individual: {\n                nameTitle: newPassenger.individual.nameTitle,\n                givenName: newPassenger.individual.givenName,\n                middleName: newPassenger.individual.middleName,\n                surname: newPassenger.individual.surname\n              },\n              actionType: \"name\"\n            },\n            previous: {\n              passengerID: oldPassenger.passengerID,\n              individual: {\n                nameTitle: oldPassenger.individual.nameTitle,\n                givenName: oldPassenger.individual.givenName,\n                middleName: oldPassenger.individual.middleName,\n                surname: oldPassenger.individual.surname\n              },\n              actionType: \"name\"\n            }\n          });\n        }\n        if(oldPassenger.individual.birthdate != newPassenger.individual.birthdate || oldPassenger.individual.gender != newPassenger.individual.gender){\n          otherPassengerServicing.push({\n            new: {\n              passengerID: newPassenger.passengerID,\n              individual: {\n                surname: newPassenger.individual.surname,\n                gender: newPassenger.individual.gender,\n                birthdate: newPassenger.individual.birthdate\n              },\n              actionType: \"other\"\n            },\n            previous: { \n              passengerID: oldPassenger.passengerID,\n              individual: {\n                surname: newPassenger.individual.surname,\n                gender: oldPassenger.individual.gender,\n                birthdate: oldPassenger.individual.birthdate\n              },\n              actionType: \"other\"\n            }\n          });\n        }\n    });\n\n    let changeNamesQuery = {\n      query: {\n        orderID: orderID,\n        passengerServicing: namePassengerServicing\n      }\n    }\n    \n    let otherChangeQuery = {\n      query: {\n        orderID: orderID,\n        passengerServicing: otherPassengerServicing\n      }\n    }\n    if(namePassengerServicing.length && otherPassengerServicing.length){\n      return concat(this.airlineRetrieveService.orderChange(changeNamesQuery, \"Changing passenger details...\", true), this.airlineRetrieveService.orderChange(otherChangeQuery, \"Changing passenger details...\", true));  \n    }\n    else if(namePassengerServicing.length){\n      return this.airlineRetrieveService.orderChange(changeNamesQuery, \"Changing passenger details...\", true);\n    }\n    else if (otherPassengerServicing.length){\n      return this.airlineRetrieveService.orderChange(otherChangeQuery, \"Changing passenger details...\", true);\n    }\n    else{\n      return of(null);\n    }\n  }\n\n\n  getSupportedPtcs(): string[] {\n    return this.supportedPtcs.map(i => i.ptcCode);\n  }\n \n  getAdult(): AirlinePtc { \n    let adult = this.supportedPtcs.find(i => i.ptcCode == \"ADT\");\n    let copy = JSON.parse(JSON.stringify(adult));\n    return copy;\n  }\n  \n  titleByPtc(ptcCode: string, index: number) {\n    let title = this.supportedPtcs.find(i => i.ptcCode == ptcCode).title;\n    if(index){\n      title += \"-\" + index;\n    }\n    return title;\n  }\n\n  getPassengerLabel(passenger: AirlinePassenger): string {\n    return passenger.passengerID;\n  } \n\n  getPtcLabel(ptcCode: string): string{\n    let ptc = this.supportedPtcs.find(i => i.ptcCode == ptcCode);\n    let label = ptc.title;\n    if(ptc.ageTo && ptc.ageFrom){\n      label += ` (${ptc.ageFrom}-${ptc.ageTo})`;\n    }\n\n    if(ptc.ageFrom && !ptc.ageTo){\n      label += ` (${ptc.ageFrom}+)`;\n    }\n    \n    if(!ptc.ageFrom && ptc.ageTo){\n      label += ` (under ${ptc.ageTo})`;\n    }\n    return label;\n  }\n\n  getTotal(ptcCount: AirlinePtcCount){\n    let total = 0;\n    this.supportedPtcs.forEach(ptc => {\n      total += ptcCount.ptcCount[ptc.ptcCode] ?? 0;\n    })\n    return total;\n  }\n\n  updatePassengerAfterReceiving(p: AirlinePassenger){\n    if(p.individual.middleName && p.individual.middleName.length && p.individual.middleName[0] == this.empty){\n      p.individual.middleName = [\"\"];\n    }\n  }\n\n  updatePassengerBeforeSending(p: AirlinePassenger){\n    if(p.contactInfoRef){\n      p.contactInfoRef = ((<any>p.contactInfoRef).contactID || p.contactInfoRef)\n    }\n\n    if(p.individual.middleName && (!p.individual.middleName.length || (p.individual.middleName.length === 1 && p.individual.middleName[0].trim() === \"\"))){\n      p.individual.middleName = [this.empty]\n    }\n  }\n\n  setLoyaltyProgramPassengers(passengers, airlineSearch: AirlineSearch) {\n    if(!(airlineSearch.loyaltyAccountNumber) && airlineSearch.isLoyaltyAccountEnabled) {\n      passengers.forEach(passenger => {\n        passenger.loyaltyProgramAccount = [\n          {\n              \"airline\": {\n                  \"airlineDesignator\": \"AA\"\n              },\n              \"accountNumber\": airlineSearch.loyaltyAccountNumber\n          }]\n      }); \n    } else {\n      passengers.forEach(passenger => {\n        delete passenger.loyaltyProgramAccount;\n      });\n    }\n    return passengers;\n  }\n\n}","import { Component, EventEmitter, Input, Output} from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { collapseAnimation } from '../../../../../animations';\nimport { timeFormat } from '../../../../../shared/models/airline.model';\nimport { LocalStorage } from '../../../../../shared/storage/local-storage';\nimport { Airline } from '../../airline';\nimport { AirlineFlightFareViewModel } from '../../viewmodels/airline-flight-fare';\nimport { AirlineGrouppedFlightsViewModel } from '../../viewmodels/airline-groupped-flights';\nimport { AirlineOfferService } from '../../services/airline-offer.service';\nimport { AirlineSearchResult } from '../../viewmodels/airline-search-result';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { AirlinePricedOfferResponse } from '../../models/offer/airline-priced-offer';\nimport {FlightFarePriceInfoViewType} from '../../enums/flight-fare-price-info-view.enum';\nimport { AirlineLoaderService } from '../../services/airline-loader.service';\n\n@Component({\n  selector: 'app-airline-search-result',\n  templateUrl: './airline-search-result.component.html',\n  styleUrls: ['./airline-search-result.component.scss'],\n  animations: [\n    collapseAnimation\n  ],\n})\nexport class AirlineSearchResultComponent extends Airline {\n\n  @Input() searchResult: AirlineSearchResult;\n  @Input() selectButtonText: string;\n\n  FlightFarePriceInfoViewType = FlightFarePriceInfoViewType;\n  selectedFare: AirlineFlightFareViewModel;\n  @Output() selectionDone = new EventEmitter();\n\n  constructor(\n      public airlineLoaderService: AirlineLoaderService,\n      private airlineOfferService: AirlineOfferService,\n      loginService: LoginService,\n      private localStorage: LocalStorage) {\n    super(loginService);\n  }\n\n  toggleFare(groupFlight: AirlineGrouppedFlightsViewModel): void {\n    \n    if (groupFlight.showPrices === null){\n      groupFlight.showPrices = false;\n    }\n    if(groupFlight.showPrices === false) {\n      groupFlight.flightList.forEach(i => i.stopShow = false);\n    }\n    groupFlight.showPrices = !groupFlight.showPrices;\n  }\n\n  selectFare(groupFlight: AirlineGrouppedFlightsViewModel, flightFare: AirlineFlightFareViewModel) {\n    this.selectedFare = flightFare;\n    this.searchResult.selectedOffer = {\n      originalOffer: this.selectedFare.originalOffer,\n      flightList: groupFlight.flightList,\n      offerID: flightFare.offerID,\n    };\n  }\n\n  bookNow() {\n    this.removeStopShowDisplay();\n    this.selectionDone.emit();\n  }\n\n  removeStopShowDisplay() {\n    if(this.searchResult.selectedOffer){\n      this.searchResult.selectedOffer.flightList.forEach(flight => flight.stopShow = false);\n    }\n  }\n\n  changeFlightsTimeFormat(e) {\n    this.searchResult.timeFormat = e.target.value;\n    localStorage.setItem('timeFormat', this.searchResult.timeFormat);\n    this.airlineOfferService.changeFlightTimeFormat(this.searchResult.grouppedFlightList, this.searchResult.timeFormat);\n  }\n\n  getDuePrice(fare: AirlineFlightFareViewModel){\n    if(!fare.reshopPrices){\n      return fare.totalPrice;\n    }\n\n    return fare.reshopPrices.reshopDue - fare.reshopPrices.original;\n  }\n}\n\n","<div [hidden]=\"!airlineLoaderService.isSearchResultLoaderShown()\">\n    <app-airline-loader></app-airline-loader>\n</div>\n<div [hidden]=\"airlineLoaderService.isSearchResultLoaderShown()\">\n    <div *ngIf=\"searchResult.isSearchCompleted && (searchResult.grouppedFlightList == null || searchResult.grouppedFlightList.length == 0)\" class=\"alert alert-custom alert-outline-info fade show text-center border-0\" role=\"alert\">\n        <div class=\"alert-text h2\">\n            <i class=\"fas fa-plane icon-2x text-info pr-2\"> No Flights Found </i>\n            <div class=\"mt-3\">\n                No flights found on this route for the requested date.\n            </div>\n        </div>\n    </div>\n\n    <!--begin:: header-->\n    <div *ngIf=\"searchResult.grouppedFlightList != null && searchResult.grouppedFlightList.length != 0\">\n        <div id=\"tf-selector\" class=\"d-flex flex-row justify-content-end\">\n            <span class=\"font-size-h5\">Time format:</span>\n\n            <input type=\"radio\" id=\"tf12\" name=\"time-format\" value=\"12\" (change)=\"changeFlightsTimeFormat($event)\"\n                [checked]=\"searchResult.timeFormat == 12\">\n            <label for=\"tf12\">12-hour am/pm</label>\n\n            <input type=\"radio\" id=\"tf24\" name=\"time-format\" value=\"24\" (change)=\"changeFlightsTimeFormat($event)\"\n                [checked]=\"searchResult.timeFormat == 24\">\n            <label for=\"tf24\">24-hour</label>\n        </div>\n    </div>\n    <!--end:: header-->\n\n    <div class=\"row gutter-b mt-5\" *ngIf=\"searchResult.grouppedFlightList && searchResult.grouppedFlightList.length\">\n        <div class=\"col-12\">\n\n            <div id=\"list-header\" class=\"col-12 card card-custom mb-3\">\n                <div class=\"d-flex align-items-center flex-wrap p-5\">\n                    <div class=\"d-flex flex-fill first-column-width-r\">\n                        <div class=\"w-50\">Airline / Flt # and type of airplane</div>\n                        <div>Departure / Time of flight / Arrival</div>\n                    </div>\n                    <div class=\"d-flex justify-content-end flex-grow-100\">Cost</div>\n                </div>\n            </div>\n\n            <!--begin::Card-->\n            <div class=\"card card-custom mb-3\" *ngFor=\"let groupFlight of searchResult.grouppedFlightList\">\n                <div class=\"card-body p-0\">\n                    <div class=\"d-flex align-items-center flex-wrap\"  [ngClass]=\"searchResult.selectedOffer != null && groupFlight.flightList == searchResult.selectedOffer.flightList ? 'border-solid border-2 border-success rounded' : ''\">\n                        <div class=\"d-flex flex-column first-column-width-r\">\n                            <app-airline-flight-item [flights]=\"groupFlight.flightList\"></app-airline-flight-item>\n                        </div>\n                        <div class=\"hrVertical h-150px\"></div>\n                        <div class=\"d-flex justify-content-end flex-grow-100 align-self-baseline mt-15 pl-5 pr-5\">\n                            <h1 class=\"pt-3 mr-4\">\n                                <ng-container [ngTemplateOutlet]=\"farePrice\"\n                                    [ngTemplateOutletContext]=\"{fare: (searchResult.selectedOffer != null && groupFlight.flightList == searchResult.selectedOffer.flightList ? selectedFare : groupFlight.flightFares[0])}\">\n                                </ng-container>\n                            </h1>\n                            <a (click)=\"toggleFare(groupFlight)\" class=\"btn btn-outline-primary font-weight-bold font-size-h4 price-ctrl\">\n                                <div class=\"d-flex flex-row\">\n                                    <div class=\"text-right\">\n                                        <p>{{ (!groupFlight.showPrices ? \"Show\" : \"Hide\") + \" Prices\" }}</p>\n                                        <p class=\"font-size-sm\">book flight</p>\n                                    </div>\n                                    <i class=\"fas ml-2 mt-1\" [ngClass]=\"!groupFlight.showPrices ? 'fa-chevron-down' : 'fa-chevron-up'\"></i>\n                                </div>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"separator separator-dashed border-secondary\" *ngIf=\"groupFlight.showPrices\"></div>\n                <!--begin::Items-->\n                <div class=\"d-flex justify-content-end flex-wrap\" [@collapse]=\"!groupFlight.showPrices\">\n                    <div *ngFor=\"let flightFare of groupFlight.flightFares\"\n                        class=\"flight-fare bgLightyellow pl-5 pr-5 pt-3 pb-3\"\n                        [ngClass]=\"searchResult.selectedOffer && flightFare == selectedFare ? 'bg-primary text-white' : 'bg-hover-primary text-hover-white'\"\n                        (click)=\"selectFare(groupFlight, flightFare)\">\n                        \n                        <div class=\"cabin-type-container\">\n                            <span class=\"cabin-type font-weight-bold opacity-60\">{{flightFare.cabinType}}</span>\n                        </div>\n                        <span class=\"font-size-h2\">\n                            <ng-container [ngTemplateOutlet]=\"farePrice\" [ngTemplateOutletContext]=\"{fare: flightFare}\"></ng-container>\n                        </span>\n                        <div>\n                            <app-airline-flight-fare-info [flightRules]=\"flightFare.flightRules\"\n                                                        [viewType]=\"FlightFarePriceInfoViewType.Popup\">\n                            </app-airline-flight-fare-info>\n                        </div>\n                    </div>\n                </div>\n                <!--end::Items-->\n            </div>\n            <!--end::Card-->\n        </div>\n    </div>\n\n    <!--begin:: Total-->\n    <div class=\"colorBlock\" *ngIf=\"searchResult.selectedOffer != null\">\n        <div class=\"d-flex align-items-center flex-wrap p-3\">\n            <div class=\"d-flex flex-fill\">\n                <ng-container  *ngFor=\"let flight of searchResult.selectedOffer.flightList\">\n                    <div class=\"d-flex flex-row flex-fill\">\n                        <div class=\"d-flex align-items-center flex-lg-fill\">\n                            <div class=\"symbol symbol-50 bg-white-o-30 mr-4\">\n                                <img (error) =\"onImgError($event)\" [src]=\"getImageName(flight.flightSegments[0].airlineID)\" alt=\"image\" />\n                            </div>\n                            <div class=\"d-flex flex-column flex-wrap\">\n                                <h5 class=\"mb-1\">{{flight.flightSegments[0].airlineName}}</h5>\n                                <div class=\"d-flex\">\n                                    <span class=\"text-white-50 font-weight-bold mr-2\">{{flight.flightSegments[0].airlineID + flight.flightSegments[0].flightNumber}}</span>\n                                    <span class=\"text-white-50 font-weight-bold mr-2\">|</span>\n                                    <span class=\"text-white-50 font-weight-bold mr-2\">{{flight.flightSegments[0].aircraftName}}</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"d-flex align-items-center flex-lg-fill\">\n                            <div class=\"d-flex flex-column flex-wrap align-items-end\">\n                                <h5 class=\"mb-1\">{{ flight.departureTime }}</h5>\n                                <span class=\"text-white-50 font-weight-bold\">{{ flight.departureAirportCode }}</span>\n                            </div>\n                            <div class=\"d-flex flex-column flex-wrap align-items-center pl-2 pr-2\">\n                                <h5 class=\"mb-1\">-</h5>\n                                <span class=\"text-primary font-weight-bold\">-</span>\n                            </div>\n                            <div class=\"d-flex flex-column flex-wrap\">\n                                <h5 class=\"mb-1\">{{ flight.arrivalTime }}\n                                    <span *ngIf=\"nonZero(flight.totalDays)\" class=\"label label-light-danger label-inline font-weight-bold align-top\">+{{flight.totalDays}} day</span>\n                                </h5>\n                                <span class=\"text-white-50 font-weight-bold\"> {{ flight.arrivalAirportCode }}</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"hrVerticalLight mr-5 h-50px\"></div>\n                </ng-container>\n            </div>\n            <div class=\"d-flex align-items-right\">\n                <h1 class=\"pt-3 mr-4\">\n                    <ng-container [ngTemplateOutlet]=\"farePrice\" [ngTemplateOutletContext]=\"{fare: selectedFare}\"></ng-container>\n                </h1>\n                \n                <a (click)=\"bookNow()\" class=\"btn btn-outline-primary font-weight-bold font-size-h4 bg-white text-dark-75\">\n                    {{selectButtonText}}\n                </a>\n            </div>\n        </div>\n    </div>\n<!--end:: Total-->\n</div>\n\n<ng-template #farePrice let-fare=\"fare\">\n    ${{ fare.totalPrice | number : '1.2-2' }}\n                <div class=\"text-right\" *ngIf=\"fare.reshopPrices\">\n                    <span class=\"font-size-h5\" [ngClass]=\"due >= 0 ? 'text-danger' : 'text-success'\" *ngVar=\"getDuePrice(fare) as due\">${{ due >= 0 ? '+' : ''}}{{ due | number : '1.2-2' }}</span>\n                </div>\n</ng-template>","import { AfterViewInit, Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport {MatSort, Sort} from '@angular/material/sort';\n\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { LocalStorage } from '../../../../../shared/storage/local-storage';\nimport { AirlineOrderService } from '../../services/airline-order.service';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { AirlineRetrieveService } from '../../services/airline-retrieve.service';\nimport { AirlineOrderByName as AirlineGetOrderByNameResponse } from '../../models/order/airline-order-by-name';\nimport { AirlineOrderStatus } from '../../models/order/airline-order-status';\nimport { AirlineOrderListItem } from '../../viewmodels/airline-order-list-item';\nimport { AirlineLoaderService } from '../../services/airline-loader.service';\n\n@Component({\n  selector: 'app-airline-orders',\n  templateUrl: './airline-orders.component.html',\n  styleUrls: ['./airline-orders.component.css']\n})\nexport class AirlineOrdersComponent extends Airline implements OnInit, AfterViewInit  {\n\n  public searchOrderFG = new FormGroup({   \n    FirstName: new FormControl(''), \n    LastName: new FormControl('')\n  });\n  public searchOrderIdFG = new FormGroup({   \n    OrderId: new FormControl('', Validators.required), \n  });\n  public isSubmitted = false;\n  public orders: Array<AirlineOrderListItem> = [];\n  public sortedOrders: MatTableDataSource<AirlineOrderListItem>;\n\n  displayedColumns: string[] = ['OrderId', 'PassengerName', 'Departure', 'Airport', 'CreationDate', 'AgencyName', 'AgencyId'];\n  @ViewChild(MatSort) sort: MatSort;\n\n  constructor(private router: Router, loginService: LoginService,\n    private retrieveService: AirlineRetrieveService,\n    private airlineOrderService: AirlineOrderService,\n    public airlineLoaderService: AirlineLoaderService) { \n    super(loginService);\n    document.body.style.backgroundSize = \"100% 165px\";\n    this.search();\n  }\n\n  ngOnInit(): void {\n  }\n\n  ngAfterViewInit() {\n  }\n\n  search() {\n    this.isSubmitted = true;\n    if(this.searchOrderFG.valid) {\n      const value = this.searchOrderFG.value;\n      this.searchOrderIdFG.reset();\n      this.retrieveService.getOrderByName(value.FirstName, value.LastName).subscribe((data: AirlineGetOrderByNameResponse) => {\n        this.orders = this.airlineOrderService.getOrderByNameViewModel(data);\n        this.sortedOrders = new MatTableDataSource(this.orders.slice());\n        this.sortedOrders.sort = this.sort;\n      });\n    } else {\n      this.searchOrderFG.markAllAsTouched();\n    }\n  }\n\n  searchById() {\n    this.isSubmitted = true;\n    if(this.searchOrderIdFG.valid) {\n      const value = this.searchOrderIdFG.value;\n      this.searchOrderFG.reset();\n      this.retrieveService.getOrderById(value.OrderId).subscribe((data: AirlineOrderStatus) => {\n        // console.log('gerOrderByName');\n        // console.log(data);\n        let order: AirlineOrderListItem = this.airlineOrderService.getOrderByIdViewModel(data);\n        this.orders = [order];\n        this.sortedOrders = new MatTableDataSource(this.orders.slice());\n        this.sortedOrders.sort = this.sort;\n      });\n    } else {\n      this.searchOrderFG.markAllAsTouched();\n    }\n  }\n}\n","<div class=\"d-flex flex-column-fluid\">    \n  <div class=\"container\">\n    <!--begin::Row-->\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"brdSmallBlock gutter-b d-flex\">\n          <div class=\"brdSmallBlock_inner pt-4 flex-column\">\n            <h2 class=\"text-white pl-2 opacity-70\">Order Details</h2>\n            <h6 class=\"text-white-50 pl-2\">List of Orders based on search criteria</h6>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!--end::Row-->    \n      <div class=\"card card-custom\">\n        <div class=\"card-header\">\n          <div class=\"card-title w-100\">\n            <div class=\"row w-100\">\n              <div class=\"align-items-center col-6\">\n                <form [formGroup]=\"searchOrderFG\" class=\"d-flex\">\n                  <mat-form-field class=\"\" appearance=\"outline\">\n                    <mat-label>First Name</mat-label>\n                    <input matInput formControlName=\"FirstName\">\n                    <mat-error *ngIf=\"searchOrderFG.get('FirstName').hasError('required')\">First Name is Required</mat-error>\n                  </mat-form-field>\n                  <mat-form-field class=\"ml-2\" appearance=\"outline\">\n                    <mat-label>Last Name</mat-label>\n                    <input matInput formControlName=\"LastName\">\n                    <mat-error *ngIf=\"searchOrderFG.get('LastName').hasError('required')\">Last Name is Required</mat-error>\n                  </mat-form-field>\n                  <button type=\"button\" (click)=\"search()\" class=\"btn btn-primary font-size-h5 ml-2 mt-2 h-40px\">Search</button>\n                  </form>\n              </div>\n              <div class=\"mb-5 justify-content-center align-self-center col-1\">\n                  (OR)\n              </div>\n              <div class=\"align-items-center col-5\">\n                <form [formGroup]=\"searchOrderIdFG\" class=\"d-flex\">\n                  <mat-form-field class=\"\" appearance=\"outline\">\n                    <mat-label>OrderId</mat-label>\n                    <input matInput formControlName=\"OrderId\" required>\n                    <mat-error *ngIf=\"searchOrderIdFG.get('OrderId').hasError('required')\">OrderId is Required</mat-error>\n                  </mat-form-field>\n                  <button type=\"button\" (click)=\"searchById()\" class=\"btn btn-primary font-size-h5 ml-2 mt-2 h-40px\">Search</button>\n                </form>\n              </div>\n            </div>  \n          </div>\n          \n        </div>\n        <div class=\"card-body p-0\">        \n            <table [hidden]=\"airlineLoaderService.isSearchResultLoaderShown()\" mat-table [dataSource]=\"sortedOrders\" [ngClass]=\"isSubmitted ? '' : 'd-none'\" matSort matSortActive=\"CreationDate\" matSortDirection=\"desc\" class=\"w-100\">  \n              <!--- Note that these columns can be defined in any order.\n                    The actual rendered columns are set as a property on the row definition\" -->            \n              <!-- Position Column -->\n              <ng-container matColumnDef=\"OrderId\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Order Id </th>\n                <td mat-cell *matCellDef=\"let element\"> \n                    <a routerLink=\"/Airlines/Orders/{{element.OrderId}}\">\n                      {{element.OrderId}} \n                    </a>\n                </td>\n              </ng-container>\n            \n              <!-- Name Column -->\n              <ng-container matColumnDef=\"PassengerName\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Passenger Name </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.PassengerName}} </td>\n              </ng-container>\n            \n              <!-- Weight Column -->\n              <ng-container matColumnDef=\"Departure\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Departure </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.Departure}} </td>\n              </ng-container>\n            \n              <!-- Symbol Column -->\n              <ng-container matColumnDef=\"Airport\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Airport </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.Airport}} </td>\n              </ng-container>\n              \n              <!-- Symbol Column -->\n              <ng-container matColumnDef=\"CreationDate\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Created </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.CreationDate}} </td>\n              </ng-container>\n\n              <!-- Symbol Column -->\n              <ng-container matColumnDef=\"AgencyName\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Agency </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.AgencyName}} </td>\n              </ng-container>\n              \n              <!-- Symbol Column -->\n              <ng-container matColumnDef=\"AgencyId\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Agency Id </th>\n                <td mat-cell *matCellDef=\"let element\"> {{element.AgencyId}} </td>\n              </ng-container>\n              \n              <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n              <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n            </table>          \n            <app-airline-loader [hidden]=\"airlineLoaderService.isSearchResultLoaderHidden()\"></app-airline-loader>\n        </div>\n      </div>\n  </div>\n</div>\n\n\n\n","import { Injectable } from '@angular/core';\nimport { ArrayHelperService } from 'src/app/shared/services/array-helper.service';\nimport { AirlineOfferWithDetails } from '../models/offer/airline-offer-details';\nimport { AirlineOfferItem } from '../models/offer/airline-offer-item';\nimport { AirlineOrderItem } from '../models/order/airline-order-item';\nimport { AirlineFareComponent } from '../models/price/airline-fare';\nimport { AirlineFareViewModel } from '../viewmodels/airline-fare-price';\nimport { AirlineFlightViewModel } from '../viewmodels/airline-flight';\nimport { AirlineFlightFareViewModel } from '../viewmodels/airline-flight-fare';\nimport { AirlinePriceViewModel } from '../viewmodels/airline-price';\nimport { AirlineTaxViewModel } from '../viewmodels/airline-tax';\nimport { AirlineDatetimeService } from './airline-datetime.service';\nimport { AirlineFlightService } from './airline-flight.service';\nimport {AirlineFlightRuleViewModel} from '../viewmodels/airline-flight-rule';\nimport { AirlineReshopOffer } from '../models/order/airline-reshop';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AirlineFareService { \n\n  constructor(\n      private airlineDatetimeService: AirlineDatetimeService,\n      private airlineFlightService: AirlineFlightService,\n    private arrayHelper: ArrayHelperService){ }\n\n  flightFareFromOffer(offer: AirlineOfferWithDetails): AirlineFlightFareViewModel{\n    const [fareDetail] = offer.offerItem[0].fareDetail;\n    return {\n      originalOffer: offer,\n      totalPrice: Number(offer.totalPrice.detailCurrencyPrice.total.value) * 0.01,\n      cabinType: fareDetail.fareComponent[0].fareBasis.cabinType.cabinTypeName.includes('COACH') ? 'Economy' : 'First Class',\n      offerID: offer.offerID,\n      flightRules: this.airlineFlightService.getPriceRules(fareDetail.fareComponent),\n    };\n  }\n\n  flightFareFromReshop(offer: AirlineReshopOffer): AirlineFlightFareViewModel{\n    const [fareDetail] = offer.addOfferItem[0].fareDetail;\n    return {\n      originalOffer: offer,\n      reshopPrices: {\n        original: this.arrayHelper.sum(offer.addOfferItem.map(i => i.reshopDifferential.originalOrderItem.total.amount.value * 0.01 + i.reshopDifferential.originalOrderItem.taxes.total.value * 0.01)),\n        newItem: this.arrayHelper.sum(offer.addOfferItem.map(i => i.reshopDifferential.newOfferItem.total.amount.value * 0.01)),\n        reshopDue: this.arrayHelper.sum(offer.addOfferItem.map(i => i.reshopDifferential.reshopDue.byPassenger.total.amount.value * 0.01)),\n      },\n      totalPrice: Number(offer.totalPrice.detailCurrencyPrice.total.value) * 0.01,\n      cabinType: fareDetail.fareComponent[0].fareBasis.cabinType.cabinTypeName.includes('Economy') ? 'Economy' : 'First Class',\n      offerID: offer.offerID,\n      flightRules: this.airlineFlightService.getPriceRules(fareDetail.fareComponent),\n    };\n  }\n\n  getFlightList(fares: Array<AirlineFareComponent>): AirlineFlightViewModel[]{\n    return fares.map(i => this.airlineFlightService.createFlightViewModel(i.segmentRefs.value, i));\n  }\n\n  fromPricedOfferItem(offerItem: AirlineOfferItem): AirlineFareViewModel {\n    let fare = offerItem.fareDetail[0].price;\n    let taxes: Array<AirlineTaxViewModel> = fare.taxes.breakdown.tax.map(tax => {\n      return {\n        description: tax.description,\n        amount: {\n          value: tax.amount.value  * 0.01,\n          currency: tax.amount.code\n        },\n      };\n    });\n\n    var vm = {\n      baseAmount : {\n        value: fare.baseAmount.value * 0.01,\n        currency: fare.baseAmount.code\n      },\n      taxes: {\n        total: {\n          value: fare.taxes.total.value * 0.01,\n          currency: fare.taxes.total.code\n        },\n        taxBreakdown: this.grouppedTaxBreakdown(taxes)\n      }\n    };\n\n    return vm;\n  }\n\n  fromOrderItem(orderItem: AirlineOrderItem): AirlineFareViewModel{\n    let fare = orderItem.fareDetail[0].price;\n    let taxes: Array<AirlineTaxViewModel> = fare.taxes.breakdown.tax.map(tax => {\n      return {\n        description: tax.description,\n        amount: {\n          value: tax.amount.value  * 0.01,\n          currency: tax.amount.code\n        },\n      };\n    });\n\n    var vm = {\n      orderItemID: orderItem.orderItemID,\n      baseAmount : {\n        value: fare.baseAmount.value * 0.01,\n        currency: fare.baseAmount.code\n      },\n      taxes: {\n        total: {\n          value: fare.taxes.total.value * 0.01,\n          currency: fare.taxes.total.code\n        },\n        taxBreakdown: this.grouppedTaxBreakdown(taxes)\n      }\n    };\n\n    return vm;\n}\n\n  private grouppedTaxBreakdown(taxes: AirlineTaxViewModel[]) {\n    let grouppedTaxes = this.arrayHelper.groupBy(taxes, k => k.description, v => v, t => this.calculateTaxTotal(t));\n    this.arrayHelper.sortBy(grouppedTaxes, [i => i.total.value], 'desc');\n    let taxBreakdown = grouppedTaxes.map(i => {\n      return {\n        description: i.key,\n        amount: {\n          value: i.total.value,\n          currency: i.total.currency\n        },\n      };\n    });\n    return taxBreakdown;\n  }\n\n  calculateTaxTotal(data: Array<AirlineTaxViewModel>): AirlinePriceViewModel{\n    let total = 0;\n    data.forEach((tax) => {\n      total += tax.amount.value;\n    });\n    return { value: total, currency: data[0].amount.currency} ;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AirlineErrorService } from '../../services/airline-error.service';\nimport { AirlineLoaderService } from '../../services/airline-loader.service';\n\n@Component({\n  selector: 'app-airline',\n  templateUrl: './airline.component.html',\n  styleUrls: ['./airline.component.css']\n})\nexport class AirlineComponent implements OnInit {\n\n  constructor(private router: Router, private airlineErrorService: AirlineErrorService, public airlineLoaderService: AirlineLoaderService) { \n    this.router.events.subscribe(val => {\n      this.airlineErrorService.hideErrors();\n      //this.airlineLoaderService.hideLoader();\n    }); \n  }\n\n  ngOnInit() {\n  }\n\n}\n","<app-airline-loader [hidden]=\"airlineLoaderService.isLoaderHidden()\"></app-airline-loader>\n<div [hidden]=\"airlineLoaderService.isLoaderShown()\">\n    <app-airline-errors></app-airline-errors>\n    <router-outlet></router-outlet>\n</div>\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","export enum FlightFarePriceInfoViewType {\n    Popup,\n    Plain\n}\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output } from '@angular/core';\nimport { collapseAnimation } from 'src/app/animations';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { AirlineSeatAvailabilityResponse } from '../../models/extra-service/airline-seat-availability-response';\nimport { AirlineFlightViewModel } from '../../viewmodels/airline-flight';\nimport { AirlineFlightSegmentViewModel } from '../../viewmodels/airline-flight-segment';\nimport { AirlineSeatAvailabilityService } from '../../services/airline-seat-availability.service';\nimport { AirlinePassengerSummaryViewModel } from '../../viewmodels/airline-passenger';\nimport { AirlinePassenger } from '../../models/passenger/airline-passenger';\nimport { AirlinePassengerService } from '../../services/airline-passenger.service';\nimport { AirlineSelectedSeatViewModel } from '../../viewmodels/airline-selected-seat';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { AirlineOrderViewModel } from '../../viewmodels/airline-order';\nimport { Router } from '@angular/router';\nimport { AirlineLoaderService } from '../../services/airline-loader.service';\nimport { AirlineChangeOrderService } from '../../services/airline-change-order.service';\n\n@Component({\n  selector: 'app-airline-flight-item',\n  templateUrl: './airline-flight-item.component.html',\n  styleUrls: ['./airline-flight-item.component.css'],\n  animations: [\n    collapseAnimation\n  ]\n})\nexport class AirlineFlightItemComponent extends Airline implements OnChanges {\n\n@Input() flights: Array<AirlineFlightViewModel>;\n@Input() passengers: Array<AirlinePassengerSummaryViewModel>;\n@Input() orderId: string;\n@Input() orderViewModel: AirlineOrderViewModel;\n\nseatMapLoading : boolean;\n\n  constructor(\n    loginService: LoginService,\n    private router: Router,\n    private airlineSeatAvailabilityService: AirlineSeatAvailabilityService,\n    private airlineChangeOrderService: AirlineChangeOrderService,\n    public airlineLoaderService: AirlineLoaderService) {\n    super(loginService);\n  }\n\n  ngOnChanges(): void {\n    if(this.orderViewModel){\n      this.flights = this.orderViewModel.flights;\n    }\n\n    if(this.orderViewModel){\n      this.passengers = this.orderViewModel.passengers;\n    }\n\n  }\n  \n  seatChanged(anyChanges){\n    if(anyChanges){\n      this.airlineChangeOrderService.addChange(\"SeatAvailability\", this.orderId)\n    }\n    else {\n      this.airlineChangeOrderService.clearSeatAvailabilityChanges(this.orderId);\n    }\n  }\n\n  getPassengerLabel(passenger: AirlinePassenger){\n    return this.passengers.find(i => i.data.passengerID == passenger.passengerID).label;\n  }\n\n  getSelectedSeats(segment: AirlineFlightSegmentViewModel){\n    let selectedSeats: Array<AirlineSelectedSeatViewModel> = [];\n    this.passengers.forEach(i => {\n      let selectedSeat = i.orderSummary.selectedSeats.find(s => s.segment.segmentKey == segment.segmentKey);\n      if(selectedSeat){\n        selectedSeats.push(selectedSeat.seat);\n      }\n    });\n    return selectedSeats;\n  }\n\n  showHideSelectSeats(flightSegment : AirlineFlightSegmentViewModel){\n    this.orderViewModel.editMode = true;\n    if (this.orderViewModel.seatMapLoaded) {\n      flightSegment.showSeatMap = !flightSegment.showSeatMap;\n      return;\n    }\n\n    if(!this.seatMapLoading){\n      this.seatMapLoading = true;\n      this.airlineSeatAvailabilityService.loadSeats(this.orderId, flightSegment.airlineID).subscribe((data: AirlineSeatAvailabilityResponse) => {\n        this.seatMapLoading = false;\n        this.orderViewModel.seatMapLoaded = true;\n        \n        this.orderViewModel.seatSelectionRQ = {\n          offerID : data.alaCarteOffer.offerID,\n          owner: data.alaCarteOffer.owner,\n          responseID: data.shoppingResponseID.responseID.value,\n        };\n        this.airlineSeatAvailabilityService.updateFlightsWithSeats(this.flights, data);\n        \n        flightSegment.showSeatMap = true;\n      });\n    }\n  }\n}\n","<ng-container *ngFor=\"let flight of flights; let i = index\">\n    <div class=\"d-flex flex-fill pl-5\" [ngClass]=\"flights.length == 1 ? 'pt-4 pb-4' : i == 0 ? 'pt-4': i == flights.length-1 ? 'pb-4' : ''\">\n        <div class=\"d-flex align-items-center w-50\">\n            <div class=\"symbol symbol-50 bg-gray-300 mr-4\">\n                    <img (error) =\"onImgError($event)\" [src]=\"getImageName(flight.flightSegments[0].airlineID)\" alt=\"image\" />\n            </div>\n            <div class=\"d-flex flex-column flex-wrap\">\n                <h5 class=\"mb-1\">{{getOperatedCarrierText(flight.flightSegments[0].airlineID, flight.flightSegments[0].airlineName)}}</h5>\n                <h5 class=\"mb-1 d-none\" *ngIf=\"getOperatedCarrierText(flight.flightSegments[0].airlineID, flight.flightSegments[0].airlineName) != ''\">{{getOperatedCarrierText(flight.flightSegments[0].airlineID, flight.flightSegments[0].airlineName)}}</h5>\n                <div class=\"d-flex\">\n                    <span class=\"text-dark-50 font-weight-bold mr-2\">{{flight.flightSegments[0].airlineID + flight.flightSegments[0].flightNumber}}</span>\n                    <span class=\"text-dark-50 font-weight-bold mr-2\">|</span>\n                    <span class=\"text-dark-50 font-weight-bold mr-2\">{{flight.flightSegments[0].aircraftName}}</span>\n                </div>\n                <div>\n                    <span class=\"text-primary font-weight-bold cursor-pointer\" (click)=\"flight.stopShow=!flight.stopShow\">\n                        Flight details\n                        <i *ngIf=\"!flight.stopShow\" class=\"material-icons text-primary align-middle icon-md\">expand_more</i>\n                        <i *ngIf=\"flight.stopShow\" class=\"material-icons text-primary align-middle icon-md\">expand_less</i>\n                    </span>\n                </div>\n            </div>\n        </div>\n        <div class=\"d-flex align-items-center flex-lg-fill\"> \n            <div class=\"d-flex flex-column flex-wrap align-items-end\">\n                <h2 class=\"mb-1\">{{ flight.departureTime }}</h2>\n                <span class=\"text-dark-50 font-weight-bold\">{{ flight.departureDate}}</span>\n                <span class=\"text-dark-50 font-weight-bold\">{{ flight.departureAirportCode }}</span>\n            </div>\n            <!-- [appTooltip]=\"flight\"  -->\n            <div class=\"d-flex flex-column flex-wrap align-items-center min-w-150px pl-2 pr-2\">\n                <div class=\"hr-text mb-2 text-dark-50\">{{ flight.flightDuration }}</div>\n                <div *ngIf=\"flight.isPopUp\" id=\"popover2\" class=\"popover fade show bs-popover-bottom\" style=\"top: 65px; left: auto;\" role=\"tooltip\" x-placement=\"bottom\">\n                    <div class=\"arrow\" style=\"bottom: -7px; left: 45%;\"></div>\n                    <div class=\"popover-body font-size-lg text-center\">{{flight.popUpMessage}}</div>\n                </div>\n                <span class=\"text-primary font-weight-bold cursor-pointer\" (click)=\"flight.stopShow=!flight.stopShow\"> {{ flight.numberOfStops }} <i *ngIf=\"flight.numberOfStops != 'Nonstop' && !flight.stopShow\" class=\"material-icons text-primary align-middle icon-md\">expand_more</i><i *ngIf=\"flight.numberOfStops != 'Nonstop' && flight.stopShow\" class=\"material-icons text-primary align-middle icon-md\">expand_less</i></span>\n            </div>\n            <div class=\"d-flex flex-column flex-wrap\">\n                <h2 class=\"mb-1\">{{ flight.arrivalTime }}\n                    <span *ngIf=\"nonZero(flight.totalDays)\" class=\"label label-light-danger label-inline font-weight-bold align-top\">+{{flight.totalDays}} day</span>\n                </h2>\n                <span class=\"text-dark-50 font-weight-bold\">{{ flight.arrivalDate}}</span>\n                <span class=\"text-dark-50 font-weight-bold\">{{ flight.arrivalAirportCode }}</span>\n            </div>\n        </div>\n    </div>\n    <div *ngIf=\"flight.stopShow\">\n        <div class=\"pl-15 pt-2 pb-2 rounded-0\">\n            <div class=\"timeline-label text-center mb-3\">\n                <span class=\"font-size-h3 text-secondary\">Total Travel Time: <span class=\"text-primary\">{{flight.flightDuration}}</span></span>\n            </div>\n            <div class=\"timeline timeline-justified timeline-4\">\n                <div class=\"timeline-bar\"></div>\n                <div *ngFor=\"let flightSegment of flight.flightSegments; let i = index\">\n                    <div class=\"timeline-items\">\n                        <div class=\"timeline-item\">\n                            <div class=\"timeline-badge\"> \n                                <div class=\"bg-success\"></div>\n                            </div>\n                            <div class=\"timeline-content\">\n                                <div class=\"d-flex align-items-center flex-wrap\">\n                                    <div class=\"align-items-center w-50\">\n                                        <div>\n                                            <div class=\"symbol symbol-50 bg-gray-300 mr-4\">\n                                                <img (error) =\"onImgError($event)\" [src]=\"getImageName(flightSegment.airlineID)\" alt=\"image\">\n                                            </div>\n                                            <div class=\"d-flex flex-column flex-wrap\">\n                                                <h5 class=\"mb-1\">{{getOperatedCarrierText(flightSegment.airlineID, flightSegment.airlineName)}}</h5>\n                                                <h5 class=\"mb-1 d-none\" *ngIf=\"getOperatedCarrierText(flightSegment.airlineID, flightSegment.airlineName) != ''\">{{getOperatedCarrierText(flightSegment.airlineID, flightSegment.airlineName)}}</h5>\n                                                <div class=\"d-flex\">\n                                                    <span class=\"text-dark-50 font-weight-bold mr-2\">{{flightSegment.airlineID + flightSegment.flightNumber}}</span>\n                                                    <span class=\"text-dark-50 font-weight-bold mr-2\">|</span>\n                                                    <span class=\"text-dark-50 font-weight-bold mr-2\">{{flightSegment.aircraftName}}</span>\n                                                </div>\n                                                <div><app-airline-flight-fare-info [flightRules]=\"flightSegment.flightRules\"></app-airline-flight-fare-info></div>\n                                            </div>\n                                        </div>\n                                        <div *ngIf=\"orderId\">\n                                            <div>\n                                                <div>\n                                                    <ng-contrainer *ngVar=\"getSelectedSeats(flightSegment) as selectedSeats\">\n                                                        Seats:\n                                                        <ng-container *ngIf=\"!selectedSeats.length\">\n                                                            <strong>not selected</strong>\n                                                        </ng-container>\n                                                        <ng-container *ngIf=\"selectedSeats.length\">\n                                                            <span *ngFor=\"let seat of getSelectedSeats(flightSegment)\">\n                                                                <strong>{{seat.row}}{{seat.column}} ({{getPassengerLabel(seat.passenger) }})</strong>&nbsp;\n                                                            </span>   \n                                                        </ng-container>\n                                                        \n                                                    </ng-contrainer>\n                                                </div>\n                                                <div class=\"mt-3\" *ngIf=\"orderViewModel\">\n                                                    <span [hidden]=\"airlineLoaderService.isSearchResultLoaderShown()\" class=\"text-primary font-weight-bold cursor-pointer\" (click)=\"showHideSelectSeats(flightSegment)\">\n                                                        View aircraft seat map\n                                                        <i *ngIf=\"!flightSegment.showSeatMap\" class=\"material-icons text-primary align-middle icon-md\">expand_more</i>\n                                                        <i *ngIf=\"flightSegment.showSeatMap\" class=\"material-icons text-primary align-middle icon-md\">expand_less</i>\n                                                    </span>\n                                                    <app-airline-loader [spinnerClass]=\"'d-flex'\" [hidden]=\"airlineLoaderService.isSearchResultLoaderHidden()\"></app-airline-loader>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"d-flex\">\n                                        <div class=\"d-flex flex-column flex-wrap align-items-end\">\n                                            <h2 class=\"mb-1\">{{flightSegment.departureTime}}</h2>\n                                            <span class=\"text-dark-50 font-weight-bold\">{{flightSegment.departureDate}}</span>\n                                            <span class=\"text-dark-50 font-weight-bold\">{{flightSegment.departureAirportCode}}</span>\n                                        </div>\n                                        <div class=\"d-flex flex-column flex-wrap align-items-center min-w-150px pl-2 pr-2\">\n                                            <div class=\"hr-text text-dark-50\">{{flightSegment.flightDuration}}</div>\n                                        </div>\n                                        <div class=\"d-flex flex-column flex-wrap\">\n                                            <h2 class=\"mb-1\">{{flightSegment.arrivalTime}}</h2>\n                                            <span class=\"text-dark-50 font-weight-bold\"> {{flightSegment.arrivalDate}}\n                                                <span *ngIf=\"flightSegment.changeOfDay !=null && flightSegment.changeOfDay !='0'\" class=\"label label-light-danger label-inline font-weight-bold align-top\">\n                                                    +{{flightSegment.changeOfDay}} day\n                                                </span>\n                                            </span>\n                                            <span class=\"text-dark-50 font-weight-bold\">{{flightSegment.arrivalAirportCode}}</span>\n                                        </div>\n                                        \n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"timeline-label text-center mt-5 mb-0\"\n                                *ngIf=\"i != flight.flightSegments.length-1 && flight.flightSegments[i+1].layover!= null && !flightSegment.showSeatMap\">\n                                <span class=\"font-size-h3 text-secondary\">Layover: <span class=\"text-primary\">{{flight.flightSegments[i+1].layover}}</span></span>\n                            </div>\n                            <div class=\"timeline-label text-center mt-5\"\n                                *ngIf=\"i != flight.flightSegments.length-1 && flight.flightSegments[i+1].departureTerminal != null  && flight.flightSegments[i+1].arrivalTerminal != null && !flightSegment.showSeatMap\">\n                                <span class=\"font-size-h3 text-secondary\">\n                                    <i class=\"fa fa-exclamation-triangle text-danger icon-xl\"></i>  Teminal Change: <span class=\"text-primary\">{{flight.flightSegments[i+1].departureTerminal + \"->\" + flight.flightSegments[i+1].arrivalTerminal}}</span>\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                    <div *ngIf=\"orderId\">\n                        <app-airline-seat-availability *ngIf=\"flightSegment.showSeatMap && orderViewModel.seatMapLoaded\" [flightSegment]=\"flightSegment\" [passengers]=\"passengers\" (seatChanged)=\"seatChanged($event)\"></app-airline-seat-availability>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <hr class=\"w-100\" *ngIf=\"i != flights.length-1\">\n</ng-container>","import { Injectable } from '@angular/core';\nimport { CreditCardService } from 'src/app/shared/services/credit-card.service';\nimport { AirlinePayment } from '../models/payment/airline-payment';\nimport { AirlinePassengerSummaryViewModel } from '../viewmodels/airline-passenger';\nimport { AirlinePaymentViewModel } from '../viewmodels/airline-payment';\nimport { AirlineRetrieveService } from './airline-retrieve.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AirlinePaymentService {\n  static paymentTypeOnHold: string = \"On Hold\";\n  static paymentTypeCreditCard: string = \"Credit Card\";\n  public paymentTypes = [AirlinePaymentService.paymentTypeOnHold, AirlinePaymentService.paymentTypeCreditCard];\n\n  constructor(\n    private airlineRetrieveService: AirlineRetrieveService,\n    private creditCardService: CreditCardService) {\n  }\n\n  pay(creditCard: any, orderId: number) {\n    let paymentBody = this.preparePaymentRequestBody(creditCard);\n      // console.log(query);\n      let paymentReqBody = {\n        \"version\": \"17.2\",\n        \"query\": {\n            \"orderID\": orderId,\n            \"payments\": paymentBody \n        }\n      };\n\n      return this.airlineRetrieveService.orderChange(paymentReqBody, \"Process payment...\");\n  }\n  \n  // amount = 0.00 will request pay full order, paying multiple transactions for one order item is not possible\n  // specifying different value does not affect (at least now) \n  preparePaymentRequestBody(creditCardJSON, amount = \"0.00\") {\n    let paymentObj = {\n      \"type\": \"CC\",\n      \"method\": {\n          \"paymentCard\": {\n              \"cardCode\": creditCardJSON.CreditType,\n              \"cardNumber\": {\n                  \"value\": creditCardJSON.CreditCardNumber.replace(/ /g, '')\n              },\n              \"seriesCode\": {\n                  \"value\": creditCardJSON.SecurityCode\n              },\n              \"cardHolderName\": {\n                  \"value\": creditCardJSON.FirstNameonCard + \" \" + creditCardJSON.LastNameonCard\n              },\n              \"cardHolderBillingAddress\": {\n                  \"street\": [\n                    creditCardJSON.Street\n                  ],\n                  \"cityName\": creditCardJSON.City,\n                  \"stateProv\": creditCardJSON.State,\n                  \"countryCode\": {\n                      \"value\": creditCardJSON.CountryCode\n                  },\n                  \"postalCode\": creditCardJSON.PostalCode\n              },\n              \"effectiveExpireDate\": {\n                  \"expiration\": creditCardJSON.ExpMonth + (creditCardJSON.ExpYear + \"\").substring(2,4)\n              }\n          }\n      },\n      \"amount\": {\n          \"value\": amount\n      }\n    };\n    const payment = {\n      \"payment\": [\n        paymentObj\n      ]\n    };\n    return payment;\n  }\n\n  getPaymentViewModel(payments: Array<AirlinePayment>) : Array<AirlinePaymentViewModel> {\n    if(!payments){\n      return;\n    }  \n    let result = payments.map(i => {\n      let vm: AirlinePaymentViewModel = {\n        orderItemID: i.orderItemID,\n        creditCardType: this.creditCardService.findNameByCode(i.method.paymentCardMethod.cardCode),\n        creditCardNumber: i.method.paymentCardMethod.maskedCardNumber.value,\n        creditCardHolder: i.method.paymentCardMethod.cardHolderName.value,\n        amount: i.amount.simpleCurrencyPrice.value * 0.01\n      };\n      return vm;\n    })\n\n    return result;\n  }\n\n  calculateDue(payments: Array<AirlinePaymentViewModel>, passengers: Array<AirlinePassengerSummaryViewModel>): number{\n    let due = 0;\n\n    passengers.forEach(i => {\n      if(i.orderSummary.fare.orderItemID && !payments.find(p => p.orderItemID.indexOf(i.orderSummary.fare.orderItemID) > -1)){\n        due += i.orderSummary.fare.baseAmount.value + i.orderSummary.fare.taxes.total.value;\n      }\n\n      i.orderSummary.selectedSeats.forEach(seat => {\n        if(seat.seat.offerItemID || (seat.seat.orderItemID && !payments.find(p => p.orderItemID.indexOf(seat.seat.orderItemID) > -1))){\n          due += seat.seat.price.value;\n        }\n      });\n    })\n\n    return due;\n  }\n}\n","import {Component, Input} from '@angular/core';\nimport {AirlineFlightRuleViewModel} from '../../viewmodels/airline-flight-rule';\nimport {collapseAnimation} from '../../../../../animations';\nimport {FlightFarePriceInfoViewType} from '../../enums/flight-fare-price-info-view.enum';\n\n@Component({\n    selector: 'app-airline-flight-fare-info',\n    templateUrl: './airline-flight-fare-info.component.html',\n    styleUrls: ['./airline-flight-fare-info.component.scss'],\n    animations: [\n        collapseAnimation,\n    ],\n})\nexport class AirlineFlightFareInfoComponent {\n    @Input() flightRules: AirlineFlightRuleViewModel[];\n    @Input() viewType = FlightFarePriceInfoViewType.Plain;\n    @Input() collapseLabel = 'Flight info';\n\n    FlightFarePriceInfoViewType = FlightFarePriceInfoViewType;\n\n    collapsed = true;\n\n    toggleInfoPopup(event, popover): void{ \n        event.stopPropagation();\n        popover.toggle();\n    }\n\n    toggleCollapse(): void{\n        this.collapsed = !this.collapsed;\n    }\n}\n","<ng-container [ngSwitch]=\"viewType\">\n    <div *ngSwitchCase=\"FlightFarePriceInfoViewType.Popup\"\n        #popoverRef=\"ngbPopover\"\n         class=\"toggle-container icon-popup\"\n         triggers=\"manual\"\n         [ngbPopover]=\"flightRuleTemplate\"\n         [popoverTitle]=\"flightFareTitle\"\n         (click)=\"toggleInfoPopup($event, popoverRef)\">\n         <span *ngIf=\"flightRules && flightRules.length\">\n            <span class=\"fas fa-calendar-day\" [class.text-success]=\"flightRules[0].allowChange\" [class.text-danger]=\"!flightRules[0].allowChange\"></span>&nbsp;\n            <span class=\"fas fa-plane-slash\" [class.text-success]=\"flightRules[0].allowCancel\" [class.text-danger]=\"!flightRules[0].allowCancel\"></span>&nbsp;\n         </span>\n    </div>\n    <div *ngSwitchCase=\"FlightFarePriceInfoViewType.Plain\">\n        <ng-container *ngTemplateOutlet=\"flightRuleTemplate\"></ng-container>\n    </div>\n</ng-container>\n\n<ng-template #flightFareTitle>\n    <h6>Flight info</h6>\n</ng-template>\n\n<ng-template #flightRuleTemplate>\n    <div class=\"flight-fare-container\">\n        <div *ngFor=\"let flightRule of flightRules\" class=\"info-item\" [class.nonstop]=\"flightRules?.length === 1\">\n            <h6 class=\"flight-direction\">\n                {{flightRule.segmentRefs.onpoint}} - {{flightRule.segmentRefs.offpoint}}\n            </h6>\n            \n            <div class=\"instructions\">\n                <div class=\"instruction\">\n                    <span class=\"instruction-name\">\n                        <span class=\"fas fa-calendar-day\" [class.text-success]=\"flightRule.allowChange\" [class.text-danger]=\"!flightRule.allowChange\"></span>\n                        Changes:\n                    </span>\n                    <span class=\"instruction-info\">{{flightRule.allowChange ? 'Allowed' : 'Not allowed'}}</span>\n                </div>\n\n                <div class=\"instruction\">\n                    <span class=\"instruction-name\">\n                        <span class=\"fas fa-plane-slash\" [class.text-success]=\"flightRule.allowCancel\" [class.text-danger]=\"!flightRule.allowCancel\"></span> \n                        Cancel:\n                    </span>\n                    <span class=\"instruction-info\">{{flightRule.allowCancel ? 'Allowed' : 'Not allowed'}}</span>\n                </div>\n\n                <div *ngFor=\"let instruction of flightRule.others\" class=\"instruction\">\n                    <span class=\"instruction-name\">{{instruction.name}}:</span>\n                    <span class=\"instruction-info\">{{instruction.info}}</span>\n                </div>\n                \n                <div class=\"instruction\">\n                    <span class=\"instruction-name\">Fare code: </span>\n                    <span class=\"instruction-info\">{{flightRule.fareCode}}</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-template>\n\n","import { ObjectBase } from '../../../core/object-base';\nimport { LoginService } from '../auth/login/login.service';\nimport { getTenantModule } from '../../../shared/tenant/tenant';\n\n\nexport class Airline extends ObjectBase {\n\n  constructor(loginService: LoginService) {\n    super(loginService);\n\n  } \n\n  public getImageName(airlineID) {\n    let imagePath = \"assets/media/Airlines/\" + airlineID + \".png\";\n    // console.log('airlineID:' + airlineID);\n    return imagePath;\n  }\n\n  public onImgError(event) {\n    // console.log(event);\n    event.target.src = \"assets/media/Airlines/noImage2.png\";\n  }\n\n  getOperatedCarrierText(airlineID, airlineName) {\n    let carrierAirlineIDs = getTenantModule().airline.carrierAirlineID || [\"AA\" ];\n    if(carrierAirlineIDs.includes(airlineID)) {\n      return airlineName;\n    } else {\n      return \"Operated by \" + airlineName;\n    }\n  }\n\n  nonZero(num) {\n    return false && num != null && num !='0';\n  }\n\n  setLoyaltyProgramPassenger(passenger, FrequentFlyerNumber) {\n    if(!this.isNullOrWhiteSpace(FrequentFlyerNumber)) {\n      passenger.loyaltyProgramAccount = [\n        {\n            \"airline\": {\n                \"airlineDesignator\": \"AA\"\n            },\n            \"accountNumber\": FrequentFlyerNumber\n        }\n      ]\n    }\n    return passenger;\n  }\n}\n","import { AfterViewInit, Component, ElementRef, Input, OnDestroy, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { Store } from '@ngxs/store';\nimport { LocalStorage } from 'src/app/shared/storage/local-storage';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { AirlineSearch } from '../../viewmodels/airline-search';\nimport { AirlineRetrieveService } from '../../services/airline-retrieve.service';\nimport { AirlinePassengerService } from '../../services/airline-passenger.service';\n\n@Component({\n  selector: 'app-airline-search-travellers',\n  templateUrl: './airline-search-travellers.component.html',\n  styleUrls: ['./airline-search-travellers.component.css']\n})\n\n\nexport class AirlineSearchTravellersComponent extends Airline implements OnInit, OnDestroy, AfterViewInit {\n\n  @Input() airlineSearch: AirlineSearch;\n  @Input() fontStyle: string;\n  \n  @ViewChild('travellersSelect') travellersSelect;\n  @ViewChild('countPopupDiv') countPopupDiv;\n  @ViewChild('travellersDiv') travellersDiv;\n\n  supportedPtcs: Array<string>; \n  numbers: Array<Number> = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n  \n  showPTC: boolean; \n  private docClickSubscription: any;\n\n  constructor(loginService: LoginService, private renderer: Renderer2, private passengerService: AirlinePassengerService) { \n    super(loginService);\n    this.supportedPtcs = this.passengerService.getSupportedPtcs();\n  }\n  \n  ngOnInit(): void {\n    this.docClickSubscription = this.renderer.listen('document', 'click', this.onDocumentClick.bind(this));\n  }\n\n  ngAfterViewInit(): void {\n  }\n\n  ngOnDestroy() {\n    this.docClickSubscription();\n  }\n\n  private onDocumentClick(event: any): void {\n       \n    if(this.countPopupDiv != null && (this.countPopupDiv.nativeElement.contains(event.target)\n       || event.target.className.indexOf(\"mat-option-text\") != -1) \n       || event.target.className.indexOf(\"search_inputField h2 count\") != -1\n       || event.target.className.indexOf(\"display6 count\") != -1 \n       || this.travellersDiv.nativeElement.contains(event.target)) {\n    } else {\n      this.showPTC = false;\n    }\n }\n\n totalNumberChanged(t){\n    for(let i = 0; i < this.airlineSearch.travellers.length; i++){\n      if(!this.airlineSearch.travellers[i]){\n        this.airlineSearch.travellers[i] = {\n          index: i,\n          ptc: this.passengerService.getAdult().ptcCode\n        };\n      }\n    }\n } \n \n travellerPtcChanged($event, index: number){\n   this.airlineSearch.travellers[index] = $event.value;\n }\n \n  getPtcLabel(ptcCode: string){\n    return this.passengerService.getPtcLabel(ptcCode);\n  }\n}\n","<div class=\"relative\">\n    <div #travellersDiv class=\"searchContent\" (click)=\"showPTC=!showPTC\">\n        <span class=\"search_lbl text-dark-50 pb-2\">Travellers <i\n            class=\"fas fa-users text-primary\"></i>\n        </span>\n            \n        <div id=\"count\" class=\"search_inputField count text-truncate\" [ngClass]=\"fontStyle\">\n            {{airlineSearch.travellers.length}} Traveller<ng-container *ngIf=\"airlineSearch.travellers.length > 1\">s</ng-container>    \n        </div>\n    </div>\n\n    <div #countPopupDiv *ngIf=\"showPTC\" class=\"card card-custom popoverCustom1 count-popover w-auto\">\n        <div class=\"card-header mt-1\">\n            <div class=\"form-group mb-0 mr-3\">\n                <label class=\"font-size-h2 mb-0\">Total</label>\n                <mat-form-field class=\"max-width-150 ml-5\" appearance=\"outline\">\n                    <mat-select [(ngModel)]=\"airlineSearch.travellers.length\" (selectionChange)=\"totalNumberChanged($event)\">\n                        <mat-option *ngFor=\"let number of numbers\" [value]=\"number\">\n                        {{number}}\n                        </mat-option>\n                    </mat-select> \n                </mat-form-field> \n            </div></div>\n        <div class=\"card-body p-5 max-width-350\"> \n                <div class=\"d-flex flex-wrap\">\n                    <div class=\"form-group max-width-150 p-1\" *ngFor=\"let traveller of airlineSearch.travellers; let i = index; trackBy:index\">\n                        <label class=\"font-size-h5 mb-0\">Traveller-{{(i + 1)}}</label>\n                        <mat-form-field class=\"w-100\" appearance=\"outline\"> \n                            <mat-select [(ngModel)]=\"airlineSearch.travellers[i].ptc\">\n                                <mat-option *ngFor=\"let ptcCode of supportedPtcs\" [value]=\"ptcCode\">\n                                    {{getPtcLabel(ptcCode)}}\n                                </mat-option>\n                            </mat-select> \n                        </mat-form-field>\n                    </div> \n                </div>\n        </div>\n    </div> \n</div>","import { Injectable } from '@angular/core';\nimport { AirlineSeatAvailabilityResponse } from '../models/extra-service/airline-seat-availability-response';\nimport { AirlineSeatMap } from '../models/extra-service/airline-seat-map';\nimport { AirlineFlightViewModel } from '../viewmodels/airline-flight';\nimport { AirlineFlightSegmentViewModel } from '../viewmodels/airline-flight-segment';\nimport { AirlineOrderViewModel } from '../viewmodels/airline-order';\nimport { AirlinePassengerSummaryViewModel } from '../viewmodels/airline-passenger';\nimport { AirlinePassengerService } from './airline-passenger.service';\nimport { AirlineRetrieveService } from './airline-retrieve.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AirlineSeatAvailabilityService {\n  \n  constructor(private airlineRetrieveService: AirlineRetrieveService, \n    private passengerService: AirlinePassengerService ) { }\n\n  loadSeats(orderID: string, owner: string) {\n    let query = {\n      query: {\n          order: {\n              orderID: orderID,\n              owner: owner,\n          }\n      }\n    }; \n\n    return this.airlineRetrieveService.getSeatAvailability(query);\n  }\n\n  bookSelectedSeats(orderID: string, orderViewModel: AirlineOrderViewModel) {\n    let passengers: Array<AirlinePassengerSummaryViewModel> = orderViewModel.passengers;\n    let passengerList = orderViewModel.passengerList;\n    passengerList.passenger.forEach(p => this.passengerService.updatePassengerBeforeSending(p));\n\n    let offerItems = [];\n    passengers.forEach(p => {\n      let selectedSeats = p.orderSummary.selectedSeats.filter(s => s.seat.offerItemID);\n      if (selectedSeats.length) {\n        selectedSeats.forEach(selectedSeat => {\n          offerItems.push({\n            passengerRefs: [p.data.passengerID],\n            offerItemID: selectedSeat.seat.offerItemID,\n            seatSelection: {\n              row: selectedSeat.seat.row,\n              column: selectedSeat.seat.column\n            } \n          });  \n        })\n      }\n    });\n\n    let request = {\n      query: {\n        orderServicing: {\n          acceptOffer:{\n            offer: [{\n              offerID: orderViewModel.seatSelectionRQ.offerID,\n              responseID: orderViewModel.seatSelectionRQ.responseID,\n              owner: orderViewModel.seatSelectionRQ.owner,\n              offerItem: offerItems\n            }]\n          }\n        },\n        orderID: orderID\n      },\n      dataLists: {\n        passengerList: passengerList,\n        contactList: orderViewModel.contactList\n      },\n    };\n\n    return this.airlineRetrieveService.orderChange(request, \"Booking seats...\", true);\n  }\n  \n  updateFlightsWithSeats(flights: Array<AirlineFlightViewModel>, data: AirlineSeatAvailabilityResponse) {\n    flights.forEach(flight => {\n      flight.flightSegments.forEach(segment => {\n        let seatMaps = data.seatMap.filter(i => i.segmentRef.value.segmentKey == segment.segmentKey);\n        if(seatMaps && seatMaps.length){\n          segment.seatMap = this.initSeatMaps(seatMaps);\n        }\n      });\n    });\n  }\n\n  initSeatMaps(seatMaps: Array<AirlineSeatMap>): AirlineSeatMap {\n    let result = seatMaps[0];\n    seatMaps.forEach(map => {\n      if (map != result){\n        map.cabin.forEach(c => result.cabin.push(c));\n      }\n    });\n    \n    for(let cabin of result.cabin) {\n      let components = cabin.component;\n      let columns = cabin.cabinLayout.columns;\n      this.setWidth(columns, cabin);\n\n      for(let i =0; i < cabin.row.length; i++) {\n        let row = cabin.row[i];\n        let rowNumber = row.number != null ? row.number.value : '';\n\n        for(let j =0; j <  row.seat.length; j++) {\n          let seat = row.seat[j];\n          if(rowNumber != ''){\n            seat.rowNumber = Number(rowNumber);\n          }\n        }\n      }\n      \n      for(let component of components) {\n        let type = component.type;\n        let beforeOrAfter = component.location.rowPosition.beforeOrAfter;\n        let begin = component.location.rowPosition.begin;\n        // let end = component.location.rowPosition.end;\n        let columnPosition = component.location.rowPosition.columnPosition;\n        if([\"BK\"].includes(type)){\n          continue;\n        }\n        if( beforeOrAfter != null) {\n            let emptyRow = this.getEmptyRow(columns, type, columnPosition);\n            let index = cabin.row.findIndex(i => i.number && Number(i.number.value) == begin);\n            if(beforeOrAfter == 'AFTER') {\n              index += 1;\n            } \n            if(index === cabin.row.length || ((index === 0 || (index > 0 && index < cabin.row.length && !cabin.row[index-1].notSeat)) && !cabin.row[index].notSeat)) {\n                cabin.row.splice(index, 0, emptyRow);\n            }\n          }\n      }\n\n      for(let i =0; i < cabin.row.length; i++) {\n        let row = cabin.row[i];\n        if(!row.notSeat) {\n          let seatNumberRow = this.getSeatNumberRow(columns)\n          cabin.row.splice(i, 0, seatNumberRow);\n          break;\n        }\n      }\n    }\n    /*let obj = {} as any;\n    for(let segment of this.segmentArr) {\n      console.log(segment.segmentKey);\n      for(let seats of segment.seats) {\n        for(let cabin of seats.cabin) {\n          let exitRowPositions = cabin.cabinLayout.exitRowPosition;\n          let rowsLayout = cabin.cabinLayout.rows;\n          let components = cabin.component;\n          // console.log(exitRowPositions);\n          for(let row of cabin.row) {\n            // console.log(row.number.value);\n\t\t\t      let columns = [];\n            for(let seat of row.seat) {\n              columns.push(seat.column);\n              // console.log(seat.column);\n              // console.log(seat.seatCharacteristics.code.join(\",\"));\n              obj[seat.column] = obj[seat.column] || [];\n              let code = seat.seatCharacteristics.code;\n              let codes = [];\n              for(let c of code) {\n                if(c != 'LS' && c!= 'RS') {\n                  codes.push(this.seatCharacteristics[c]);\n                }\n              }\n              // if(this.isExitRowPositions(exitRowPositions, row.number.value)) {\n              //   codes.push('Exit');\n              // }\n              obj[seat.column].push(codes.join(\",\"));\n              if(row.number.value == rowsLayout.last) {\n                obj[seat.column].push('');\n              }\n            }\n\t\t\t      // console.log(columns.join(\",\"));\n          }\n        }\n      }\n      break;\n    }\n    console.log(obj);*/\n\n    return result;\n  }\n\n  getSeatNumberRow(columns) {\n    let row = {\n      \"seat\": [],\n      isSeatNumberDisplay: true\n    };\n    row.seat = JSON.parse(JSON.stringify(columns));\n    for(let seat of row.seat) {\n      seat.isSeatNumberDisplay = true;\n    }\n    return row;\n  }\n\n  getEmptyRow(columns, type, columnPosition: any[]) {\n    let row = {\n      \"seat\": [],\n      notSeat: true\n    };\n    row.seat = JSON.parse(JSON.stringify(columns));\n    let i = 0;\n    for(let seat of row.seat) {\n      if(columnPosition.includes(seat.value)) {\n        seat.type = type;\n      }\n      if(type == 'D' && ( i==0 || i == (row.seat.length -1))) {\n        if(i==0) {\n          seat.icon = 'exitL.svg';\n        } else {\n          seat.icon = 'exitR.svg';\n        }\n      } else {\n        seat.notSeat = true;\n      }\n      i++;\n    }\n    return row;\n  }\n\n  setWidth(columns: any, cabin: any) {\n    let aisleCount = 0;\n    let spacesCount = 0;\n    let index = 0;\n    let aisleIndexes = [];\n    for(let row of columns) {\n      if(row.position == \"A\") {\n        aisleCount++;\n      } else {\n        aisleCount = 0;\n      }\n      if(aisleCount == 2) {\n        spacesCount++;\n        aisleIndexes.push(index);\n      }\n      index++;\n    }\n    let width = 100/(columns.length+spacesCount+2);\n    cabin.width = width;\n    cabin.aisleIndexes = aisleIndexes;\n    // console.log('setWidth', columns.length+spacesCount+2, width);\n  }\n}\n\n","import { AfterViewInit, ChangeDetectorRef, Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { LocalStorage } from '../../../../../shared/storage/local-storage';\nimport { AirlineOrderService } from '../../services/airline-order.service';\nimport { DialogComponent } from '../../../../../shared/dialog/dialog.component';\nimport { DialogService } from '../../../../../shared/dialog/dialog.service';\nimport { environment } from '../../../../../../environments/environment';\nimport { AirlineRetrieveService } from '../../services/airline-retrieve.service';\nimport { AirlineOrderViewModel } from '../../viewmodels/airline-order';\nimport { AirlineOrderStatus } from '../../models/order/airline-order-status';\nimport { AirlinePaymentService } from '../../services/airline-payment.service';\nimport { AirlinePaymentFormComponent } from '../../partials/airline-payment-form/airline-payment-form.component';\n\n@Component({\n  selector: 'app-airline-payment',\n  templateUrl: './airline-payment.component.html',\n  styleUrls: ['./airline-payment.component.css']\n})\nexport class AirlinePaymentComponent extends Airline {\n\n  @ViewChild(AirlinePaymentFormComponent) airlinePaymentFormComponent : AirlinePaymentFormComponent;\n\n  public errors: any;\n  public isSubmitted = false;\n  public order = {\n    flightSegment: [],\n    passengerList: [],\n    contactList: []\n  };\n  public orderId;\n\n  orderViewModel: AirlineOrderViewModel;\n  \n  constructor(private router: Router, loginService: LoginService,\n    private airlineOrderService: AirlineOrderService, private _snackBar: MatSnackBar,\n    private activatedRoute: ActivatedRoute,\n    private airlineRetrieveService: AirlineRetrieveService,\n    private airlinePaymentService: AirlinePaymentService) { \n    super(loginService);\n    document.body.style.backgroundSize = \"100% 165px\";\n    this.activatedRoute.params.subscribe(params => {\n      this.orderId = params.id;\n    });\n\n    if(this.router.getCurrentNavigation().extras.state && this.router.getCurrentNavigation().extras.state.orderViewModel){\n      this.orderViewModel = this.router.getCurrentNavigation().extras.state.orderViewModel;\n    }\n    else{\n      this.airlineRetrieveService.getOrderById(this.orderId).subscribe((data: AirlineOrderStatus) => {\n        this.orderViewModel = this.airlineOrderService.getOrderViewModel(data);\n      });\n    }\n  }\n\n  backToOrderDetails(){\n    this.router.navigateByUrl('/Airlines/Orders/' + this.orderId, { state: { orderViewModel: this.orderViewModel }});\n  }\n\n  pay() {\n    this.isSubmitted = true;\n    \n    if(this.airlinePaymentFormComponent.isPaymentFormValid()) {\n      this.airlinePaymentService.pay(this.airlinePaymentFormComponent.creditCardFG.value, this.orderId).subscribe((data: AirlineOrderStatus) => {\n        \n          let orderViewModel = this.airlineOrderService.getOrderViewModel(data);\n          this.router.navigateByUrl('/Airlines/Orders/' + this.orderId, { state: { orderViewModel: orderViewModel }});\n      });\n    } else {\n      this.airlinePaymentFormComponent.markAllAsTouched();\n    }\n  }\n}\n","<div *ngIf=\"orderId != null\">\n    <div class=\"content d-flex flex-column flex-column-fluid pt-0\" id=\"lr_content\">\n\n        <div class=\"d-flex flex-column-fluid borderHeader\">\n            <div class=\"container\"> \n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"brdSmallBlock gutter-b d-flex\">\n                            <div class=\"brdSmallBlock_inner pt-4 flex-column\">\n                                <h2 class=\"text-white pl-2\">Payment Details</h2>\n                                <h6 class=\"text-white-50 pl-2\">Provide Payment Information</h6>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"gutter-b\">\n                    \n                    <div class=\"d-flex justify-content-end mb-3\">\n                        <button (click)=\"backToOrderDetails()\" class=\"btn btn-primary ml-5\" title=\"Back to order details\">Back to order details</button>\n                    </div>\n\n                    <div class=\"mb-3\">\n                        <app-airline-errors [errors]=\"errors\"></app-airline-errors>\n                    </div>\n\n                    <div class=\"row\">\n                        <div class=\"col-9\">\n                            <app-airline-payment-form [hidePaymentTypeSelection]=\"true\"></app-airline-payment-form>\n                        </div>\n                            \n                        <div class=\"col-3\">\n                            <app-airline-order-summary *ngIf=\"orderViewModel\" [passengers]=\"orderViewModel.passengers\"></app-airline-order-summary>\n                            <div class=\"mt-5\">\n                                <app-airline-payment-summary  *ngIf=\"orderViewModel\" (makePayment)=\"pay()\" [orderViewModel]=\"orderViewModel\" [payments]=\"orderViewModel.payments\" [passengers]=\"orderViewModel.passengers\" ></app-airline-payment-summary>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n","import { Component, Input, OnInit } from '@angular/core';\nimport { LocalStorage } from 'src/app/shared/storage/local-storage';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { AirlineBookingReference } from '../../models/order/airline-booking-reference';\n\n@Component({\n  selector: 'app-airline-order-rloc',\n  templateUrl: './airline-order-rloc.component.html',\n  styleUrls: ['./airline-order-rloc.component.css']\n})\nexport class AirlineOrderRlocComponent extends Airline implements OnInit {\n\n  rlocs = [{\n    id: 'OrderId',\n    text: 'Order Id'\n  }, {\n    id: 'Firelogix', \n    text: 'Firelogix',\n  }, {\n    id: 'Airline',\n    text: 'Airline'\n  }];\n\n  selectedRloc: { id: string, text: string};\n  firelogixRloc: string;\n  airlineRlocs: Array<{ id: string, text: string}>;\n\n  @Input() bookingReferences: Array<AirlineBookingReference>\n  @Input() orderId: string;\n  @Input() payments: any;\n\n  constructor(private localStorage: LocalStorage, loginService: LoginService) {\n    super(loginService)\n   }\n\n  ngOnInit(): void {\n    let selectedRlocId = this.localStorage.getItem(this.localStorage.keys.airline.selectedRlocId);\n    if (selectedRlocId){\n      this.selectedRloc = this.rlocs.find(i => i.id == selectedRlocId);\n    }\n    if (!this.selectedRloc){\n      this.selectedRloc = this.rlocs[0];\n    }\n      \n    this.firelogixRloc = this.bookingReferences.find(i => i.otherID && i.otherID.value == 'F1')?.id;\n    this.airlineRlocs = this.bookingReferences\n        .filter(i => i.airlineID)\n        .map(i => { return {\n          id: i.id,\n          text: this.getOperatedCarrierText(i.airlineID.value, i.airlineID.name)\n        }\n    }); \n  }\n\n  selectedRlocChanged() {\n    if(this.selectedRloc){\n      this.localStorage.setItem(this.localStorage.keys.airline.selectedRlocId, this.selectedRloc.id);\n    }\n  }\n}\n","<div class=\"row\">\n    <div class=\"col-9\">\n        <div class=\"text-white h3\">\n            <ng-container *ngIf=\"selectedRloc.id=='OrderId'\"><span class=\"opacity-70\">Order Id: </span>{{orderId}}</ng-container>\n            <ng-container *ngIf=\"selectedRloc.id=='Firelogix'\"><span class=\"opacity-70\">Firelogix: </span>{{firelogixRloc}}</ng-container>\n            <ng-container *ngIf=\"selectedRloc.id=='Airline'\">\n                <ng-container *ngFor=\"let airline of airlineRlocs\">\n                    <span class=\"opacity-70\">{{airline.text}}: </span>{{airline.id}} &nbsp;\n                </ng-container>\n            </ng-container>\n        </div>\n        <div class=\"text-white-50\" *ngIf=\"payments != null\">Your Order has been confirmed  <i class=\"fas fa-check-circle text-success icon-xl\"></i></div>\n        <div class=\"text-white-50\" *ngIf=\"payments == null\">Your Order is on Hold  <i class=\"fas fa-pause-circle text-warning icon-xl\"></i></div>\n    </div>\n    <div class=\"col-3 text-right\">\n        <span class=\"text-white pr-2\">PNR Locator:</span>\n        <mat-form-field class=\"rloc\" appearance=\"fill\">\n            <mat-select (selectionChange)=\"selectedRlocChanged()\" [(value)]=\"selectedRloc\">\n                <mat-option *ngFor=\"let rloc of rlocs\" [value]=\"rloc\" >\n                    {{rloc.text}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field> \n    </div>\n</div>","import * as equal from \"fast-deep-equal\";\nimport { Observable, combineLatest } from \"rxjs\";\nimport { debounceTime, map, startWith } from \"rxjs/operators\";\n\nexport function dirtyCheck<U>(source: Observable<U>) {\n  return function<T>(valueChanges: Observable<T>): Observable<boolean> {\n    \n    const isDirty$ = combineLatest(\n      [source,\n      valueChanges]\n    ).pipe(\n      debounceTime(300),\n      map(([a, b]) => equal(a, b) === false),\n      startWith(false),\n    );\n\n    return isDirty$;\n  };\n}","import { AfterViewInit, Component, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, Renderer2, ViewChild } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MatDatepickerInputEvent } from '@angular/material/datepicker';\nimport { Select, Store } from '@ngxs/store';\nimport { Observable, of } from 'rxjs';\nimport { debounceTime, distinct, filter, map, switchMap } from 'rxjs/operators';\nimport { LocalStorage } from 'src/app/shared/storage/local-storage';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { AirlineRetrieveService } from '../../services/airline-retrieve.service';\nimport { SetSearchCriteriaData } from '../../../../../store/airline/airline.actions';\nimport { AirlinePassengerService } from '../../services/airline-passenger.service';\nimport { AirlineSearch, TripType } from '../../viewmodels/airline-search';\nimport { AirlineStateModule } from 'src/app/store/airline/airline.state';\nimport { AirlineSearchFlight } from '../../models/flight/airline-search-flight';\nimport { AirlineDatetimeService } from '../../services/airline-datetime.service';\nimport { AirlineAirport } from '../../models/flight/airline-airport';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-airline-search-header',\n  templateUrl: './airline-search-header.component.html',\n  styleUrls: ['./airline-search-header.component.css']\n}) \nexport class AirlineSearchHeaderComponent implements OnInit, AfterViewInit  {\n  @Input() showSearchButton;\n  @Input() fontStyle;\n  @Input() blockClass;\n  @Input() loadLatestSearch: boolean;\n  @Input() hidePtc: boolean;\n  @Input() from: string;\n\n  @Output() search = new EventEmitter();\n  @ViewChild('tripSelect') tripSelect;\n\n  public maxNumberOfFlights = 5;\n  public airLinesData = {};\n  public airlineLoading = false;\n  public loadingLeavingFrom = false;\n  public loadingLeavingTo = false;\n\n  public minToDate = new Date();\n  public maxToDate = new Date(this.minToDate.getTime() +  1000 * 60 * 60 * 24 * 150);\n  public minFromDate = new Date();\n  public maxFromDate = new Date(this.minFromDate.getTime() +  1000 * 60 * 60 * 24 * 150);\n  \n  public isSubmitted = false;\n\n  public displayLabel = {\n    to: 'Going To',\n    from: 'Leaving From'\n  }\n  \n  @Input() airlineSearch: AirlineSearch; \n  \n  @Select(AirlineStateModule.getSearchCriteria) searchCriteria$: Observable<any>;\n\n  constructor(loginService: LoginService,\n    private renderer: Renderer2, \n    private localStorage: LocalStorage,\n    private passengerService: AirlinePassengerService,\n    private airlineDatetimeService: AirlineDatetimeService,\n    private store: Store) { \n\n    document.body.style.backgroundSize = \"100% 165px\";\n  }\n\n  \n  protected defaultTo() : AirlineAirport {\n    return {\n      \"id\": \"ORD\",\n      \"icao\": \"KORD\",\n      \"iata\": \"ORD\",\n      \"name\": \"ORD - Chicago OHare International Airport\",\n      \"city\": \"Chicago\",\n      \"state\": \"Illinois\",\n      \"country\": \"US\",\n      \"elevation\": 672,\n      \"lat\": 41.97859955,\n      \"lon\": -87.90480042,\n      \"tz\": \"America/Chicago\",\n      \"value\":\"ORD - Chicago OHare International Airport\",\n      \"data\":\"ORD\"\n    };\n  }\n\n  protected defaultFrom() : AirlineAirport {\n      return { \"id\": \"DFW\",\n      \"icao\": \"KDFW\",\n      \"iata\": \"DFW\",\n      \"name\": \"DFW - Dallas Fort Worth International Airport\",\n      \"city\": \"Dallas-Fort Worth\",\n      \"state\": \"Texas\",\n      \"country\": \"US\",\n      \"elevation\": 607,\n      \"lat\": 32.89680099,\n      \"lon\": -97.03800201,\n      \"tz\": \"America/Chicago\",\n      \"value\":\"DFW - Dallas Fort Worth International Airport\",\n      \"data\":\"DFW\"\n    };\n  }\n\n  getAirlineSearch() : AirlineSearch{\n    return JSON.parse(JSON.stringify(this.airlineSearch));\n  }\n\n  ngAfterViewInit(): void {\n    if(this.loadLatestSearch && this.airlineSearch){\n      setTimeout(() => this.validateAndSearch(), 100);\n    }\n  }\n\n  ngOnInit(): void {\n    if(this.airlineSearch){\n      return;\n    }\n    \n    this.airlineSearch = {\n      flights: [],\n      travellers: [{\n        index: 0,\n        ptc: this.passengerService.getAdult().ptcCode\n      }],\n      tripType: \"one\",\n      loyaltyAccountNumber: '',\n      isLoyaltyAccountEnabled: false\n    };\n    this.addFlight();\n      \n    this.searchCriteria$.subscribe((airlineSearch: AirlineSearch) => { \n      if(!this.loadLatestSearch){\n        return;\n      }\n      if(airlineSearch != null){\n        this.airlineSearch = JSON.parse(JSON.stringify(airlineSearch));\n        this.localStorage.setItem(this.localStorage.keys.airline.search, JSON.stringify(airlineSearch));\n      } else {\n        let airlineSearchTxt = this.localStorage.getItem(this.localStorage.keys.airline.search);\n        if(airlineSearchTxt != null) {\n          let airlineSearch : AirlineSearch = JSON.parse(airlineSearchTxt);\n          this.checkDate(airlineSearch);\n          this.airlineSearch = airlineSearch;\n        }\n      }\n    }); \n  }\n\n  setTripType(tripType: TripType){\n    this.airlineSearch.tripType = tripType;\n    switch (tripType)\n    {\n      case  \"one\": \n        this.airlineSearch.flights.splice(1);\n        break;\n      \n      case \"round\":\n        this.airlineSearch.flights.splice(1);\n        this.addFlight();\n        break;\n\n      case \"multi\":\n        break;\n    }\n  }\n\n  addFlight() {\n    if(this.airlineSearch.flights.length >= this.maxNumberOfFlights){\n      return;\n    }\n    if(this.airlineSearch.flights.length == 0){\n\n      this.airlineSearch.flights.push(\n        {   \n          from: !environment.production ? this.defaultFrom() : null,\n          to: !environment.production ? this.defaultTo() : null,\n          departureDate: new Date()\n      });\n    }\n    else{\n      let lastAirport = this.airlineSearch.flights[this.airlineSearch.flights.length - 1].to;\n      let firstAirport = this.airlineSearch.flights[0].from;\n      this.airlineSearch.flights.push({   \n          from: JSON.parse(JSON.stringify(lastAirport)),\n          to: JSON.parse(JSON.stringify(firstAirport)),\n          departureDate: this.airlineSearch.flights[this.airlineSearch.flights.length - 1].departureDate\n      });\n    }\n  }\n   \n  removeFlight(index){\n    this.airlineSearch.flights.splice(index, 1);\n  }\n\n  validateAndSearch(){\n    // if(this.searchFormGroup.valid) {\n      // let searchFormGroupValue = this.searchFormGroup.value;\n      this.localStorage.setItem(this.localStorage.keys.airline.search, JSON.stringify(this.airlineSearch));\n\n      // copy to avoid read-only problems\n      this.store.dispatch(new SetSearchCriteriaData(JSON.parse(JSON.stringify(this.airlineSearch))));\n      this.search.emit();\n    // } else {\n      // this.searchFormGroup.markAllAsTouched();\n      // this.isSubmitted = true;\n    // }\n  }\n\n  checkDate(airlineSearch: AirlineSearch) {\n    var now = new Date();\n    const time = this.airlineDatetimeService.truncateTime(now);\n    let dateChange = false;\n\n    airlineSearch.flights.forEach((flight) => {\n      if(Date.parse(this.airlineDatetimeService.truncateTime(flight.departureDate)) < Date.parse(time)) {\n        flight.departureDate = now; \n        dateChange = true;\n      }\n    })\n    \n    if(dateChange) {\n      this.localStorage.setItem('searchFormGroup', JSON.stringify(airlineSearch));\n    }\n  }\n\n swipBtn(flight: AirlineSearchFlight) {\n  if(this.airlineSearch.tripType === 'round'){\n    this.airlineSearch.flights.forEach(i => this.switchFromTo(i));\n  }\n  else{\n    this.switchFromTo(flight);\n  }\n }\n\n private switchFromTo(flight: AirlineSearchFlight){\n  let fromValue = flight.from;\n  flight.from = flight.to;\n  flight.to = fromValue;\n }\n}\n","<div class=\"card card-custom gutter-b card-stretch rounded-xl\">\n    <!--begin::Header-->\n    <div class=\"card-header border-0\">\n      <div class=\"card-toolbar\">\n        <ul class=\"nav nav-bold nav-pills\">\n          <li class=\"nav-item\" (click)=\"setTripType('one')\">\n            <a class=\"nav-link cursor-pointer\" [ngClass]=\"airlineSearch.tripType == 'one' ? 'rounded-pill colorBg active' : 'nav-pills'\">One Way</a>\n          </li>\n          <li class=\"nav-item cursor-pointer\" (click)=\"setTripType('round')\">\n            <a class=\"nav-link\" [ngClass]=\"airlineSearch.tripType == 'round' ? 'rounded-pill colorBg active' : 'nav-pills'\">Round Trip</a>\n          </li>\n          <li class=\"nav-item cursor-pointer\" (click)=\"setTripType('multi')\">\n            <a class=\"nav-link\" [ngClass]=\"airlineSearch.tripType == 'multi' ? 'rounded-pill colorBg active' : 'nav-pills'\">Multi city</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div class=\"card-body pt-0 pl-6 pr-6\">\n        <div class=\"card card-custom mb-3\">\n            <div [ngClass]=\"blockClass\">\n                <ng-container *ngFor=\"let flight of airlineSearch.flights; let i = index\">\n                    <div [ngClass]=\"blockClass + '_inner'\" *ngIf=\"!(i > 0 && airlineSearch.tripType == 'round')\" >\n                        <div *ngIf=\"airlineSearch.tripType == 'multi'\" class=\"text-centerrounded-top-right rounded-bottom-right\">\n\n                            <button *ngIf=\"airlineSearch.flights.length > 1\" type=\"button\" (click)=\"removeFlight(i)\" \n                                class=\"airline-multi-button ml-2 pb-2 btn btn-danger btn-text-white btn-hover-text-white\"\n                                [ngClass]=\"i == 0 ? (from == 'dashboard' ? 'mt-12' : 'mt-7') : (from == 'dashboard' ? 'mt-3': '')\"> \n                                <i class=\"fas fa-minus-circle text-white pr-0\"></i>\n                            </button> \n                        </div> \n\n                        <airport-code-search\n                            class=\"searchCity\" \n                            [showLabel]=\"i == 0\"\n                            [fontStyle]=\"fontStyle\" \n                            [flight]=\"flight\"\n                            [field]=\"'from'\"\n                            [label]=\"displayLabel.from\"\n                            [(isSubmitted)]=\"isSubmitted\">\n                        </airport-code-search>\n                        <span class=\"swipBtn\"\n                        [ngClass]=\"i == 0 ? 'mt-8' : 'mt-1'\"\n                         (click)=\"swipBtn(flight)\">\n                            <i class=\"fas fa-exchange-alt text-primary\"></i>\n                        </span>\n                        <airport-code-search  \n                            class=\"searchCity\" \n                            [showLabel]=\"i == 0\"\n                            [label]=\"displayLabel.to\"\n                            [fontStyle]=\"fontStyle\" \n                            [flight]=\"flight\"\n                            [field]=\"'to'\"\n                            [(isSubmitted)]=\"isSubmitted\">\n                        </airport-code-search>\n                        <app-airport-search-date class=\"searchDate\"\n                            [label]=\"'Departure'\" \n                            [showLabel]=\"i == 0\"\n                            [fontStyle]=\"fontStyle\" \n                            [minDate]=\"minFromDate\"\n                            [maxDate]=\"maxFromDate\"\n                            [flight]=\"flight\"\n                            [field]=\"'departureDate'\">\n                        </app-airport-search-date>\n                        <app-airport-search-date class=\"searchDate\" *ngIf=\"airlineSearch.tripType == 'round'\"\n                            [label]=\"'Return'\" \n                            [showLabel]=\"i == 0\"\n                            [fontStyle]=\"fontStyle\" \n                            [minDate]=\"flight.departureDate\"\n                            [maxDate]=\"maxToDate\"\n                            [flight]=\"airlineSearch.flights[1]\"\n                            [field]=\"'departureDate'\">\n                        </app-airport-search-date>\n                        \n                        <app-airline-search-travellers \n                            class=\"searchDate no-right-border\" \n                            *ngIf=\"i==0 && !hidePtc\"\n                            [fontStyle]=\"fontStyle\" \n                            [airlineSearch]=\"airlineSearch\">\n                        </app-airline-search-travellers>\n                        \n                        <div *ngIf=\"showSearchButton && i==0\" class=\"bg-primary rounded-top-right rounded-bottom-right\">\n                            <button type=\"button\" (click)=\"validateAndSearch()\"\n                                class=\"btn btn-text-white btn-hover-text-white h3 border-0 font-weight-bold pt-4 pl-6 pb-4\">\n                                Search <i class=\"far fa-arrow-alt-circle-right text-white\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </ng-container>\n            </div> \n            <div *ngIf=\"airlineSearch.tripType == 'multi' && airlineSearch.flights.length < maxNumberOfFlights\">\n                <button type=\"button\" (click)=\"addFlight()\" class=\"airline-multi-button ml-2 mt-7 btn btn-success btn-text-white btn-hover-text-white\">\n                    <i class=\"fas fa-plus-circle text-white pr-0\"></i> Add flight\n                </button> \n            </div>\n\n            <div class=\"bg-warning p-3 h6\" *ngIf=\"airlineSearch.flights.length >= maxNumberOfFlights\">Max {{maxNumberOfFlights}} flights supported. </div>\n        </div>\n        <div class=\"d-flex pt-3 mt-3\">\n            \n            <label class=\"checkbox\">\n                <input type=\"checkbox\" [(ngModel)]=\"airlineSearch.isLoyaltyAccountEnabled\">\n                <span class=\"mr-1\"></span>Do you have Frequent flyer number?\n            </label>\n            <input *ngIf=\"airlineSearch.isLoyaltyAccountEnabled\" [(ngModel)]=\"airlineSearch.loyaltyAccountNumber\" type=\"text\" class=\"form-control w-200px ml-2\" placeholder=\"Enter Frequent Flyer Code\">\n        </div>\n    </div>\n</div>\n    ","import { Component, OnInit, ViewChild, OnDestroy, Renderer2, ElementRef, ViewChildren, AfterViewInit } from '@angular/core';\nimport { FormControl, FormGroup, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { debounceTime, distinct, filter, map, switchMap } from 'rxjs/operators';\nimport {MatDatepickerInputEvent} from '@angular/material/datepicker';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { of } from 'rxjs';\nimport { HttpClient  } from '@angular/common/http';\nimport { Store } from '@ngxs/store';\nimport { Router } from '@angular/router';\n\nimport { environment } from '../../../../../../environments/environment';\nimport { AirlineRetrieveService } from '../../services/airline-retrieve.service';\nimport { Airline } from '../../airline';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { MyErrorStateMatcher } from '../../../../../shared/models/airline.model';\nimport { AirlineSearchHeaderComponent } from '../../partials/airline-search-header/airline-search-header.component';\n\n@Component({\n  selector: 'app-airline-dashboard',\n  templateUrl: './airline-dashboard.component.html',\n  styleUrls: ['./airline-dashboard.component.css']\n})\nexport class AirlineDashboardComponent extends Airline implements OnInit, AfterViewInit {\n  @ViewChild(AirlineSearchHeaderComponent) airlineSearchHeader: AirlineSearchHeaderComponent;\n  \n  constructor(loginService: LoginService, private airlineRetrieveService: AirlineRetrieveService, \n    private renderer: Renderer2, private store: Store, private router: Router) {    \n    super(loginService);  \n  }\n \n  ngAfterViewInit(): void {\n  }\n  \n  ngOnInit() {\n    // this.getAllAirportSearchService();\n  }\n\n  btnSearchClick(){\n    this.airlineSearchHeader.validateAndSearch();\n  }\n  \n  search(){\n    this.router.navigateByUrl('/Airlines/Search');\n  }\n}\n","<div class=\"d-flex flex-column-fluid\">\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n          <app-airline-search-header [loadLatestSearch]=\"false\" [from]=\"'dashboard'\" [blockClass]=\"'brdBigBlock'\" [fontStyle]=\"'h1'\" (search)=\"search()\"></app-airline-search-header>\n          \n          <div class=\"d-flex justify-content-center pt-5\">\n            <button (click)=\"btnSearchClick()\" type=\"button\" class=\"btn btn-primary btn-pill btn-lg colorBg font-size-h3 w-200px btn-shadow\">\n              Search <i class=\"far fa-arrow-alt-circle-right\"></i>\n            </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AirlineLoaderService {\n  public isLoading: boolean;\n  public isSearchResultLoading: boolean;\n  public loaderText: string;\n\n  constructor() { }\n\n  isLoaderShown(){\n    return this.isLoading;\n  }\n\n  isLoaderHidden(){\n    return !this.isLoading;\n  }\n\n  showLoader(text?: string){\n    this.isLoading = true;\n    this.loaderText = text || \"\";\n  }\n\n  hideLoader(){\n    this.isLoading = false;\n  }\n\n  showSearchResultLoader(text?: string){\n    this.isSearchResultLoading = true;\n    this.loaderText = text || \"\";\n  }\n  \n  hideSearchResultLoader(){\n    this.isSearchResultLoading = false;\n  }\n\n  isSearchResultLoaderShown(){\n    return this.isSearchResultLoading;\n  }\n\n  isSearchResultLoaderHidden(){\n    return !this.isSearchResultLoading;\n  }\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\nimport { LocalStorage } from '../../../../../shared/storage/local-storage';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { collapseAnimation } from '../../../../../animations';\nimport { AirlineOrderSummaryComponent } from '../../partials/airline-order-summary/airline-order-summary.component';\nimport { AirlinePassengerFormComponent } from '../../partials/airline-passenger-form/airline-passenger-form.component';\nimport { AirlinePaymentFormComponent } from '../../partials/airline-payment-form/airline-payment-form.component';\nimport { AirlineOfferViewModel } from '../../viewmodels/airline-offer';\nimport { AirlineOrderService } from '../../services/airline-order.service';\nimport { AirlineContactFormComponent } from '../../partials/airline-contact-form/airline-contact-form.component';\nimport {AirlineFareService} from '../../services/airline-fare.service';\nimport {AirlineFlightRuleViewModel} from '../../viewmodels/airline-flight-rule';\nimport { AirlineFlightService } from '../../services/airline-flight.service';\nimport { AirlineOrderStatus } from '../../models/order/airline-order-status';\nimport { AirlinePaymentService } from '../../services/airline-payment.service';\n \n@Component({\n  selector: 'app-airline-create-order',\n  templateUrl: './airline-create-order.component.html',\n  styleUrls: ['./airline-create-order.component.scss'],\n  animations: [\n    collapseAnimation\n  ]\n})\nexport class AirlineCreateOrderComponent extends Airline implements OnInit {\n  @ViewChild(AirlineOrderSummaryComponent) airlineOrderSummaryComponent: AirlineOrderSummaryComponent;\n  @ViewChild(AirlinePassengerFormComponent) airlinePassengerFormComponent : AirlinePassengerFormComponent;\n  @ViewChild(AirlinePaymentFormComponent) airlinePaymentFormComponent : AirlinePaymentFormComponent;\n  @ViewChild(AirlineContactFormComponent) airlineContactFormComponent: AirlineContactFormComponent;\n\n  public offerViewModel: AirlineOfferViewModel;\n  public flightFaresInfo: AirlineFlightRuleViewModel[];\n\n\n  public isSubmitted = false;\n  public maxDate = new Date();\n\n  constructor(\n      private router: Router,\n      private localStorage: LocalStorage,\n      private _snackBar: MatSnackBar,\n      private orderService: AirlineOrderService,\n      private flightService: AirlineFlightService,\n      private paymentService: AirlinePaymentService,\n      loginService: LoginService,\n  ) {\n    super(loginService);\n    document.body.style.backgroundSize = \"100% 165px\";\n\n  }\n\n  ngOnInit() {\n    let offerViewModelTxt = this.localStorage.getItem(this.localStorage.keys.airline.offerViewModel);\n    if(!offerViewModelTxt){\n      this.router.navigateByUrl('/Airlines/Search');\n      return;\n    }\n\n    this.offerViewModel = JSON.parse(offerViewModelTxt);\n    const [fareDetail] = this.offerViewModel.offerItems?.[0]?.fareDetail || [];\n    this.flightFaresInfo = this.flightService.getPriceRules(fareDetail?.fareComponent);\n  }\n\n  cancel() {\n    this.router.navigateByUrl('/Airlines/Search');\n  }\n\n  bookFlight(){\n    this.isSubmitted = true;\n    if(this.airlinePassengerFormComponent.passengersFormGroup.valid && this.airlineContactFormComponent.contactFG.valid && this.airlinePaymentFormComponent.isPaymentFormValid()) {\n      let payments = this.airlinePaymentFormComponent.paymentType === AirlinePaymentService.paymentTypeCreditCard ? this.paymentService.preparePaymentRequestBody(this.airlinePaymentFormComponent.creditCardFG.value) : null;\n      let passengers = this.airlinePassengerFormComponent.getPassengers();\n      let contacts = this.airlineContactFormComponent.getContacts();\n      this.orderService.bookFlight(this.offerViewModel, passengers, contacts, payments).subscribe((data: AirlineOrderStatus) => {\n          let orderViewModel = this.orderService.getOrderViewModel(data);\n          this.router.navigateByUrl('/Airlines/Orders/'+ data.response.order[0].orderID, {state: {orderViewModel: orderViewModel}});\n      });\n    } else {\n      this.airlineContactFormComponent.markAllAsTouched();\n      this.airlinePassengerFormComponent.markAllAsTouched();\n      this.airlinePaymentFormComponent.markAllAsTouched();\n    }\n  }\n}\n","<!--begin::Entry-->\n<div *ngIf=\"offerViewModel != null\" class=\"d-flex flex-column-fluid\">\n    <!--begin::Container-->\n    <div class=\"container\">\n        <!--begin::Dashboard-->\n        <!--begin::Row-->\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <div class=\"brdSmallBlock gutter-b\">\n                    <div class=\"brdSmallBlock_inner pt-4 flex-column\">\n                        <h2 class=\"text-white pl-2 opacity-70\">Booking Details</h2>\n                        <h6 class=\"text-white-50 pl-2\">Review Fare and provide booking details</h6>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!--end::Row-->\n        <!--begin::Row-->\n        <div class=\"row gutter-b\">\n            <div class=\"col-9\">\n                <!--begin::Details-->\n                <div class=\"card card-custom mb-3\">\n                    <div class=\"card-body p-0\">\n                        <app-airline-flight-item [flights]=\"offerViewModel.flights\"></app-airline-flight-item>\n                        <!--begin::Top-->\n                    </div>\n                </div>\n                <!--end::Details-->\n                <!-- Start::Passenger -->\n\n                <app-airline-passenger-form [passengers]=\"offerViewModel.passengers\"></app-airline-passenger-form>\n\n                <!-- end::Passenger -->\n\n                <app-airline-contact-form></app-airline-contact-form>\n                <!-- Start::Trip -->\n                <!-- end::Trip -->\n                <div class=\"mt-3\">\n                    <app-airline-payment-form ></app-airline-payment-form>\n                </div>\n\n                <!-- Start::Buttons -->\n                <div class=\"row mt-4 align-items-end\">\n                    <div class=\"col-12 ml-lg-auto text-right\">\n                        <button type=\"button\" (click)=\"cancel()\" class=\"btn btn-secondary btn-lg\">Cancel</button>\n                        <button type=\"submit\" (click)=\"bookFlight()\" class=\"btn btn-primary btn-lg font-weight-bold ml-2\">Book Flight</button>\n                    </div>\n                </div>\n                <!-- End::Buttons -->\n            </div>\n            <!--Start::Price-->\n            <div class=\"col-3\">\n                <app-airline-order-summary [passengers]=\"offerViewModel.passengers\"></app-airline-order-summary>\n            </div>\n\n            <!--End::Price-->\n        </div>\n        <!--end::Row-->\n        <!--end::Dashboard-->\n    </div>\n    <!--end::Container-->\n</div>\n<!--end::Entry-->\n","import { Component, Input, OnInit } from '@angular/core';\nimport { AirlineErrorService } from '../../services/airline-error.service';\n\n@Component({\n  selector: 'app-airline-errors',\n  templateUrl: './airline-errors.component.html',\n  styleUrls: ['./airline-errors.component.scss']\n})\nexport class AirlineErrorsComponent implements OnInit {\n\n  constructor(public airlineErrorService: AirlineErrorService) { \n    \n  }\n\n  ngOnInit(): void {\n  }\n\n  hide(){\n    this.airlineErrorService.hideErrors();\n  }\n}\n","<div class=\"error-container mt-10\" *ngIf=\"airlineErrorService.showErrorInfo\">\n    <div class=\"card card-custom mt-3\">\n        <div class=\"card-header\">\n            <div class=\"card-title-with-hide-button\">\n                <div class=\"pull-right text-right\"><button class=\"btn btn-primary\" (click)=\"hide()\">Hide</button></div>\n                <h3 class=\"card-label\">Errors and Warnings</h3>\n            </div>\n        </div>\n        <div class=\"card-body\">\n            <h3 *ngIf=\"airlineErrorService.errors && airlineErrorService.errors.length > 0\" class=\"card-label  text-danger\">Errors</h3>\n            <ul>\n                <li *ngFor=\"let error of airlineErrorService.errors\">\n                    {{error.value.replace(\"Document issuance failed. Root cause: \",\"\")}}\n                </li>\n            </ul>  \n            \n            <h3 *ngIf=\"airlineErrorService.generalErrors && airlineErrorService.generalErrors.length > 0\" class=\"card-label text-danger\">General Errors</h3>\n            <ul>\n                <li *ngFor=\"let generalError of airlineErrorService.generalErrors\">\n                    <div>{{generalError.value}}</div>\n                    <pre *ngIf=\"generalError.data\">{{generalError.data | json}}</pre>\n                </li>\n            </ul> \n\n            <h3 *ngIf=\"airlineErrorService.warnings && airlineErrorService.warnings.length > 0\" class=\"card-label text-warning\">Warnings</h3>\n            <ul>\n                <li *ngFor=\"let warning of airlineErrorService.warnings\">\n                    {{warning.value}}\n                </li>\n            </ul>    \n  \n        </div>\n    </div> \n</div>   ","import { Injectable } from '@angular/core';\nimport { AirlinePassengerService } from './airline-passenger.service';\nimport { AirlineOrderStatus } from '../models/order/airline-order-status';\nimport { AirlinePassenger } from '../models/passenger/airline-passenger';\nimport { AirlineFareViewModel } from '../viewmodels/airline-fare-price';\nimport { AirlineFlightViewModel as AirlineFlightViewModel } from '../viewmodels/airline-flight';\nimport { AirlineOrderViewModel } from '../viewmodels/airline-order';\nimport { AirlinePassengerSummaryViewModel } from '../viewmodels/airline-passenger';\nimport { AirlineFlightSegmentViewModel } from '../viewmodels/airline-flight-segment';\nimport { AirlineSelectedSeatViewModel } from '../viewmodels/airline-selected-seat';\nimport { ArrayHelperService } from 'src/app/shared/services/array-helper.service';\nimport { AirlineFareService } from './airline-fare.service';\nimport { AirlineOfferViewModel } from '../viewmodels/airline-offer';\nimport { AirlineRetrieveService } from './airline-retrieve.service';\nimport { AirlineContactViewModel } from '../viewmodels/airline-contact';\nimport { AirlineOrderByName } from '../models/order/airline-order-by-name';\nimport { AirlineOrderListItem as AirlineOrderListItemViewModel } from '../viewmodels/airline-order-list-item';\nimport { AirlineFlightService } from './airline-flight.service';\nimport { AirlinePaymentService } from './airline-payment.service';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class AirlineOrderService {\n  private noData: string = \"-\";\n\n  constructor(\n    private airlineRetrieveService: AirlineRetrieveService,\n    private passengerService: AirlinePassengerService,\n    private arrayHelperService: ArrayHelperService,\n    private flightService: AirlineFlightService,\n    private airlinePaymentService: AirlinePaymentService,\n    private fareService: AirlineFareService) {\n  }\n\n  getOrderViewModel(data: AirlineOrderStatus): AirlineOrderViewModel{\n    const [order] = data.response.order;\n\n    if (order.status && order.status.statusCode === 'X') {\n      return;\n    }\n\n    const [fareDetail] = order.orderItems.orderItem[0].fareDetail;\n    const flights = this.fareService.getFlightList(fareDetail.fareComponent);\n    const flightFaresInfo = this.flightService.getPriceRules(fareDetail.fareComponent);\n    const passengers = [];\n    this.arrayHelperService.groupBy(data.response.dataLists.passengerList.passenger, k => k.ptc, v => v).forEach(group => {\n      group.value.forEach((el: AirlinePassenger, idx) => {\n        this.passengerService.updatePassengerAfterReceiving(el);\n        passengers.push(this.getPassengerViewModel(el, idx, data, flights))\n      });\n    });\n\n    if (passengers.length) {\n      passengers[0].showDetails = true;\n    }\n \n    return {\n      orderID: order.orderID,\n      bookingReferences: order.bookingReferences.bookingReference,\n      flights,\n      passengers,\n      flightFaresInfo,\n      contactList: data.response.dataLists.contactList,\n      passengerList: data.response.dataLists.passengerList,\n      payments: this.airlinePaymentService.getPaymentViewModel(order.payments?.payment ?? []),\n      originalOrderItems: order.orderItems.orderItem\n    };\n  }\n\n  getTickets(data: AirlineOrderStatus, passenger: AirlinePassenger) : string {\n    if(!data.response.ticketDocInfos){\n      return;\n    }\n\n    let passengerTickets = [];\n    data.response.ticketDocInfos.ticketDocInfo.filter(i => i.passengerReference.find(p => p.passengerID === passenger.passengerID)).forEach(t => {\n      t.ticketDocument.forEach(d => {\n        passengerTickets.push(d.ticketDocNbr);\n      })\n    });\n\n    let tickets = passengerTickets.join(', ');\n    return tickets;\n  }\n\n  getPassengerViewModel(passenger: AirlinePassenger, idx: number, data: AirlineOrderStatus, flights: Array<AirlineFlightViewModel>) : AirlinePassengerSummaryViewModel {\n    let fare = this.getPassengerFlightFare(data, passenger);\n    let ticketNo = this.getTickets(data, passenger);\n     \n    let result: AirlinePassengerSummaryViewModel = {\n      ticketNo: ticketNo,\n      data: passenger,\n      label: this.passengerService.titleByPtc(passenger.ptc, idx + 1),\n      orderSummary: {\n        fare: fare,\n        selectedSeats: this.getPassengerSelectedSeats(data, passenger, flights)\n      }\n    };\n    return result;\n  }\n\n  getPassengerSelectedSeats(data: AirlineOrderStatus, passenger: AirlinePassenger, flights: Array<AirlineFlightViewModel>): Array<{ segment: AirlineFlightSegmentViewModel, seat: AirlineSelectedSeatViewModel }> {\n    let result: Array<{ segment: AirlineFlightSegmentViewModel, seat: AirlineSelectedSeatViewModel }> = [];\n\n    data.response.order[0].orderItems.orderItem.forEach(o => {\n      let selectedSeatService = o.service.find(s => s.selectedSeat && s.passengerRef.passengerID == passenger.passengerID);\n      if (selectedSeatService){\n        let segment: AirlineFlightSegmentViewModel = this.getFlightSegment(flights, selectedSeatService.selectedSeat.segmentRef);\n        let selectedSeat : AirlineSelectedSeatViewModel = {\n          orderItemID: o.orderItemID,\n          row: selectedSeatService.selectedSeat.seat.row,\n          column: selectedSeatService.selectedSeat.seat.column,\n          price: {\n            currency : o.priceDetail.totalAmount.detailCurrencyPrice.total.code,\n            value: o.priceDetail.totalAmount.detailCurrencyPrice.total.value * 0.01\n          },\n          passenger: passenger\n        };\n        result.push({\n            seat: selectedSeat,\n            segment: segment\n        });\n      }\n    });\n\n    return result;\n  }\n\n  getFlightSegment(flights: AirlineFlightViewModel[], segmentRef: string): AirlineFlightSegmentViewModel {\n    let segment = null;\n    let regex = /<SegmentRef.*>(?<segmentKey>.*)<\\/SegmentRef>/gmi;\n    let regexResult = regex.exec(segmentRef);\n    let segmentKey = regexResult.groups[\"segmentKey\"];\n\n    flights.forEach(f => f.flightSegments.forEach(s => {\n      if(s.segmentKey == segmentKey){\n        segment = s;\n      }\n    }));\n\n    return segment;\n  }\n\n  getPassengerFlightFare(data: AirlineOrderStatus, passenger: AirlinePassenger) : AirlineFareViewModel {\n    let orderItem = data.response.order[0].orderItems.orderItem.find(i => i.fareDetail && i.fareDetail[0].passengerRefs.value.find(p => p.passengerID == passenger.passengerID));\n    let vm : AirlineFareViewModel = null;\n    if(orderItem){\n      vm = this.fareService.fromOrderItem(orderItem);\n    }\n    return vm;\n  }\n\n  bookFlight(offerViewModel: AirlineOfferViewModel, passengers: Array<AirlinePassenger>, contacts: AirlineContactViewModel, payments: any){\n    let contactID = \"CT1\";\n    let query = {\n      \"Query\": {\n        \"order\": {\n          \"offer\": []\n        },\n        \"payments\": {\n        },\n        \"dataLists\": {\n          contactList: null,\n          passengerList: {passenger: []}\n        },\n        \"metadata\": null\n      }\n    };\n\n    let offerItems = offerViewModel.offerItems.map(offerItem => {\n      return {\n        passengerRefs: offerItem.fareDetail[0].passengerRefs.value.map(i => i.passengerID),\n        offerItemID: offerItem.offerItemID\n      };\n    });\n\n    let offer = {\n      responseID: offerViewModel.responseID,\n      offerID: offerViewModel.offerID,\n      owner: offerViewModel.owner,\n      offerItem: offerItems,\n    };\n\n    query.Query.order.offer = [];\n    query.Query.order.offer.push(offer);\n\n    let contactProvidedEmail = {\n      emailAddress: [\n        {\n          label: \"SAI\",\n          emailAddressValue: contacts.email.emailAddress\n        }\n      ] \n    };\n    let contactProvidedPhone = {\n      phone: [\n        {\n          label: contacts.phone.label,\n          countryDialingCode: contacts.phone.countryDialingCode,\n          areaCode: contacts.phone.areaCode,\n          phoneNumber: contacts.phone.phoneNumber\n        }\n      ]\n    };\n    \n    let contactProvided = [];\n    contactProvided.push(contactProvidedEmail);\n    contactProvided.push(contactProvidedPhone);\n    query.Query.dataLists.contactList = {\n      contactInformation: [{\n        contactID: contactID,\n        contactProvided: contactProvided\n      }]\n    };\n    \n    if(payments){\n      query.Query.payments = payments;\n    }\n    else {\n      delete query.Query.payments;\n    }\n\n    passengers.forEach(i => {\n      this.passengerService.updatePassengerBeforeSending(i);\n      i.contactInfoRef = contactID;\n    });\n    query.Query.dataLists.passengerList.passenger = passengers;\n\n    return this.airlineRetrieveService.createOrder(query);\n  }\n\n  acceptReshop(orderID: string, orderViewModel: AirlineOrderViewModel){\n    let offerItems = orderViewModel.changedOrder.offerItems.map(i => ({ \n      offerItemID: i.offerItemID,\n      passengerRefs: i.fareDetail[0].passengerRefs.value.map(p => p.passengerID)\n    }));\n\n    let request = {\n      query: {\n        orderServicing: {\n          acceptOffer:{\n            offer: [{\n              offerID: orderViewModel.changedOrder.offerID,\n              responseID: orderViewModel.changedOrder.responseID,\n              owner: orderViewModel.changedOrder.owner,\n              offerItem: offerItems\n            }]\n          }\n        },\n        orderID: orderID\n      }, \n      dataLists:{\n        passengerList: orderViewModel.changedOrder.dataLists.passengerList,\n        contactList: orderViewModel.changedOrder.dataLists.contactList\n      },\n    };\n\n    request.dataLists.passengerList.passenger.forEach(i => this.passengerService.updatePassengerBeforeSending(i));\n\n    return this.airlineRetrieveService.orderChange(request, \"Changing flights...\", true);\n  }\n\n  getOrderByNameViewModel(data: AirlineOrderByName): Array<AirlineOrderListItemViewModel> {\n    let orders: Array<AirlineOrderListItemViewModel> = [];\n    if(data != null && data.response != null && data.response.orders != null && data.response.orders.order != null) {\n      this.arrayHelperService.groupBy(data.response.orders.order, i => i.orderID, v => v).forEach(g => {     \n        let order: AirlineOrderListItemViewModel = {\n          OrderId : g.key,\n          PassengerName : g.value.map(i => i.passengers?.fullName.map(i => i.value).join(', ') || this.noData).join(\", \"),\n          Departure : g.value[0].departure?.date || this.noData,\n          Airport : g.value[0].departure?.airportCode?.value || this.noData,\n          CreationDate : g.value[0].creationDate || this.noData,\n          AgencyName : g.value[0].agency?.name || this.noData,\n          AgencyId : g.value[0].agency?.agencyID?.value || this.noData\n        }\n        orders.push(order);\n      });\n    }\n    return orders;\n  }\n\n  getOrderByIdViewModel(data: AirlineOrderStatus): AirlineOrderListItemViewModel {\n    let order : AirlineOrderListItemViewModel = {\n      OrderId: data.response.order[0].orderID,\n      Departure: data.response.order[0].orderItems.orderItem[0].fareDetail[0].fareComponent[0].segmentRefs.value[0].departure.date,\n      Airport: data.response.order[0].orderItems.orderItem[0].fareDetail[0].fareComponent[0].segmentRefs.value[0].departure.airportCode.value,\n      PassengerName: data.response.dataLists.passengerList.passenger.map(i => i.individual.givenName[0] + \" \" + i.individual.surname).join(\", \"),\n      AgencyId: this.noData,\n      AgencyName: this.noData,\n      CreationDate: this.noData\n    };\n\n    if(data.party != null && data.party.recipient != null) {\n      let travelAgencyRecipient = data.party.recipient.value.travelAgencyRecipient;\n      order.AgencyName = travelAgencyRecipient.agentUser.agentUserID.value;\n      order.AgencyId =  travelAgencyRecipient.agencyID.value;\n    }\n    \n    return order;\n  }  \n  \n  calculatePassengerSeatsAmount(passenger: AirlinePassengerSummaryViewModel) : number{\n    let totalAmount = 0;\n    passenger.orderSummary.selectedSeats.forEach(s => totalAmount += s.seat.price.value);\n    return totalAmount;\n  }\n\n  calculatePassengerAmount(passenger: AirlinePassengerSummaryViewModel) : number{\n    let totalAmount = 0;\n    totalAmount += passenger.orderSummary.fare.baseAmount.value;\n    totalAmount += passenger.orderSummary.fare.taxes.total.value;\n    totalAmount += this.calculatePassengerSeatsAmount(passenger);\n    return totalAmount;\n  }\n\n  calculateTotalAmount(passengers: Array<AirlinePassengerSummaryViewModel>) : number{\n    let totalAmount = 0;\n    passengers.forEach(i => totalAmount += this.calculatePassengerAmount(i));\n    return totalAmount;\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { collapseAnimation } from '../../../../../animations';\nimport { AirlinePayment } from '../../models/payment/airline-payment';\nimport { AirlineOrderService } from '../../services/airline-order.service';\nimport { AirlinePaymentService } from '../../services/airline-payment.service';\nimport { AirlineOrderViewModel } from '../../viewmodels/airline-order';\nimport { AirlinePassengerSummaryViewModel } from '../../viewmodels/airline-passenger';\nimport { AirlinePaymentViewModel } from '../../viewmodels/airline-payment';\n\n@Component({\n  selector: 'app-airline-payment-summary',\n  templateUrl: './airline-payment-summary.component.html', \n  animations: [\n    collapseAnimation\n  ],\n  styleUrls: ['./airline-payment-summary.component.css']\n})\nexport class AirlinePaymentSummaryComponent implements OnInit {\n  @Input() orderViewModel: AirlineOrderViewModel;\n  @Input() payments: Array<AirlinePaymentViewModel>;\n  @Input() passengers: Array<AirlinePassengerSummaryViewModel>;\n  @Output() makePayment = new EventEmitter();\n\n  constructor(private airlineOrderService: AirlineOrderService, private airlinePaymentService: AirlinePaymentService) { }\n\n  ngOnInit(): void {\n  }\n\n  calculateOrderPayedAmount(): number{\n    let total = 0;\n    if(this.payments){\n      this.payments.forEach(i => total += i.amount);\n    }\n    return total;\n  }\n\n  calculateDue(): number{\n    let due: number = this.airlinePaymentService.calculateDue(this.payments, this.passengers);\n\n    // sometimes have floating problems on big numbers\n    if(Math.abs(due) < 0.01){\n      due = 0;\n    }\n    return due;\n  }\n\n  calculateOrderTotal(): number{\n    return this.airlineOrderService.calculateTotalAmount(this.passengers);\n  }\n\n  pay() {\n    this.makePayment.emit();\n  }\n}\n","<div class=\"card card-custom\">\n    <div class=\"card-header\">\n        <div class=\"card-title\">\n            <h3 class=\"card-label\">Payments</h3>\n        </div>\n    </div>\n    <div class=\"card-body p-0\">\n        <ng-container *ngFor=\"let payment of payments\">\n            <div class=\"d-flex pt-3 border-bottom justify-content-around\" (click)=\"payment.showDetails=!payment.showDetails\">\n                <div class=\"col-1\"><i class=\"fas text-primary text-right fa-sm fa-circle\"></i></div>\n                <div class=\"col-7 pl-1 text-left\">\n                    <div class=\"font-weight-bold\">\n                        {{payment.creditCardHolder}}\n                    </div>\n                    <div>\n                        {{payment.creditCardNumber}}\n                    </div>\n                    <div class=\"text-dark-50\">{{payment.creditCardType}}</div>\n                </div>\n                <div class=\"col-4 font-size-h4 font-weight-bold text-right\">${{ payment.amount| number : '1.2-2' }}\n                </div>\n            </div>\n        </ng-container>\n        \n        <div class=\"d-flex  pt-2  pb-2 justify-content-around\">\n            <div class=\"col-7 text-left font-size-h4 pl-6\">Total Payed</div>  \n            <div class=\"col-5 text-right font-weight-bold font-size-h3\">${{ calculateOrderPayedAmount() | number : '1.2-2' }}</div>\n        </div>\n        \n        <ng-container *ngVar=\"calculateDue() as due\">\n            <div class=\"d-flex  pt-2 border-top  pb-2 justify-content-around text-danger\" *ngIf=\"due > 0\">\n                <div class=\"col-7 text-left font-size-h4 pl-6\">Due</div>  \n                <div class=\"col-5 text-right font-weight-bold font-size-h3\">${{ due | number : '1.2-2' }}</div>\n            </div>\n            <div *ngIf=\"due > 0 && orderViewModel && !orderViewModel.editMode\" class=\"text-right pb-4 pr-2\">\n                <button (click)=\"pay()\" class=\"btn btn-primary\" title=\"Payment\">Pay</button>\n            </div>\n        </ng-container>\n    </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SharedModule } from '../../../shared/shared.module';\nimport { AirlineDashboardComponent } from './pages/airline-dashboard/airline-dashboard.component';\nimport { AirlineSearchComponent } from './pages/airline-search/airline-search.component';;\nimport { PageNotFoundComponent } from '../page-not-found/page-not-found.component';\nimport { AngularMaterialModule } from '../../../material.module';\nimport { AirlineCreateOrderComponent } from './pages/airline-create-order/airline-create-order.component';\nimport { AirlineOrdersComponent } from './pages/airline-orders/airline-orders.component';\nimport { AirlineOrderComponent } from './pages/airline-order/airline-order.component';\nimport { AirlinePaymentComponent } from './pages/airline-payment/airline-payment.component';\nimport { AirlineSeatAvailabilityComponent } from './partials/airline-seat-availability/airline-seat-availability.component';\nimport { AirlineFlightItemComponent } from './partials/airline-flight-item/airline-flight-item.component';\nimport { AirlineComponent } from './pages/airline-container/airline.component';\nimport { AirlineOrderSummaryComponent } from './partials/airline-order-summary/airline-order-summary.component';\nimport { AirlinePassengerFormComponent } from './partials/airline-passenger-form/airline-passenger-form.component';\nimport { AirlinePassengerListComponent } from './partials/airline-passenger-list/airline-passenger-list.component';\nimport { AirlinePaymentFormComponent } from './partials/airline-payment-form/airline-payment-form.component';\nimport { AirlineSearchHeaderComponent } from './partials/airline-search-header/airline-search-header.component';\nimport { AirlineSearchResultComponent } from './partials/airline-search-result/airline-search-result.component';\nimport { AirportCodeSearchComponent } from './partials/airport-code-search/airport-code-search.component';\nimport { AirportSearchDateComponent } from './partials/airport-search-date/airport-search-date.component';\nimport { AirlineOrderRlocComponent } from './partials/airline-order-rloc/airline-order-rloc.component';\nimport { AirlineSearchTravellersComponent } from './partials/airline-search-travellers/airline-search-travellers.component';\nimport { AirlineContactFormComponent } from './partials/airline-contact-form/airline-contact-form.component';\nimport { AirlinePaymentSummaryComponent } from './partials/airline-payment-summary/airline-payment-summary.component';\nimport {NgbPopoverModule} from '@ng-bootstrap/ng-bootstrap';\nimport { AirlineFlightFareInfoComponent } from './partials/airline-flight-fare-info/airline-flight-fare-info.component';\nimport { AirlineErrorsComponent } from './partials/airline-errors/airline-errors.component';\nimport { AirlineReshopComponent } from './pages/airline-reshop/airline-reshop.component';\nimport { AirlineLoaderComponent } from './partials/airline-loader/airline-loader.component';\nimport { AirlineOrderChangesComponent } from './partials/airline-order-changes/airline-order-changes.component';\n\nconst secondaryRoutes: Routes = [\n  {\n    path: '',\n    component: AirlineComponent,\n    children: [\n      {\n        path: '', component: AirlineDashboardComponent\n      },\n      {\n        path: 'Search', component: AirlineSearchComponent\n      },\n      {\n        path: 'Booking', component: AirlineCreateOrderComponent\n      },\n      {\n        path: 'Orders', component: AirlineOrdersComponent\n      },\n      {\n        path: 'Orders/:id', component: AirlineOrderComponent\n      },\n      {\n        path: 'Payment/:id', component: AirlinePaymentComponent\n      },\n      {\n        path: 'Reshop/:id', component: AirlineReshopComponent\n      },\n    ]\n  }\n];\n\n@NgModule({\n  declarations: [\n    AirlineComponent,\n    AirlineDashboardComponent,\n    AirlineSearchResultComponent,\n    AirlineSearchComponent,\n    AirlineCreateOrderComponent,\n    AirlineOrdersComponent,\n    AirlineOrderComponent,\n    AirlinePaymentComponent,\n    AirlineSeatAvailabilityComponent,\n    AirportCodeSearchComponent,\n    AirlinePassengerListComponent,\n    AirlineOrderSummaryComponent,\n    AirlinePaymentFormComponent,\n    AirlinePassengerFormComponent,\n    AirlineSearchHeaderComponent,\n    AirportSearchDateComponent,\n    AirlineFlightItemComponent,\n    AirlineOrderRlocComponent,\n    AirlineSearchTravellersComponent,\n    AirlineContactFormComponent,\n    AirlineFlightFareInfoComponent,\n    AirlinePaymentSummaryComponent,\n    AirlineErrorsComponent,\n    AirlineReshopComponent,\n    AirlineLoaderComponent,\n    AirlineOrderChangesComponent\n  ],\n    imports: [\n        CommonModule,\n        SharedModule,\n        AngularMaterialModule,\n        RouterModule.forChild(secondaryRoutes),\n        NgbPopoverModule,\n    ],\n  entryComponents: [AirlineSearchResultComponent],\n})\nexport class AirlineModule { }\n","import { Component, Input, OnInit } from '@angular/core';\nimport { collapseAnimation } from '../../../../../animations';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { AirlineOrderService } from '../../services/airline-order.service';\nimport { AirlinePassengerSummaryViewModel } from '../../viewmodels/airline-passenger';\n\n@Component({\n  selector: 'app-airline-order-summary',\n  templateUrl: './airline-order-summary.component.html',\n  animations: [\n    collapseAnimation\n  ],\n  styleUrls: ['./airline-order-summary.component.css']\n})\n\nexport class AirlineOrderSummaryComponent extends Airline implements OnInit {\n  @Input() passengers: Array<AirlinePassengerSummaryViewModel>;\n\n  constructor(loginService: LoginService, private orderService: AirlineOrderService) {\n    super(loginService);\n\n  }\n \n  ngOnInit(): void {\n  } \n\n  calculatePassengerSeatsAmount(passenger: AirlinePassengerSummaryViewModel) : number{\n    let totalAmount = this.orderService.calculatePassengerSeatsAmount(passenger);\n    return totalAmount;\n  }\n\n  calculatePassengerAmount(passenger: AirlinePassengerSummaryViewModel) : number{\n    let totalAmount = this.orderService.calculatePassengerAmount(passenger);\n    return totalAmount;\n  }\n\n  calculateTotalAmount() : number{\n    let totalAmount = this.orderService.calculateTotalAmount(this.passengers);\n    return totalAmount;\n  }\n}\n\n","<div class=\"card card-custom mb-5\">\n    <div class=\"card-header\">\n        <div class=\"card-title\">\n            <div class=\"card-label\">Order Summary</div>\n        </div>\n    </div>\n    <div class=\"card-body p-0\">\n        <ng-container *ngFor=\"let passenger of passengers;  let i = index;\">\n            <div class=\"d-flex pt-3 cursor-pointer border-bottom justify-content-around\" (click)=\"passenger.showDetails=!passenger.showDetails\">\n                <div class=\"col-1\"><i class=\"fas fa-sm text-primary\" [ngClass]=\"!passenger.showDetails ? 'fa-chevron-down' : 'fa-chevron-up'\"></i></div>\n                <div class=\"col-7 pl-1 font-weight-bold font-size-lg text-left\">\n                    {{passenger.label}}\n                </div>\n                <div class=\"col-4 font-size-h4 font-weight-bold text-right\">${{ calculatePassengerAmount(passenger) | number : '1.2-2' }}\n                </div>\n            </div>\n            <div [@collapse]=\"!passenger.showDetails\" >\n                <div class=\"d-flex pt-3 justify-content-around\">\n                    <div class=\"col-1\"><i class=\"fas text-primary text-right fa-sm fa-circle\"></i></div>\n                    <div class=\"col-7 pl-1 font-size-sm text-left\">Ticket</div>\n                    <div class=\"col-4 font-size-sm font-weight-bold text-right\">${{ passenger.orderSummary.fare.baseAmount.value | number : '1.2-2' }}</div>\n                </div>\n                <ng-container *ngIf=\"passenger.orderSummary.selectedSeats.length\">\n                    <div class=\"d-flex cursor-pointer pt-3 justify-content-around\" (click)=\"passenger.showSelectedSeats=!passenger.showSelectedSeats\">\n                        <div class=\"col-1\"><i class=\"fas fa-sm text-primary\" [ngClass]=\"!passenger.showSelectedSeats ? 'fa-chevron-down' : 'fa-chevron-up'\"></i></div>\n                        <div class=\"col-7 pl-1 font-size-sm text-left\"><strong>Seats</strong></div>\n                        <div class=\"col-4 font-size-sm font-weight-bold text-right\">${{ calculatePassengerSeatsAmount(passenger)  | number : '1.2-2' }}</div>\n                    </div>\n                    <div [@collapse]=\"!passenger.showSelectedSeats\" class=\"ml-4\" *ngFor=\"let selectedSeat of passenger.orderSummary.selectedSeats\">\n                        <div class=\"separator separator-dashed pt-2 mb-2\"></div>\n                        <div class=\"d-flex justify-content-around\">\n                            <div class=\"col-1\"><i class=\"fas text-primary text-right fa-sm fa-circle\"></i></div>\n                            <div class=\"col-7 pl-1 font-size-sm text-left\">{{selectedSeat.segment.departureAirportCode}} - {{selectedSeat.segment.arrivalAirportCode}}: <strong>{{selectedSeat.seat.row}}{{selectedSeat.seat.column}}</strong></div> \n                            <div class=\"col-4 font-size-sm font-weight-bold text-right\">${{ selectedSeat.seat.price.value | number : '1.2-2' }}</div>\n                        </div>\n                    </div> \n                </ng-container>\n                <div class=\"d-flex cursor-pointer pt-3 justify-content-around\" (click)=\"passenger.showTaxDetails=!passenger.showTaxDetails\">\n                    <div class=\"col-1\"><i class=\"fas fa-sm text-primary\" [ngClass]=\"!passenger.showTaxDetails ? 'fa-chevron-down' : 'fa-chevron-up'\"></i></div>\n                    <div class=\"col-7 pl-1 font-size-sm text-left\"><strong>Taxes</strong></div>\n                    <div class=\"col-4 font-size-sm font-weight-bold text-right\">${{ passenger.orderSummary.fare.taxes.total.value | number : '1.2-2' }}</div>\n                </div>\n                <div [@collapse]=\"!passenger.showTaxDetails\"  class=\"ml-4\" *ngFor=\"let tax of passenger.orderSummary.fare.taxes.taxBreakdown\">\n                    <div class=\"separator separator-dashed pt-2 mb-2\"></div>\n                    <div class=\"d-flex justify-content-around\">\n                        <div class=\"col-1\"><i class=\"fas text-primary text-right fa-sm fa-circle\"></i></div>\n                        <div class=\"col-7 pl-1 font-size-sm text-left\">{{tax.description}}</div> \n                        <div class=\"col-4 font-size-sm font-weight-bold text-right\">${{ tax.amount.value | number : '1.2-2' }}</div>\n                    </div>\n                </div> \n                <div class=\" border-bottom pt-2 mb-2\"></div>\n            </div>\n        </ng-container>\n        <div class=\"d-flex  pt-2  pb-2 justify-content-around\">\n            <div class=\"col-7 text-left font-size-h4 pl-6\">Total Amount</div>  \n            <div class=\"col-5 text-right font-weight-bold font-size-h3\">${{ calculateTotalAmount() | number : '1.2-2' }}</div>\n        </div>\n    </div>\n</div>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { LoginService } from '../../../auth/login/login.service';\nimport { Airline } from '../../airline';\nimport { environment } from '../../../../../../environments/environment';\nimport { AirlinePassengerService } from '../../services/airline-passenger.service';\nimport { AirlinePassenger } from '../../models/passenger/airline-passenger';\nimport { ArrayHelperService } from 'src/app/shared/services/array-helper.service';\nimport { AirlinePassengerSummaryViewModel } from '../../viewmodels/airline-passenger';\nimport { combineLatest, Observable, of } from 'rxjs';\nimport { debounceTime, map, startWith } from 'rxjs/operators';\nimport * as equal from 'fast-deep-equal';\nimport { dirtyCheck } from 'src/app/operators/dirtyCheck';\n\n@Component({\n  selector: 'app-airline-passenger-form',\n  templateUrl: './airline-passenger-form.component.html',\n  styleUrls: ['./airline-passenger-form.component.css']\n})\nexport class AirlinePassengerFormComponent extends Airline implements OnInit {\n  \n  public passengersFormGroup;\n\n  @Input() passengers: Array<AirlinePassengerSummaryViewModel>;\n  @Input() loyaltyAccountNumber: string;\n  @Input() isLoyaltyAccountEnabled: boolean;  \n  @Output() passengerChanges = new EventEmitter<boolean>();\n  \n  public gender = [\"MALE\", \"FEMALE\"];\n  public countries = [\"United States\", \"Afghanistan\", \"Albania\", \"Algeria\", \"American Samoa\", \"Andorra\", \"Angola\", \"Anguilla\", \"Antarctica\", \"Antigua and Barbuda\", \"Argentina\", \"Armenia\", \"Aruba\", \"Australia\", \"Austria\", \"Azerbaijan\", \"Bahamas\", \"Bahrain\", \"Bangladesh\", \"Barbados\", \"Belarus\", \"Belgium\", \"Belize\", \"Benin\", \"Bermuda\", \"Bhutan\", \"Bolivia\", \"Bonaire\", \"Bosnia and Herzegovina\", \"Botswana\", \"Bouvet Island\", \"Brazil\", \"British Indian Ocean Territory\", \"Brunei\", \"Bulgaria\", \"Burkina Faso\", \"Burundi\", \"Cambodia\", \"Cameroon\", \"Canada\", \"Cape Verde\", \"Cayman Islands\", \"Central African Republic\", \"Chad\", \"Chile\", \"China\", \"Christmas Island\", \"Cocos (Keeling) Islands\", \"Colombia\", \"Comoros\", \"Congo (Brazzaville)\", \"Congo (Kinshasa)\", \"Cook Islands\", \"Costa Rica\", \"Croatia\", \"Cuba\", \"Curacao\", \"Cyprus\", \"Czech Republic\", \"Denmark\", \"Djibouti\", \"Dominica\", \"Dominican Republic\", \"East Timor\", \"Ecuador\", \"Egypt\", \"El Salvador\", \"Equatorial Guinea\", \"Eritrea\", \"Estonia\", \"Ethiopia\", \"Falkland Islands\", \"Faroe Islands\", \"Fiji\", \"Finland\", \"France\", \"French Guiana\", \"French Polynesia\", \"Gabon\", \"Gambia\", \"Georgia\", \"Germany\", \"Ghana\", \"Gibraltar\", \"Greece\", \"Greenland\", \"Grenada\", \"Guadeloupe\", \"Guam\", \"Guatemala\", \"Guernsey\", \"Guinea\", \"Guinea-Bissau\", \"Guyana\", \"Haiti\", \"Heard and Mcdonald Islands\", \"Honduras\", \"Hong Kong\", \"Hungary\", \"Iceland\", \"India\", \"Indonesia\", \"Iran\", \"Iraq\", \"Ireland\", \"Israel\", \"Italy\", \"Ivory Coast\", \"Jamaica\", \"Japan\", \"Jordan\", \"Kazakstan\", \"Kenya\", \"Kiribati\", \"Kosovo\", \"Kuwait\", \"Kyrgyzstan\", \"Laos\", \"Latvia\", \"Lebanon\", \"Lesotho\", \"Liberia\", \"Libya\", \"Liechtenstein\", \"Lithuania\", \"Luxembourg\", \"Macau\", \"Macedonia\", \"Madagascar\", \"Malawi\", \"Malaysia\", \"Maldives\", \"Mali\", \"Malta\", \"Marshall Islands\", \"Martinique\", \"Mauritania\", \"Mauritius\", \"Mayotte\", \"Mexico\", \"Micronesia\", \"Moldova\", \"Monaco\", \"Mongolia\", \"Montenegro\", \"Montserrat\", \"Morocco\", \"Mozambique\", \"Myanmar\", \"Namibia\", \"Nauru\", \"Nepal\", \"Netherlands\", \"New Caledonia\", \"New Zealand\", \"Nicaragua\", \"Niger\", \"Nigeria\", \"Niue\", \"Norfolk Island\", \"Northern Mariana Islands\", \"North Korea\", \"Norway\", \"Oman\", \"Pakistan\", \"Palau\", \"Panama\", \"Papua New Guinea\", \"Paraguay\", \"Peru\", \"Philippines\", \"Pitcairn\", \"Poland\", \"Portugal\", \"Puerto Rico\", \"Qatar\", \"Reunion\", \"Romania\", \"Russia\", \"Rwanda\", \"Saint Helena\", \"Saint Kitts and Nevis\"];\n\n  constructor(loginService: LoginService, private formBuilder: FormBuilder, private passengerService: AirlinePassengerService, private arrayHelperService: ArrayHelperService) {\n    super(loginService);\n\n    this.passengersFormGroup = this.formBuilder.group({\n      passengers : this.formBuilder.array([])\n    });\n  }\n\n  get passengersFormArr(): FormArray {\n    return this.passengersFormGroup.get('passengers') as FormArray;\n  }\n\n  ngOnInit(): void {\n    let originalPassengers = { passengers: [] };\n    this.arrayHelperService.groupBy(this.passengers.map(i => i.data), k => k.ptc).forEach(g => g.value.forEach((p: AirlinePassenger, idx) => {\n      let passenger = this.createItem(p, idx + 1);\n      originalPassengers.passengers.push(passenger.value);\n      this.passengersFormArr.push(passenger);\n    }));\n\n    if(!environment.production && (!this.passengers[0].data.individual || !this.passengers[0].data.individual.surname)) {\n      let passengers = (JSON.parse(JSON.stringify(this.dummyPassengerData)));\n      passengers.passengers.splice(this.passengers.length);\n      originalPassengers.passengers = passengers.passengers;\n      this.passengersFormGroup.patchValue(passengers);\n    }\n    \n    let originalPassengers$ = of(originalPassengers);\n    this.passengersFormGroup.valueChanges.pipe(\n      dirtyCheck(originalPassengers$),\n    ).subscribe((data) => {\n      this.passengerChanges.emit(data);\n    });\n  }   \n\n\n  createItem(passenger: AirlinePassenger, idx: number): FormGroup {\n    if(!passenger.individual){\n      passenger.individual = {\n        gender: 'MALE',\n        nameTitle: 'MR',\n        givenName: [''],\n        middleName: [''],\n        surname: '',\n        birthdate: ''\n      };\n    }\n    if(!passenger.individual.middleName){\n      passenger.individual.middleName = [''];\n    }\n    \n    return new FormGroup({\n      Id: new FormControl(passenger.passengerID, Validators.required),\n      Ptc: new FormControl(passenger.ptc),\n      Label: new FormControl(this.passengerService.titleByPtc(passenger.ptc, idx)),\n      WheelChair: new FormControl(false, Validators.required), \n      Birthdate: new FormControl(passenger.individual.birthdate, Validators.required), \n      Gender: new FormControl(passenger.individual.gender, Validators.required), \n      NameTitle: new FormControl(passenger.individual.nameTitle, Validators.required), \n      GivenName: new FormControl(passenger.individual.givenName[0], Validators.required),  \n      MiddleName: new FormControl(passenger.individual.middleName[0]), \n      Surname: new FormControl(passenger.individual.surname, Validators.required),\n      Country: new FormControl('', Validators.required),\n      FrequentFlyerNumber: new FormControl(''),\n      KnownTravelerNumber: new FormControl(''),\n      RegressNumber: new FormControl('')\n    });\n  }\n  \n  markAllAsTouched() {\n    this.passengersFormGroup.markAllAsTouched();\n  }\n\n  getPassengers(): Array<AirlinePassenger> {\n    let result : Array<AirlinePassenger> = this.passengersFormGroup.value.passengers.map(i => {\n      const date = new Date(i.Birthdate);\n      let year = date.getFullYear();\n      let month = date.getMonth() + 1; // js dates returns value from 0 to 11 for month\n      let day = date.getDate();\n      \n      const birthdate =  year + \"-\" + (month < 10 ? \"0\": \"\") + month + \"-\" + (day < 10 ? \"0\": \"\") + day;\n      \n      let passenger: AirlinePassenger = {\n        passengerID: i.Id,\n        ptc: i.Ptc,\n        individual: {\n          gender: i.Gender,\n          nameTitle: i.NameTitle,\n          surname: i.Surname,\n          givenName: [i.GivenName],\n          birthdate: birthdate,\n          middleName: i.MiddleName? [i.MiddleName] : []\n        },\n        contactInfoRef: ''\n      };\n      return passenger;\n    });\n    \n    return result; \n  }\n\n  capitalizeFirstLetter(text: string): string {\n    text = text.toLowerCase();\n    return text.charAt(0).toUpperCase() + text.slice(1);\n  }\n\n  public dummyPassengerData = {\n    \"passengers\": [\n      {\n        \"Index\": 1,\n        \"WheelChair\": false,\n        \"Birthdate\": new Date(\"2007-07-03T18:30:00.000Z\"),\n        \"Gender\": \"MALE\",\n        \"NameTitle\": \"MR\",\n        \"GivenName\": \"Sai\",\n        \"MiddleName\": \"Reddy\",\n        \"Surname\": \"Gudimetla\",\n        \"Country\": \"United States\",\n        \"FrequentFlyerNumber\": \"\",\n        \"KnownTravelerNumber\": \"\",\n        \"RegressNumber\": \"\"\n      },\n      {\n        \"Index\": 2,\n        \"WheelChair\": false,\n        \"Birthdate\": new Date(\"1985-07-03T18:30:00.000Z\"),\n        \"Gender\": \"MALE\",\n        \"NameTitle\": \"MR\",\n        \"GivenName\": \"Surya\",\n        \"MiddleName\": \"Mohan\",\n        \"Surname\": \"Gudimetla\",\n        \"Country\": \"United States\",\n        \"FrequentFlyerNumber\": \"\",\n        \"KnownTravelerNumber\": \"\",\n        \"RegressNumber\": \"\"\n      },\n      {\n        \"Index\": 3,\n        \"WheelChair\": false,\n        \"Birthdate\": new Date(\"2014-07-03T18:30:00.000Z\"),\n        \"Gender\": \"MALE\",\n        \"NameTitle\": \"MR\",\n        \"GivenName\": \"Bob\",\n        \"MiddleName\": \"\",\n        \"Surname\": \"Smith\",\n        \"Country\": \"United States\",\n        \"FrequentFlyerNumber\": \"\",\n        \"KnownTravelerNumber\": \"\",\n        \"RegressNumber\": \"\"\n      },\n      {\n        \"Index\": 4,\n        \"WheelChair\": false,\n        \"Birthdate\": new Date(\"2021-07-03T18:30:00.000Z\"),\n        \"Gender\": \"MALE\",\n        \"NameTitle\": \"MR\",\n        \"GivenName\": \"Jane\",\n        \"MiddleName\": \"\",\n        \"Surname\": \"Smith\",\n        \"Country\": \"United States\",\n        \"FrequentFlyerNumber\": \"\",\n        \"KnownTravelerNumber\": \"\",\n        \"RegressNumber\": \"\"\n      },\n      {\n        \"Index\": 5,\n        \"WheelChair\": false,\n        \"Birthdate\": new Date(\"2001-07-03T18:30:00.000Z\"),\n        \"Gender\": \"MALE\",\n        \"NameTitle\": \"MR\",\n        \"GivenName\": \"Mahidhar\",\n        \"MiddleName\": \"\",\n        \"Surname\": \"Reddy\",\n        \"Country\": \"United States\",\n        \"FrequentFlyerNumber\": \"\",\n        \"KnownTravelerNumber\": \"\",\n        \"RegressNumber\": \"\"\n      },\n      {\n        \"Index\": 6,\n        \"WheelChair\": false,\n        \"Birthdate\": new Date(\"2007-07-03T18:30:00.000Z\"),\n        \"Gender\": \"MALE\",\n        \"NameTitle\": \"MR\",\n        \"GivenName\": \"Nithya\",\n        \"MiddleName\": \"\",\n        \"Surname\": \"Venkatesan\",\n        \"Country\": \"United States\",\n        \"FrequentFlyerNumber\": \"\",\n        \"KnownTravelerNumber\": \"\",\n        \"RegressNumber\": \"\"\n      }\n    ]\n  }\n}\n","<form [formGroup]=\"passengersFormGroup\">\n    <div formArrayName=\"passengers\" *ngFor=\"let passenger of passengersFormArr.controls; let i = index;\">\n        <div class=\"card card-custom mb-3\" [formGroupName]=\"i\">\n            <div class=\"card-header\">\n                <div class=\"card-title\">\n                    <h3 class=\"card-label\">\n                        <ng-container *ngIf=\"!(passenger.value.Surname || passenger.value.GivenName); else passDetails\"> {{passenger.Label}} </ng-container>\n                        <ng-template  #passDetails>{{passenger.value.NameTitle}} {{passenger.value.GivenName}} {{passenger.value.MiddleName}} {{passenger.value.Surname}}</ng-template >\n                        ({{passenger.value.Label}})</h3>\n                </div>\n                <div class=\"card-toolbar\">\n                    <div class=\"form-group mb-0\">\n                        <div class=\"col-form-label\">\n                            <div class=\"checkbox-inline\">\n                               <mat-checkbox formControlName=\"WheelChair\">WheelChair\n                                <span class=\"pl-1 text-black-50\">(Add special assistance for passenger)</span>\n                               </mat-checkbox>                                                \n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"card-body\">\n                <div class=\"row\">\n                    <div class=\"col-4 form-group\">\n                        <mat-radio-group formControlName=\"NameTitle\" aria-label=\"Select an option\">\n                            <mat-radio-button class=\"mat-primary\" value=\"MR\">Mr</mat-radio-button>\n                            <mat-radio-button value=\"MRS\">Mrs</mat-radio-button>\n                            <mat-radio-button value=\"MISS\">Miss</mat-radio-button>\n                        </mat-radio-group>\n                    </div>\n                    <div class=\"col-8 form-group\"></div>\n                    <div class=\"col-4 form-group\">\n                        <mat-form-field class=\"w-100\" appearance=\"outline\">\n                            <mat-label>First Name</mat-label>\n                            <input matInput formControlName=\"GivenName\" required>\n                            <mat-error *ngIf=\"passenger.get('GivenName').hasError('required')\">First Name is Required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-4 form-group\">\n                        <mat-form-field class=\"w-100\" appearance=\"outline\">\n                            <mat-label>Middle Name</mat-label>\n                            <input matInput formControlName=\"MiddleName\">\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-4 form-group\">\n                        <mat-form-field class=\"w-100\" appearance=\"outline\">\n                            <mat-label>Last Name</mat-label>\n                            <input matInput formControlName=\"Surname\" required>\n                            <mat-error *ngIf=\"passenger.get('Surname').hasError('required')\">Last Name is Required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    \n                    <div class=\"col-4 form-group\">\n                        <mat-form-field class=\"w-100\" appearance=\"outline\">\n                            <mat-label>Date of Birth</mat-label>\n                            <input matInput [max]=\"maxDate\" formControlName=\"Birthdate\" [matDatepicker]=\"picker\" required>\n                            <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n                            <mat-datepicker startView=\"multi-year\" #picker></mat-datepicker>\n                            <mat-error *ngIf=\"passenger.get('Birthdate').hasError('required')\">Date of Birth is Required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-4 form-group\">\n                        <mat-form-field appearance=\"outline\" class=\"w-100\">\n                            <mat-label>Gender</mat-label>\n                            <mat-select formControlName=\"Gender\" required>\n                              <mat-option *ngFor=\"let gen of gender\" [value]=\"gen\">\n                                {{capitalizeFirstLetter(gen)}}\n                              </mat-option>\n                            </mat-select> \n                            <mat-error *ngIf=\"passenger.get('Gender').hasError('required')\">Please choose a Gender</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-4 form-group\">\n                        <mat-form-field appearance=\"outline\" class=\"w-100\">\n                            <mat-label>Country</mat-label>\n                            <mat-select formControlName=\"Country\" required>\n                              <mat-option *ngFor=\"let c of countries\" [value]=\"c\">\n                                {{c}}\n                              </mat-option>\n                            </mat-select>\n                            <mat-error *ngIf=\"passenger.get('Country').hasError('required')\">Please choose a Country</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-4 form-group\">\n                        <mat-form-field class=\"w-100\" appearance=\"outline\">\n                            <mat-label>Frequent Flyer Number</mat-label>\n                            <input matInput formControlName=\"FrequentFlyerNumber\">\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-4 form-group\">\n                        <mat-form-field class=\"w-100\" appearance=\"outline\">\n                            <mat-label>Known Traveler Number</mat-label>\n                            <input matInput formControlName=\"KnownTravelerNumber\">\n                        </mat-form-field>\n                    </div>\n                    <div class=\"col-4 form-group\">\n                        <mat-form-field class=\"w-100\" appearance=\"outline\">\n                            <mat-label>Redress Number</mat-label>\n                            <input matInput formControlName=\"RegressNumber\">\n                        </mat-form-field>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>                    \n</form>","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AirlineErrorService {\n\n  errors: Array<{value: string}>;\n  warnings: Array<{value: string}>;\n  generalErrors: Array<{value: string}>\n  showErrorInfo: boolean;\n\n  constructor() { }\n\n  showErrors(errors, warnings, generalErrors){\n    this.errors = errors;\n    this.warnings = warnings;\n    this.generalErrors = generalErrors;\n    this.showErrorInfo = true;\n  }\n\n  hideErrors(){\n    this.showErrorInfo = false;\n    this.warnings = [];\n    this.errors = [];\n    this.generalErrors = [];\n  }\n}\n"],"sourceRoot":"webpack:///"}