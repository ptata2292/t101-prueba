{"version":3,"sources":["./src/app/views/pages/auth/login/login.component.ts","./src/app/views/pages/auth/login/login.component.html"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACxB;AAMA;;;;;;;;;;;;ICP3G,yEACE;IAAA,4EAA2D;IAC7D,4DAAM;;IADyB,0DAAe;IAAf,wEAAe;;;;IAI9C,yEACE;IACA,yEACE;IAAA,yEACE;IAAA,oEAA4B;IAC5B,oEAA2B;IAC3B,0EACE;IACA,0EACE;IAAA,wEACE;IACA,qEACF;IAAA,4DAAI;IACN,4DAAM;IAGN,0EACE;IAAA,2EACE;IAAA,sEAAI;IAAA,mEAAO;IAAA,4DAAK;IAChB,yEAAuC;IAAA,uGAA2C;IAAA,4DAAI;IACxF,4DAAM;IACN,4EACE;IAAA,2EACE;IAAA,4EACF;IAAA,4DAAM;IACN,2EACE;IAAA,4EACF;IAAA,4DAAM;IACN,2EACE;IAAA,2EACE;IAAA,6EACA;IAAA,wEACA;IAAA,mEAAa;IAAA,uEAAW;IAAA,4DAAQ;IAClC,4DAAM;IACR,4DAAM;IACN,2EACE;IAAA,8EAAoI;IAA5H,+SAAiB;IAA2G,mEAAO;IAAA,4DAAS;IACtJ,4DAAM;IACR,4DAAO;IACT,4DAAM;IAER,4DAAM;IACR,4DAAM;IACR,4DAAM;IAER,4DAAM;;;IAtBkC,2DAAyC;IAAzC,yGAAyC;IAGzC,0DAAyC;IAAzC,yGAAyC;;;IAuB7E,qEACA;;;IACA,qEACA;;;IAAA,qEACA;;;IAAA,qEACA;;;IAAA,qEACA;;;IAAA,qEACF;;;IATF,0EACE;IAAA,0EACE;IAAA,iHACA;IACA,iHACA;IAAA,iHACA;IAAA,iHACA;IAAA,iHACA;IAAA,iHACF;IAAA,4DAAM;IACN,0EACE;IAAA,0EACE;IAAA,yEAAkE;IAAA,8FAAwB;IAAA,4DAAI;IAChG,4DAAM;IACN,2EACE;IAAA,yEAA+B;IAAA,oEAAQ;IAAA,4DAAI;IAC3C,yEAAoC;IAAA,kEAAM;IAAA,4DAAI;IAC9C,yEAAoC;IAAA,wEAAY;IAAA,4DAAI;IACtD,4DAAM;IACR,4DAAM;IACR,4DAAM;;;IAlBgB,0DAAkD;IAAlD,mHAAkD;IAElD,0DAA0D;IAA1D,2HAA0D;IAC1D,0DAAkD;IAAlD,mHAAkD;IAClD,0DAA8C;IAA9C,+GAA8C;IAC9C,0DAA6C;IAA7C,8GAA6C;IAC7C,0DAAgD;IAAhD,iHAAgD;;ADnD/D,MAAM,mBAAmB;IAC9B,YAAY,CAAC,OAA2B,EAAE,IAAwC;QAChF,MAAM,WAAW,GAAG,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC;QAC3C,OAAO,CAAC,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,OAAO,IAAI,WAAW,CAAC,CAAC,CAAC;IAC7F,CAAC;CACF;AAQM,MAAM,cAAc;IAazB,YAAoB,YAA0B,EAAU,MAAc,EAAU,SAAsB;QAAlF,iBAAY,GAAZ,YAAY,CAAc;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,cAAS,GAAT,SAAS,CAAa;QAVtG,cAAS,GAAG,KAAK,CAAC;QAClB,iBAAY,GAAG,EAAE,CAAC;QAClB,gBAAW,GAAG,KAAK,CAAC;QACb,kBAAa,GAAG,QAAQ,CAAC;QAGtB,oBAAe,GAA0B,IAAI,0DAAY,EAAE,CAAC;QAKpE,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,4CAA4C;QAC5C,qCAAqC;QACrC,qCAAqC;IACvC,CAAC;IAED,IAAI,OAAO;QACT,OAAO,6DAAO,CAAC;IACjB,CAAC;IAED,IAAI,mBAAmB;QACrB,OAAO,yEAAmB,CAAC;IAC7B,CAAC;IAGD,QAAQ;QACN,iCAAiC;QACjC,IAAI,CAAC,SAAS,GAAG,IAAI,wDAAS,CAAC;YAC7B,QAAQ,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAClD,QAAQ,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;SACnD,CAAC,CAAC;IACL,CAAC;IACD,IAAI,QAAQ,KAAK,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAEzD,KAAK;QACH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1C,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QACvC,IAAG,SAAS,CAAC,QAAQ,IAAI,EAAE,IAAI,SAAS,CAAC,QAAQ,IAAI,EAAE,EAAE;YACvD,IAAI,CAAC,QAAQ,CAAC,8BAA8B,CAAC,CAAC;YAAC,OAAO;SACvD;aAAM,IAAI,SAAS,CAAC,QAAQ,IAAI,EAAE,EAAE;YACnC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;YAAC,OAAO;SAC5C;aAAM,IAAI,SAAS,CAAC,QAAQ,IAAI,EAAE,EAAE;YACnC,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC;YAAC,OAAO;SAC/C;QACD,MAAM,IAAI,GAAG;YACX,QAAQ,EAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ;YACtC,QAAQ,EAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ;SACvC,CAAC;QACF,sDAAsD;QACtD,+BAA+B;QAC/B,8CAA8C;QAC9C,gCAAgC;QAChC,8CAA8C;QAC9C,mEAAmE;QACnE,gCAAgC;QAChC,mDAAmD;QACnD,8CAA8C;QAC9C,eAAe;QACf,kDAAkD;QAClD,QAAQ;QACR,OAAO;QACP,eAAe;QACf,8BAA8B;QAC9B,iDAAiD;QACjD,uCAAuC;QACvC,6BAA6B;QAC7B,oEAAoE;QACpE,aAAa;QACb,iCAAiC;QACjC,qDAAqD;QACrD,QAAQ;QACR,+CAA+C;QAC/C,MAAM;QACN,KAAK;QACL,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,kCAAkC,EAAE,iBAAiB,CAAC,CAAC;QACxF,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,6CAA6C;QAC7C,IAAG,IAAI,CAAC,QAAQ,KAAK,SAAS,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI;YACtD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;;YAErC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAAC,OAAO;IACvC,CAAC;IAEM,KAAK,CAAC,MAAM;QACjB,OAAO,CAAC,GAAG,CAAC,kBAAkB,MAAM,EAAE,CAAC,CAAC;QACxC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IAC3B,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,QAAQ,CAAC,KAAK,EAAE,QAAQ;QACtB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtB,IAAI,QAAQ,KAAK,UAAU,EAAE;YAC3B,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SAC5C;aAAM,IAAI,QAAQ,KAAK,UAAU,EAAE;YAClC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YAClC,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE;gBACxB,IAAI,CAAC,KAAK,EAAE,CAAC;aACd;SACF;IACH,CAAC;IAED,QAAQ,CAAC,OAAO,EAAE,MAAM,GAAG,IAAI,EAAE,QAAQ,GAAG,IAAI;QAC9C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAC,CAAC,CAAC;IAC5D,CAAC;;4EAhHU,cAAc;8FAAd,cAAc;;;;;;;;QCtB3B,0GACE;QAIF,2GACE;QA8CF,2GACE;;QArDG,+EAAiB;QAKjB,0DAAkB;QAAlB,gFAAkB;QA+ClB,0DAAkB;QAAlB,gFAAkB;;6FD9BV,cAAc;cAN1B,uDAAS;eAAC;gBACT,QAAQ,EAAE,WAAW;gBACrB,WAAW,EAAE,wBAAwB;gBACrC,SAAS,EAAE,CAAC,uBAAuB,CAAC;gBACpC,aAAa,EAAE,+DAAiB,CAAC,IAAI;aACtC;gQASU,SAAS;kBAAjB,mDAAK;YACI,eAAe;kBAAxB,oDAAM;YACiC,eAAe;kBAAtD,uDAAS;mBAAC,UAAU,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC;YACE,eAAe;kBAAtD,uDAAS;mBAAC,UAAU,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC","file":"default~views-pages-auth-auth-module~views-pages-hotel-hotel-module.js","sourcesContent":["import { Component, OnInit, NgModule, ViewEncapsulation, Input, Output, EventEmitter, ViewChild, ElementRef } from '@angular/core';\nimport {FormControl, FormGroupDirective, NgForm, Validators, FormGroup, FormsModule} from '@angular/forms';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { LoginService } from './login.service';\nimport { Router } from '@angular/router';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\nimport {getLogo, getTenantName, getTenantLoginLogos, getHotelsAPI} from '../../../../shared/tenant/tenant';\n\nexport class MyErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    const isSubmitted = form && form.submitted;\n    return !!(control && control.invalid && (control.dirty || control.touched || isSubmitted));\n  }\n}\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class LoginComponent implements OnInit {\n  matcher: MyErrorStateMatcher;\n  loginForm: FormGroup;\n  submitted = false;\n  errorMessage = '';\n  serverError = false;\n  public actionsLayout = 'normal';\n  public tenantName;\n  @Input() isLoading: boolean;\n  @Output() isLoadingChange: EventEmitter<boolean> = new EventEmitter();\n  @ViewChild('userCode', {static: false}) usercodeElement: ElementRef;\n  @ViewChild('password', {static: false}) passwordElement: ElementRef;\n\n  constructor(private loginService: LoginService, private router: Router, private _snackBar: MatSnackBar) {\n    this.isLoading = false;\n    // this.matcher = new MyErrorStateMatcher();\n    // this.tenantName = getTenantName();\n    // console.log(getTenantLoginLogos())\n  }\n\n  get getLogo() {\n    return getLogo;\n  }\n\n  get getTenantLoginLogos() {\n    return getTenantLoginLogos;\n  }\n\n\n  ngOnInit() {\n    // console.log('LoginComponent');\n    this.loginForm = new FormGroup({\n      userCode: new FormControl('', Validators.required),\n      password: new FormControl('', Validators.required)\n    });\n  }\n  get password() { return this.loginForm.get('password'); }\n\n  Login() {\n    this.submitted = true;\n    this.isLoading = true;\n    this.isLoadingChange.emit(this.isLoading);\n    const formValue = this.loginForm.value;\n    if(formValue.userCode == \"\" && formValue.password == \"\") {\n      this.snackBar(\"Email & Password is Required\"); return;\n    } else if (formValue.userCode == \"\") {\n      this.snackBar(\"Email is Required\"); return;\n    } else if (formValue.password == \"\") {\n      this.snackBar(\"Password is Required\"); return;\n    }\n    const user = {\n      username:this.loginForm.value.userCode,\n      password:this.loginForm.value.password\n    };\n    // this.loginService.login(user, 'hotelsApiEndpoint').\n    //   subscribe((data: any) => {\n    //     if(data.jwt != null && data.jwt != \"\"){\n    //       this.errorMessage = '';\n    //       // console.log(JSON.stringify(data));\n    //       this.loginService.setUserSession(data, \"hotelsTokenName\");\n    //       this.isLoading = false;\n    //       this.isLoadingChange.emit(this.isLoading);\n    //       this.router.navigateByUrl('/Hotels');\n    //     } else {\n    //       this.snackBar(\"Something Wrong Happend\");\n    //     }\n    //   },\n    //   error => {\n    //     this.isLoading = false;\n    //     this.isLoadingChange.emit(this.isLoading);\n    //     this.errorMessage = error.Error;\n    //     if(error.status!=500){\n    //       this.password.setErrors([{'password is incorrect': true}]);\n    //     }else{\n    //       this.serverError = true;\n    //       this.errorMessage ='Server is unavailable.';\n    //     }\n    //     this.snackBar(\"Server is unavailable.\");\n    //   }\n    // );\n    this.loginService.setUserSession('c8b129c2e8c53de7adc8e2d1ede8d5d3', \"hotelsTokenName\");\n    this.isLoading = false;\n    // this.isLoadingChange.emit(this.isLoading);\n    if(user.username === 'striano' && user.password !== null)\n      this.router.navigateByUrl('/Hotels');\n    else\n      this.snackBar(\"Incorrect\"); return;\n  }\n\n  public close(status) {\n    console.log(`Dialog result: ${status}`);\n    this.serverError = false;\n  }\n\n  public open() {\n    this.serverError = true;\n  }\n\n  keyEnter(event, formName) {\n    console.log(formName);\n    if (formName === 'userCode') {\n      this.passwordElement.nativeElement.focus();\n    } else if (formName === 'password') {\n      console.log(this.loginForm.valid);\n      if (this.loginForm.valid) {\n        this.Login();\n      }\n    }\n  }\n\n  snackBar(message, action = \"OK\", duration = 2000){\n    this._snackBar.open(message, \"OK\", { duration: duration});\n  }\n}\n","<div *ngIf=\"isLoading\" class=\"spinnerBg\">\r\n  <mat-spinner class=\"spinner\" [diameter]=\"30\"></mat-spinner>\r\n</div>\r\n\r\n<!--begin::Main-->\r\n<div *ngIf=\"!isLoading\" class=\"d-flex flex-column flex-root h-100\">\r\n  <!--begin::Login-->\r\n  <div class=\"login login-lr login-signin-on d-flex flex-row-fluid\" id=\"lr_login\">\r\n    <div class=\"d-flex flex-center bgi-size-cover bgi-no-repeat flex-row-fluid lr-login--bg\">\r\n      <div class=\"imgRight\"></div>\r\n      <div class=\"imgLeft\"></div>\r\n      <div class=\"login-form text-center text-white p-0 mb-10 position-relative overflow-hidden\">\r\n        <!--begin::Login Header-->\r\n        <div class=\"d-flex flex-center mb-12\">\r\n          <a routerLink=\"/Hotels\">\r\n            <!-- <img [src]=\"getLogo()\" class=\"max-h-100px max-w-450px\" style=\"height:65px;display: block; width: auto;\"> -->\r\n            <img src=\"assets/media/logoNew/t101-1.png\" class=\"max-h-100px max-w-450px\" style=\"display: block; width: auto;\">\r\n          </a>\r\n        </div>\r\n        <!--end::Login Header-->\r\n        <!--begin::Login Sign in form-->\r\n        <div class=\"login-signin\">\r\n          <div class=\"mb-15\">\r\n            <h3>Sign In</h3>\r\n            <p class=\"opacity-60 font-weight-bold\">Enter your details to login to your account</p>\r\n          </div>\r\n          <form class=\"lr-form\" id=\"lr_login_signin_form\">\r\n            <div class=\"form-group\">\r\n              <input #userCode matInput [formControl]=\"loginForm.get('userCode')\" class=\"form-control form-control2 rounded-pill\" type=\"text\" placeholder=\"Login\" name=\"email\" autocomplete=\"off\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <input #password matInput [formControl]=\"loginForm.get('password')\" class=\"form-control form-control2 rounded-pill\" type=\"password\" placeholder=\"Password\" name=\"password\">\r\n            </div>\r\n            <div class=\"form-group d-flex flex-wrap justify-content-end px-8\">\r\n              <div class=\"d-none checkbox-inline\">\r\n                <label class=\"checkbox checkbox-outline checkbox-white text-white m-0\">\r\n                <input type=\"checkbox\" name=\"remember\" />\r\n                <span></span>Remember me</label>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group text-center mt-5\">\r\n              <button (click)=\"Login()\" id=\"lr_login_signin_submit\" class=\"btn btn-pill btn-outline-white font-weight-bold opacity-90 px-15 py-3\">Sign In</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <!--end::Login Sign in form-->\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!--end::Login-->\r\n</div>\r\n<!--end::Main-->\r\n<div *ngIf=\"!isLoading\" class=\"footerFixed\">\r\n  <div class=\"d-flex justify-content-center mb-5\">\r\n    <img class=\"mr-5\" *ngIf=\"getTenantLoginLogos().includes('Linksrez')\" src=\"../../../../../assets/media/login_lrz.png\">\r\n    <!-- <img class=\"mr-6\" *ngIf=\"getTenantLoginLogos().includes('Opentravel')\" src=\"../../../../../assets/media/logoWhite2.svg\"> -->\r\n    <img class=\"mr-6\" *ngIf=\"getTenantLoginLogos().includes('AmericanAirlines')\" src=\"../../../../../assets/media/login_aa.png\">\r\n    <img class=\"mr-6\" *ngIf=\"getTenantLoginLogos().includes('Marriott')\" src=\"../../../../../assets/media/login_mr.png\">\r\n    <img class=\"mr-5\" *ngIf=\"getTenantLoginLogos().includes('AVIS')\" src=\"../../../../../assets/media/login_avis.png\">\r\n    <img class=\"mr-5\" *ngIf=\"getTenantLoginLogos().includes('IBM')\" src=\"../../../../../assets/media/login-ibm.png\">\r\n    <img class=\"mr-5\" *ngIf=\"getTenantLoginLogos().includes('RedHat')\" src=\"../../../../../assets/media/login_rh.png\">\r\n  </div>\r\n  <div class=\"d-flex justify-content-between bg-white-o-100 h-40px pl-10 pr-10 pt-2\">\r\n    <div class=\"text-light font-size-lg mr-10\">\r\n      <a href=\"#\" target=\"_blank\" class=\"text-light text-hover-primary\">powered by Travel 101 ©️</a>\r\n    </div>\r\n    <div class=\"d-none\">\r\n      <a href=\"#\" class=\"text-light\">Products</a>\r\n      <a href=\"#\" class=\"text-light ml-5\">Why us</a>\r\n      <a href=\"#\" class=\"text-light ml-5\">Get in touch</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"sourceRoot":"webpack:///"}